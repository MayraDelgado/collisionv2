(function(n,require,t){"use strict";function h(n,t){for(var r=t.split(" "),i=0;i<r.length;i++)r[i]&&ut(n,r[i])}function k(n,t){for(var r=t.split(" "),i=0;i<r.length;i++)r[i]&&ft(n,r[i])}function ot(n,t,i){i===!1||typeof i!="boolean"&&y(n,t)?k(n,t):h(n,t)}function d(n,t){for(var r=Object.keys(t),i=0;i<r.length;++i)n.style[r[i]]=t[r[i]]}function c(n,t,i){var f=et(n),u,r;if(t)for(u=Object.keys(t),r=0;r<u.length;++r)(b[u[r]]||b.default)(f,u[r],t[u[r]]);return i&&d(f,i),f}function st(n){for(var t=n.parentNode;t&&t!==e;)t=t.parentNode;return!!t}function ht(n){var r=[],t;if(typeof n=="string")for(i.innerHTML=n,t=i.children.length;t;)r.push(i.removeChild(i.children[0])),t--;return r}function ct(n){return n&&f({},n)}function g(n){return s(n,"none")}function nt(n){return u(n)!=="none"}function lt(n,t){t===!1||typeof t!="boolean"&&nt(n)?g(n):w(n)}function at(n,t){var i=n,r=i&&(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector);if(r)while(i&&i!==document.body){if(r.bind(i)(t))return i;i=i.parentNode}return null}function vt(n){for(var t=n.lastChild;t;)n.removeChild(t),t=n.lastChild}function yt(n){return typeof n=="object"&&n!==null&&Object.getOwnPropertyNames(n).length===0}function pt(n,t){for(n.appendChild(t);n.firstChild!==t&&n.firstChild;)t.appendChild(n.firstChild)}function wt(n){for(var t=n.parentNode;n.firstChild;)t.insertBefore(n.firstChild,n);t.removeChild(n)}function bt(n,t,i){var r=rt?{passive:!0,capture:!1}:!1;return n.addEventListener(t,i,r),function(){n.removeEventListener(t,i,r)}}function l(n,t){var i=document.createElementNS(v,"use");return i.setAttributeNS(tt,"href","#"+n),t&&(i.className.baseVal=t),i}function kt(n,t){return a(n,t)}function dt(n,t){return a(n,(t||"")+" geotabButtonIcons")}function gt(n,t){var i=c("svg",{"class":"svgIcon geotabButtonIcons "+(t?t:"")});return n.reduce(function(n,t){return n.appendChild(l(t.icon,t.className)),n},i)}var f,a;Object.defineProperty(t,"__esModule",{value:!0});var v="http://www.w3.org/2000/svg",tt="http://www.w3.org/1999/xlink",it={path:!0,circle:!0,svg:!0,use:!0,rect:!0,text:!0},e=document.body,i=document.createElement("DIV"),rt=function(){var n=document.createElement("DIV"),t=!1,i=function(){},r=Object.defineProperty({},"passive",{get:function(){t=!0}});try{n.addEventListener("mousewheel",i,r);n.removeEventListener("mousewheel",i,r)}catch(u){}return t}(),o=function(n){var t=typeof n.className=="string"?n:n.className,i=typeof n.className=="string"?"className":"baseVal";return{get:function(){return t[i]},set:function(n){t[i]=n}}},y=function(n,t){return n&&o(n).get().indexOf(t)!==-1},ut=function(n,t){if(n.classList)n.classList.add(t);else{var i=o(n);i.get().indexOf(t)<0&&i.set(i.get()+(i.get()?" ":"")+t)}},ft=function(n,t){if(n.classList)n.classList.remove(t);else{for(var u=o(n),r=u.get().split(" "),i=0;i<r.length;i++)if(t===r[i]){r.splice(i,1);break}u.set(r.join(" "))}},r=function(n){return Array.isArray(n)},p=function(n){return Object.prototype.toString.call(n).indexOf("Object")!==-1},et=function(n){return it.hasOwnProperty(n.toLowerCase())?document.createElementNS(v,n):document.createElement(n)},s=function(n,t){return n.style.display=t,n},u=function(n){var t;return n.currentStyle?n.currentStyle.display:window.getComputedStyle?(t=window.getComputedStyle(n),t.getPropertyValue("display")):void 0},w=function(n){var r,t,i;return u(n)!=="none"?n:(s(n,""),u(n)==="none"&&(r=n.nodeName,t=document.createElement(r),e.appendChild(t),i=u(t),i==="none"&&(i="block"),e.removeChild(t),s(n,i)),n)},b={"class":function(n,t,i){h(n,i)},value:function(n,t,i){n.value=i},"default":function(n,t,i){n.setAttribute(t,i)}};t.hasClass=y;t.isArray=r;t.show=w;t.addClasses=h;t.removeClasses=k;t.toggleClasses=ot;t.css=d;t.create=c;t.isElementInDOM=st;t.textToHTML=ht;f=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var a=e.length,h,t,o,l=!1,u,i=e[0],c=1,n;for(typeof i=="boolean"&&(l=i,i=e[1],c++);c!==a;){for(h=e[c],t=Object.keys(h),n=0;n<t.length;n++)o=h[t[n]],l&&(p(o)||r(o))?(u=i[t[n]],u=i[t[n]]=p(u)||r(u)?u:r(o)?[]:{},f(l,u,o)):i[t[n]]=h[t[n]];c++}return i};t.extend=f;t.clone=ct;t.hide=g;t.isVisible=nt;t.toggle=lt;t.closest=at;t.empty=vt;t.isEmptyObject=yt;t.wrapInner=pt;t.unwrap=wt;t.addPassiveListener=bt;t.createUse=l;a=function(n,t){var i=c("svg",{"class":"svgIcon "+(t?t:"")});return i.appendChild(l(n)),i};t.createPureIcon=kt;t.createIcon=dt;t.createMultipleIcons=gt;n.declare("geotab.vanillaExtension");n.vanillaExtension.vanilla=n.commonjs.require("geotab.vanillaExtension.vanilla")})(geotab,geotab.commonjs.generateRequire("geotab.vanillaExtension.vanilla"),geotab.commonjs.generateExport("geotab.vanillaExtension.vanilla"));self.geotab && geotab.declare("geotab.vanillaExtension.vanilla");
(function(n,require,t){"use strict";function tt(n){return String(n||"").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function it(n){return String(n||"").replace(/(&amp;)/g,"&").replace(/(&quot;)/g,'"').replace(/(&#39;)/g,"'").replace(/(&apos;)/g,"'").replace(/(&lt;)/g,"<").replace(/(&gt;)/g,">")}function l(n,t,i){var r;if(typeof n!="object"||typeof t!="object")return n===t;for(r in n)if(n.hasOwnProperty(r)&&t[r]===undefined)return!1;for(r in n)if(n.hasOwnProperty(r)){if(i&&i.hasOwnProperty(r)){if(!i[r](n[r],t[r]))return!1;continue}if(n[r])switch(typeof n[r]){case"object":if(!l(n[r],t[r],i))return!1;break;case"function":if(typeof t[r]!="function"||n[r].toString()!==t[r].toString())return!1;break;default:if(n[r]!==t[r])return!1}else if(t[r])return!1}for(r in t)if(t.hasOwnProperty(r)&&n[r]===undefined)return!1;return!0}function rt(n,t){var i=function(n){return n.id||n};return(n||[]).map(i).sort().join("")===(t||[]).map(i).sort().join("")}function ut(n){var t=n.pageX,i=n.pageY;return t||i||!(n.clientX||n.clientY)||(t=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=n.clientY+document.body.scrollTop+document.documentElement.scrollTop),{left:t,top:i}}function ft(n){for(var i={},t=0;t<n.length;t++)i[t]=n[t];return i}function et(t,i){return!t||!i?!1:n.json.stringify(t)===n.json.stringify(i)}function r(n,t,i){return typeof n=="object"?r(n.r,n.g,n.b):"#"+[n,t,i].map(function(n){var t=(n||0).toString(16);return t.length<2?"0"+t:t}).join("")}function a(n){return n.replace("#","").replace(/^(.)(.)(.)$/,"$1$1$2$2$3$3")}function v(n){return e.test(n)}function y(n){var t;if(/^#?[0-9a-f]{3,6}$/i.test(n))return i(n);if(e.test(n))return t=n.match(e)||[],t.slice(1).map(function(n){return+n});throw new Error("Unknown color format: "+n);}function ot(n,t,u){var f=function(n,t,i){for(var u=[],r=0;r<n.length;r++)u[r]=Math.round(n[r]+i*(t[r]-n[r]));return u},e=i(n),o=i(t);return r.apply(window,f(e,o,u))}function st(n){var t=i(n),u=Math.round(t[0]*.21+t[1]*.72+t[2]*.07);return r(u,u,u)}function i(n){var i=a(n),t=function(n){return parseInt(i.slice(n,n+2),16)};return[t(0),t(2),t(4)]}function ht(n,t){var i,u,e,r,f;for(t===void 0&&(t=0),i=p(n||"fff").replace(/[^0-9a-f]/gi,""),i.length<6&&(i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]),u="#",r=0;r<3;r++)e=parseInt(i.substr(r*2,2),16),f=Math.round(Math.min(Math.max(0,e+255*t),255)).toString(16),u+=("00"+f).substr(f.length);return u}function o(n){var t=i(n);return(299*t[0]+587*t[1]+114*t[2])/1e3}function s(n,t){return Math.abs(o(n)-o(t))}function ct(n,t){var r=i(n),u=i(t);return[0,1,2].reduce(function(n,t){return Math.abs(r[t]-u[t])+n},0)}function lt(n,t){var i=t;return i&&i.length||(i=["#FFFFFF","#000000","#CCCCCC","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF"]),i.reduce(function(t,i){var r=s(n,i);return r>t.contrast?{contrast:s(n,i),color:i}:t},{contrast:0,color:"#FFFFFF"}).color}function at(n){return n.split(",").reduce(function(n,t){var i=t.trim(),r,u;return i&&(r=!/\sdesc$/i.test(i),u=i.replace(/\s.*$/i,""),n.push(function(t){var i=w(u,r);return function(r,u){return i(r,u)||(n.length>t+1?n[t+1](r,u):0)}}(n.length))),n},[])[0]}function w(n,i,r){var u=i===undefined?!0:!!i,f=u?1:-1,e=u?-1:1,h=n.split("."),c=typeof r=="undefined"?!0:!!r,o=function(n){var t=n;return h.forEach(function(n){t=t[n]}),t},s=c?function(n){return typeof n=="string"?n.toLowerCase():n}:t.echo;return function(n,t){var i=s(o(n)),r=s(o(t));return i>r?f:i<r?e:i!==r?i?e:f:0}}function vt(n,t){return!n||n.distance>t.distance?t:n}function yt(n,t,i,r){return(n&&n.andAlso||t&&t.call).call(n||t,i,r)}function pt(n,t,i){for(var f=[],r=n,u=n+t;r<u;r+=1)f=f.concat(i.splice(r,1)[0]),r-=1,u-=1;return i.splice(n,0,f),i}function wt(i,r){var u=r.match(/<script[^>]*>\s*<\/script>/igm),f=[];return i.innerHTML=r.replace(/<script[^>]*>([\s\S]*)<\/script>/igm,""),u&&u.forEach(function(i){var r=/src=['"]?([^'"]+)['"]?/ig.exec(i);r&&r.length>1&&(n.loadScript(r[1],t.NOOP,t.NOOP),f.push(r[1]))}),f}function bt(t){var u=n.getGlobalObject().document,f=u.createDocumentFragment(),i=u.createElement("div"),r;for(i.innerHTML=t.trim(),r=i.childNodes.length;r;)f.appendChild(i.removeChild(i.childNodes[0])),r-=1;return f}function kt(n,t,i,r){var e=n.toLocalDateTime(new Date(t)),f=n.toLocalDateTime(new Date(t)),o=+r,u={hour:function(n,t){n.setHours(t,0,0,0)},day:function(n,t){n.setDate(t);u.hour(n,0)},month:function(n,t){n.setMonth(t);u.day(n,1)},year:function(n,t){n.setYear(t);u.month(n,0)}};if(!(i in u))throw new Error("Unknown period: "+i+". Allowed periods are: "+Object.keys(u).join());return u[i](e,o),u[i](f,o+1),f.setTime(f.valueOf()-1e3),{startDate:n.toReverseOffsetDateTime(e).toISOString(),endDate:n.toReverseOffsetDateTime(f).toISOString()}}function dt(n,t){var i=function(n){var i=new Date(n).getTime(),t,r,u=864e5;return isNaN(i)?(t=new Date,r=new Date(t.getTime()-u)):(t=new Date(i+6e4),r=new Date(i-u)),{endDate:t.toISOString(),startDate:r.toISOString()}};return{devices:[n],lastHistoryTrip:!0,dateRange:i(t),templateId:undefined}}function gt(n,t){return{trip:{start:t[0].dateTime,stop:t[t.length-1].dateTime},vehicle:n}}function b(n){return(n||[]).reduce(function(n,t){return n.concat(t)},[])}function ni(n){return h(n,t.echo)}function k(n){return h(n,function(n){return n.id})}function ti(n){return n.length&&Array.isArray(n[0])?k(b(n)):n}function ii(n){return(n||[]).map(function(n){var t=n&&typeof n=="object"?n:{};return nt.extend({},t)})}function ri(n){return n&&n.length===1&&n[0].id==="GroupCompanyId"}function ui(n){return Object.keys(n).map(function(t){return n[t]})}function fi(n){return(n||"").replace(/\.[^.]+$/g,"")}function ei(n){return window.matchMedia("(min-width: "+n+"px)").matches}function oi(n){return Date.parse(n)}function si(n){try{return new Date(n).toISOString()}catch(t){throw t;}}function hi(n,t){n===void 0&&(n=0);t===void 0&&(t=0);var r=n+t,i=t?Math.round(t/r*100)||1:0;return{valueAPercent:100-i,valueBPercent:i}}function ci(n){return(n||[]).reduce(function(n,t){return n[t.id||t]=t,n},{})}function li(n){return(n||[]).reduce(function(n,t){return n[t.id||t]=!0,n},{})}function ai(n){var i=function(n,t){return n?n.toString().toLowerCase().indexOf(t)>-1:!1},u=function(n,t){return(n&&n.name?i(n.name,t):!1)||(n&&n.firstName?i(n.firstName,t):!1)||(n&&n.lastName?i(n.lastName,t):!1)},f=function(n,t){return n&&n.name?i(n.name,t):!1},r={user:u,driver:u,trailer:f,device:f,def:i},e="or",l="and",o=function(n){var u=function(n){var t=typeof n=="string"?n:n.name||null,u=t?r[t]||r.def:n.searcher,i=n.alias||t;return i?{prop:t,alias:i.toLowerCase()+":",searcher:u}:null},i=(n||[]).map(u).filter(t.echo),f=function(n){for(var u=i.length-1,f=[],t;u>-1;--u)n.indexOf(i[u].alias)===0&&(t=i[u],t&&f.push({value:n.substring(t.alias.length,n.length).trim(),prop:t.prop,searcher:t.searcher}));return f.length||f.push({value:n,prop:"name",searcher:r.def}),f};return{isPattern:function(n){return i.length&&i.some(function(t){return n.indexOf(t.alias)>-1})},parse:function(n){return[{logic:e,conditions:n.split("||").map(function(n){return{logic:l,conditions:n.trim().split("&&").map(function(n){var t=f(n.trim());return t.length>1?{logic:e,conditions:t}:t[0]})}})}]}}}(n),s=function(n,t,i){return{value:n,prop:t,searcher:i}},a=(n||["name"]).map(function(n){var t=typeof n=="string"?n:n.name||null,i=(t?n.searcher||r[t]:n.searcher)||r.def;return s(null,t,i)}),v=function(n,t){var r=t.prop?n[t.prop]:n,i=t.value;return i?t.searcher(r,i):!1},h=function(n){return function(t,i){for(var r,f=!1,u=0;u<i.length;++u)if(r=i[u],f=r.logic?c[r.logic](t,r.conditions):v(t,r),n===f)break;return f}},c={or:h(!0),and:h(!1)};return function(n,t){var i,u=n||[],f=[],h,r=(t||"").toLowerCase(),e;if(r)for(h=o.isPattern(r)?o.parse(r):a.map(function(n){return s(r,n.prop,n.searcher)}),i=0;i<u.length;++i)e=u[i],c.or(e,h)&&f.push(e);else f=u.slice();return f}}function vi(){var n=function(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)};return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}function yi(n,t){var r=t?0:1,i=new Date(n),u=i.getUTCHours()*36e5,f=i.getUTCMinutes()*6e4;return new Date(i.setUTCDate(i.getUTCDate()+r)-u-f)}function pi(n){return n.then&&n.catch&&!n.done&&!n.fail}function wi(n){return n.diagnosticType==="ObdFault"||n.diagnosticType==="GoFault"}function bi(n,t){t===void 0&&(t=400);var i;return function(){for(var f=this,u=[],r=0;r<arguments.length;r++)u[r]=arguments[r];i&&clearTimeout(i);i=setTimeout(function(){n.apply(f,u)},t)}}function ki(){return"id"+Math.random().toString().substr(2)}function di(n){var t=new RegExp("^(.*)(localhost|127\\.0\\.0\\.1|192\\.168\\.(.*)|10\\.(.*)).*$");return!!t.test(n)}function gi(n,t){return!!(n&&n.indexOf(t)===-1)}function nr(n,t){return function(){var i;return function(){for(var u=[],r=0;r<arguments.length;r++)u[r]=arguments[r];return i&&clearTimeout(i),i=setTimeout(function(){i=null;n.apply(null,u)},t)}}()}function tr(n){var t=(n||"").search(/sessionid/ig),i,r;return t>=0?(i=n.substring(t),r=i.indexOf(","),n.substring(0,t)+(r>=0?i.substring(r+1):"")):n}function ir(n){var t={prefix:"",prefixNumber:"",domain:"",zone:""},u=function(n){var i=t,r,u,f;return n.length>1&&(r=n.pop(),u=n.pop(),isNaN(+r)&&isNaN(+u)&&(i.zone=r,i.domain=u,f=n.pop()||"",i.prefixNumber=(f.match(/\d+$/i)||[""]).shift(),i.prefix=f.replace(i.prefixNumber,""))),i},i=n.indexOf("."),r=n.indexOf(":"),f=r!==-1&&(i===-1||i>r);return f?t:u(n.split("."))}function rr(n,t){var r,u,i="",f=function(n){return n.type&&n.urls.length},e=function(n){return o(n).every(function(n){return n.trim().search(d)===0})},o=function(n){return typeof n.urls=="string"?[n.urls]:n.urls};try{u=JSON.parse(t).filter(f).filter(e);u.length?(r=JSON.parse(n),r&&r.invalid&&(i="old")):i="empty"}catch(s){i="json"}return{reason:i,isValid:!i}}function ur(n){return!!(n&&n.productId===116)}function u(n){return n.hasOwnProperty("userAuthenticationType")&&n.userAuthenticationType==="MyAdmin"}function cr(n){var i=n&&er(n);return n&&i&&u(n)?sr(n)?t.echo:hr(n)?function(n){return!u(n)||!f(n,g)}:fr("@"+i):function(n){return!u(n)}}var p,h,d;Object.defineProperty(t,"__esModule",{value:!0});var nt=require("./vanillaExtension/vanilla"),e=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([0,1]?\.?\d*)?\)/i,c=function(t){return function(i,r){return i.reduce(function(i,u){var f=n.provide(r,u),e=t?f.id:f,o=i[e]||(i[e]={key:f,items:[]});return o.items.push(u),i},{})}};t.htmlEscape=tt;t.unescape=it;t.compareElements=l;t.compareGroups=rt;t.getMouseClickCoordinates=ut;t.arrayToObject=ft;t.objectsAreEqual=et;t.rgbToHex=r;t.normalizeHexColor=a;t.isRGBA=v;t.customToRGBArray=y;t.getColorBetween=ot;t.hexToGrayScale=st;t.hexToRGBArray=i;p=function(n){return v(n)?r.apply(window,y(n).splice(0,3)):n};t.lightenDarkenColor=ht;t.colorBrightness=o;t.colorBrightnessDifference=s;t.colorDifference=ct;t.pickBestContrast=lt;t.getSortByPropertiesArrayCallback=at;t.getSortByPropertyArrayCallback=w;t.getClosestPoint=vt;t.delay=function(){var n=0;return function(t,i){clearTimeout(n);n=setTimeout(t,i)}}();t.callBuilder=yt;t.concatenateMultiResults=pt;t.injectHTML=wt;t.toDocumentFragment=bt;t.groupByEntity=c(!0);t.groupByProperty=c(!1);t.getLocalizedPeriod=kt;t.getLastTripRequestParams=dt;t.getTripData=gt;t.flattenArrays=b;h=function(n,t){return(n||[]).reduce(function(n,i){var r=t(i);return n.hash[r]||(n.hash[r]=!0,n.arr.push(i)),n},{hash:{},arr:[]}).arr};t.unique=ni;t.uniqueById=k;t.joinArrays=ti;t.cloneArray=ii;t.isEntireOrganization=ri;t.hashToArray=ui;t.getFileNameWithoutExtension=fi;t.isBodyWidthBiggerThan=ei;t.isoToMS=oi;t.msToISO=si;t.calculateHumanizedPercents=hi;t.makeHash=ci;t.makeBoolHash=li;t.localSearch=ai;t.guid=vi;t.expandDate=yi;t.isNativePromise=pi;t.isFaultDiagnostic=wi;t.debounce=bi;t.generateId=ki;t.isLocalUrl=di;t.isExternalReferrer=gi;t.multiplex=nr;t.NOOP=function(){};t.echo=function(n){return n};t.isObject=function(n){return n!==null&&typeof n=="object"&&Array.isArray(n)===!1};t.clearUrlFromPrivateInfo=tr;t.parseVendorHost=ir;d=/https?:\/\/[^\s/$.?#].[^\s]*$/gi;t.isCustomMapValid=rr;t.isNoGPSDevice=ur;t.isMyAdminUser=u;var g="@geotab.com",f=function(n,t){var i=n.name||"";return i.toLowerCase().indexOf(t)!==-1},fr=function(n){return function(t){return!u(t)||f(t,n)}},er=function(n){return(n.name||"").split("@")[1]},or=["@t-mobile","@assurant"],sr=function(n){return f(n,g)},hr=function(n){return or.some(function(t){return f(n,t)})};t.filterUsersFn=cr;n.utils=n.commonjs.require("geotab.utils")})(geotab,geotab.commonjs.generateRequire("geotab.utils"),geotab.commonjs.generateExport("geotab.utils"));self.geotab && geotab.declare("geotab.utils");
(function(n,require,t){"use strict";function s(n){var u=0,i=n.match(y),t,r;if(i)for(t=1;t<i.length;t++)r=i[t],r&&(u+=+r*a[t-1]);return u}function v(n){return typeof n=="object"&&n.hasOwnProperty("getAllDays")&&n.hasOwnProperty("add")&&n.hasOwnProperty("getAllMilliseconds")&&n.hasOwnProperty("isEmpty")}function h(n){return!n||n==="00:00:00"||n==="00:00:00.000"||n.getAllMilliseconds&&n.getAllMilliseconds()===0}function i(n){var v=n?o(n):0,s=function(n){return function(){var i=t(n)(),r=l[n];return r!==1?i%r:i}},t=function(n){return function(){return Math.floor(v/(a[n]||1))}},y;return y={isEmpty:function(){return h(this)},toString:function(n){return p(this,!!n)},getMilliseconds:s(r),getSeconds:s(u),getMinutes:s(f),getHours:s(e),getDays:s(c),getAllMilliseconds:t(r),getAllSeconds:t(u),getAllMinutes:t(f),getAllHours:t(e),getAllDays:t(c),add:function(n){return i(this.getAllMilliseconds()+o(n))},negate:function(){return i(-v)},substract:function(n){return i(n).negate().add(y)},addToDate:function(n){var t=new Date(n.getTime());return t.setMilliseconds(t.getMilliseconds()+v),t},valueOf:function(){return this.getAllMilliseconds()}}}Object.defineProperty(t,"__esModule",{value:!0});var y=/(\d+\.)?(\d{2}):(\d{2}):(\d{2})\.?(\d{3})?/,r=4,u=r-1,f=u-1,e=f-1,c=e-1,l=[1,24,60,60,1e3],a=l.concat(1).reverse().reduce(function(n,t,i){return n.unshift((n[n.length-i]||1)*t),n},[]).slice(1),p=function(n,t){var r=n.getDays(),i,u=(r?r.toString()+".":"")+[n.getHours(),n.getMinutes(),n.getSeconds()].map(function(n){return(n<10?"0":"")+n.toString()}).join(":");return t||(i="00"+n.getMilliseconds(),i=i.slice(i.length-3),u+="."+i),u},o=function(n){switch(typeof n){case"string":return s(n);case"object":return n.hasOwnProperty("getAllMilliseconds")?n.getAllMilliseconds():o(n.toString());case"number":return n;default:return 0}};t.toAllMilliseconds=s;t.isTimespan=v;t.isEmpty=h;t.default=i;n.declare("geotab.checkmate");n.checkmate.timespan=function(n){return i(n)};n.checkmate.timespan.isEmpty=h;n.checkmate.timespan.isTimespan=v;n.checkmate.timespan.getAllMilliseconds=s})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.timespan"),geotab.commonjs.generateExport("geotab.checkmate.timespan"));self.geotab && geotab.declare("geotab.checkmate.timespan");
(function(n,require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});window.Promise&&!n.isPromiseTest?(n.promise=function(n){return new Promise(n)},n.promise.all=function(n){return Promise.all(n)},n.promise.race=function(n){return Promise.race(n)},n.promise.resolve=function(n){return Promise.resolve(n)},n.promise.reject=function(n){return Promise.reject(n)}):(n.promise=function(t){var u="pending",f="fulfilled",i=u,e,r=[],s=function(n){return function(t){var s;if(i===u)if(n===f&&c(t))t.then(h,o);else if(e=t,i=n,r)for(s=0;s<r.length;s++)l(r[s])}},h=s(f),o=s("rejected"),c=function(n){return n&&typeof n.then=="function"},l=function(n){if(i===u)r.push(n);else{var o,t,h=i===f,s=!1;h?o=n.onResolved:(o=n.onRejected,s=!o);try{t=o?o(e):e}catch(l){t=l;s=!0}c(t)?t.then(function(t){return n.resolve(t),t},function(t){return n.reject(t),t}):s?n.reject(t):n.resolve(t)}},a=function(t,i){return n.promise(function(n,r){window.setTimeout(function(){l({onResolved:t||null,onRejected:i||null,resolve:n,reject:r})},1)})},v=function(n){return a(null,n)};if(typeof t=="function")try{t(h,o)}catch(y){o(y)}else throw new TypeError("Promise resolver "+t+" is not a function");return{"catch":v,then:a}},n.promise.all=function(t){return n.promise(function(i,r){var f=0,u=[],e=!1,s=function(t){return t&&typeof t.then=="function"?t:n.promise.resolve(t)},o=t.length;o?t.map(s).forEach(function(n,t){u[t]=undefined;n.then(function(n){e||(f++,u[t]=n,f===o&&i(u))},function(n){f++;r(n);e=!0})}):i(u)})},n.promise.race=function(t){return n.promise(function(n,i){t.forEach(function(t){t.then(function(t){n(t)},function(n){i(n)})})})},n.promise.resolve=function(t){return n.promise(function(n){n(t)})},n.promise.reject=function(t){return n.promise(function(n,i){i(t)})});Object.freeze(n.promise);t.default=n.promise})(geotab,geotab.commonjs.generateRequire("geotab.promise"),geotab.commonjs.generateExport("geotab.promise"));self.geotab && geotab.declare("geotab.promise");
(function(n,require,t){"use strict";var i=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),r,u,f,e,o,s;Object.defineProperty(t,"__esModule",{value:!0});r=function(n){function t(t){var i=n.call(this,t)||this;return i.isHandled=!1,i}return i(t,n),t}(Error);t.CustomException=r;u=function(n){function t(){var t=n.call(this,"Aborted.")||this;return t.isAborted=!0,t}return i(t,n),t}(Error);t.AbortException=u;f=function(n){function t(){var t=n.call(this,"The browser is running out of memory")||this;return t.isOutOfMemory=!0,t}return i(t,n),t}(r);t.OutOfMemory=f;e=function(n){function t(t){var i=n.call(this,t+" not supported")||this;return i.isNotSupported=!0,i}return i(t,n),t}(r);t.NotSupported=e;o=function(n){function t(t){var i=n.call(this,t+" not supported")||this;return i.isSevere=!1,i}return i(t,n),t}(r);t.NotSevereError=o;s=function(n){function t(t){var i=n.call(this,(t||"Operation")+" is failed due to timeout")||this;return i.isTimeout=!0,i}return i(t,n),t}(r);t.TimeoutException=s})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.exceptions.commonExceptions"),geotab.commonjs.generateExport("geotab.checkmate.exceptions.commonExceptions"));self.geotab && geotab.declare("geotab.checkmate.exceptions.commonExceptions");
(function(n,require,t){"use strict";function f(n){return!!n&&typeof n=="object"&&n.hasOwnProperty("done")&&n.hasOwnProperty("fail")}function h(n){return n.state()!=="pending"}function c(n){return n.state()==="rejected"}function i(n){var t=r();return f(n)?n.done(t.resolve).fail(t.reject):n&&typeof n.then=="function"&&typeof n["catch"]=="function"?n.then(t.resolve,t.reject):t.resolve(n),t.promise()}function r(){var i,r,u=n.promise(function(n,t){r=n;i=t}),t=function(n){var u,s="resolved",h="rejected",o="pending",f;return n.then(function(n){return o=s,n},function(n){o=h;throw n;}),u={resolve:function(n){return r(n),u},reject:function(n){return i(n),u},then:function(i,r){return t(n.then(i,r)).promise()},"catch":function(i){return t(n.catch(i)).promise()},done:function(t){return n.then(t),u},fail:function(t){return n.catch(t),u},always:function(t){return n.then(t,t),u},promise:function(){return f||(f=e.extend({},u),delete f.reject,delete f.resolve),f},state:function(){return o}}};return t(u)}function l(n){return function(r){return t.together(r.map(n).map(i))}}function a(n){return function(t){var u=r();try{return t.forEach(n),u.resolve(i(t))}catch(f){return u.reject(f)}}}function v(n){return function(r){return t.together(r.filter(n).map(i))}}function y(n,r){return function(u){var f=u.reduce(n,r);return Array.isArray(f)?t.together(f.map(i)):i(f)}}function p(n){var t=r();return setTimeout(t.resolve,n),t}function w(t){var i,r=t||function(n){n(undefined)},u=n.promise(function(n,t){i=t;r(n,t)});return e.extend(u,{abort:function(){i(new s.AbortException)}})}var e,s,u,o;Object.defineProperty(t,"__esModule",{value:!0});require("../promise");e=require("../vanillaExtension/vanilla");s=require("./exceptions/commonExceptions");t.isPromise=f;t.isDone=h;t.isRejected=c;t.promisify=i;t.Deferred=r;t.together=function(n){var t=function(n){var t=r(),u=n.length,i=[],f=function(){u===0&&t&&(i&&t.resolve(i),i=null)};return n.reduce(function(n,i,r){return n[r]=i,i.done(function(t){n[r]=t}),i.fail(function(n){t.reject(n)}),i.always(function(){u--;f()}),n},i),f(),t.promise()},u=function(n){return f(n)?n:i(n)};return n.length?t(n.map(u)):i([])};t.asyncMap=l;t.asyncForEach=a;t.asyncFilter=v;t.asyncReduce=y;t.sleep=p;t.abortable=w;u=function(t,i){var e="pending",r,f=n.promise(function(n,r){i?n(t):r(t)});return t&&typeof t.then=="function"?t.then(function(n){return e="resolved",n},function(n){e="rejected";throw n;}):e=i?"resolved":"rejected",r={then:function(n,t){return u(f.then(n,t),!0)},"catch":function(n){return u(f.catch(n),!0)},done:function(n){return f.then(n),r},fail:function(n){return f.catch(n),r},always:function(n){return f.then(n,n),r},promise:function(){return r},state:function(){return e}}};t.resolve=function(n){return u(n,!0)};t.reject=function(n){return u(n,!1)};o=function(n){var t=r(),i;return function(){return i=i||(n?t.resolve(undefined):t.reject(new Error("Artificially rejected promise")))}};t.resolved=o(!0);t.failed=o(!1);t.rejected=t.failed;n.declare("geotab.checkmate");n.checkmate.deferred=r;n.checkmate.deferred.asyncMap=l;n.checkmate.deferred.asyncFilter=v;n.checkmate.deferred.asyncReduce=y;n.checkmate.deferred.asyncForEach=a;n.checkmate.deferred.together=t.together;n.checkmate.deferred.isDone=h;n.checkmate.deferred.isRejected=c;n.checkmate.deferred.sleep=p;n.checkmate.deferred.abortable=w;n.checkmate.deferred.isPromise=f;n.checkmate.deferred.promisify=i;n.checkmate.deferred.resolved=t.resolved;n.checkmate.deferred.resolve=t.resolve;n.checkmate.deferred.failed=t.failed;n.checkmate.deferred.rejected=t.failed;n.checkmate.deferred.reject=t.reject})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.deferred"),geotab.commonjs.generateExport("geotab.checkmate.deferred"));self.geotab && geotab.declare("geotab.checkmate.deferred");
(function(n,require,t){"use strict";function i(n,t){return t===null?-1:[].indexOf.call(t,n)}function r(){var u,r,n,t=[],f=function(i){for(n=0,r=t.length,u=!0;n<r;n++)t[n].apply(i[0],i[1]);u=!1};return{add:function(){return function n(i){[].forEach.call(i,function(i){var r=typeof i;r==="function"?t.push(i):i&&i.length&&r!=="string"&&n(i)})}(arguments),this},remove:function(){return[].forEach.call(arguments,function(f){for(var e;(e=i(f,t))>-1;)t.splice(e,1),u&&(e<=r&&r--,e<=n&&n--)}),this},fire:function(){return f([this,arguments]),this}}}Object.defineProperty(t,"__esModule",{value:!0});t.default=r})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.callbacks"),geotab.commonjs.generateExport("geotab.checkmate.callbacks"));self.geotab && geotab.declare("geotab.checkmate.callbacks");
(function(n,require,t){"use strict";function u(){var t,u={},n=function(n){var t=function(t){var i=u[t];i||(i=u[t]=r.default());i[n].apply(this,[].slice.call(arguments,1))},i=/\W+/g;return function(n){for(var u=(n||"").replace(i,",").split(","),f=Array.prototype.slice.call(arguments,1),r=0;r<u.length;r++)t.apply(this,[u[r]].concat(f));return this}};return t={bind:n("add"),unbind:n("remove"),trigger:n("fire"),passive:function(){var n=i.extend({},t);return delete n.trigger,delete n.promise,n}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../vanillaExtension/vanilla"),r=require("./callbacks");t.Events=u})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.events"),geotab.commonjs.generateExport("geotab.checkmate.events"));self.geotab && geotab.declare("geotab.checkmate.events");
(function(n,require,t){"use strict";function l(n){return n?i("Resolved task").resolve(n):u()}var o,s,i,u;Object.defineProperty(t,"__esModule",{value:!0});var f=require("./deferred"),h=require("../vanillaExtension/vanilla"),r=require("../utils"),c=require("./events"),e=function(n){return n&&typeof n=="object"&&["abort","andThen","isSuspended","resolve","done"].every(function(t){return n.hasOwnProperty(t)})};t.isTask=e;o=function(n){return n&&typeof n=="object"&&["andThen","isSuspended","done","fail"].every(function(t){return n.hasOwnProperty(t)})};t.isTaskPromise=o;s=function(n){var t,r=function(n){t.reject(typeof n=="string"?{message:n}:n)},u=function(n){t.resolve(n)};return e(n)?t=n:(t=i("Decorated promise"+(n.getName?" for "+n.getName():"")),o(n)?n.done(u).fail(r):n.then(u,r)),t};t.toTask=s;i=function(t,u,o){var a=f.Deferred(),tt=function(n){var t=o?o(n):n;throw t||n;},l=!1,v=!1,b="resolve",it="reject",k=function(t){var i=t?b:it;return function(){var t=rt(i),r=this;return v=!0,l?g.done(n.bind(r,t,arguments)):t.apply(r,arguments),this}},rt=function(n){var t=this;return function(){d=new Date;this.suspend=r.NOOP;this.resume=r.NOOP;v=!0;l=!1;s.trigger("end",s.promise(),n===b);a[n].apply(t,arguments)}},ut=r.generateId(),ft=new Date,d,g=f.Deferred(),s,et=c.Events(),nt=function(n){return n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+"."+n.getMilliseconds()},y=i.history||[],p=function(n){return function(){return a[n].apply(a,arguments),this}},w;return a.then(u,tt),n.DEBUG&&a.then(function(n){return console.log(s.toString()),n},function(n){console.warn(s.toString());throw n;}),s=h.extend({},et,{getName:function(){return t},setName:function(n){t=n},suspend:function(){l||(l=!0,s.trigger("suspend",s.promise()))},resume:function(){l&&(l=!1,s.trigger("resume",s.promise()));v&&setTimeout(function(){g.resolve(null)},1)},isDone:function(){return!l&&v},isSuspended:function(){return l},resolve:k(!0),reject:k(!1),done:p("done"),fail:p("fail"),always:p("always"),toString:function(){var n=v?(a.state()==="resolved"?"succeeded":"failed")+": "+nt(d):l?"suspended"+(v?"(pending finalizers)":""):"in progress";return ut+": "+t+", started: "+nt(ft)+", "+n},promise:function(){var n=h.extend({},this);return delete n.resolve,delete n.reject,delete n.abort,n.promise=function(){return n},this.promise=n.promise,n},abort:function(){this.isDone()||this.reject({isAborted:!0,message:"Task aborted"})},andThen:function(n){var l=this,s=this.getName(),h=" => ",u=s+h+"@anonymous",t=i(u),r,c=function(n){return function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];setTimeout(function(){n.apply(l,i)},1)}},o=this;return this.done(c(function(){try{r=typeof n=="function"?n.apply(this,arguments):n}catch(i){t.reject(i)}finally{o=null}e(r)||f.isPromise(r)?(r.done(t.resolve),r.fail(t.reject),r.getName&&(u=r.getName(),u&&t.setName(s+h+u))):r!==undefined?t.resolve(r):t.resolve.apply(t,arguments)})),this.fail(c(t.reject),t),t.abort=function(n){return function(){n.apply(t,[]);r&&r.abort&&r.abort();o&&o.abort&&o.abort()}}(t.abort),t}}),["done","fail","resolve","reject","suspend","resume"].forEach(function(t){s[t]=n.bind(s,s[t])}),y.length>=70&&y.shift(),w=s.toString(),y.push(w),s.always(function(n,t){return function(){setTimeout(function(){var r=t||[],i=n?r.indexOf(w):-1;n&&i>-1&&(t[i]=n.toString())},0)}}(s,y)),s};i.history=function(){var n=[];return n.toString=function(){return n.map(function(n,t){var i=n.indexOf("failed")!==-1?"!":n.indexOf("in progress")!==-1?"*":"",r=(t>9?"":"0")+t;return r+i+"\t\t"+n.replace(/^id\d+:\s/,"")}).join("\r\n")},n}();u=function(){var n=i("Always resolved task");return n.setName=r.NOOP,n.resolve(),function(){return n}}();t.resolved=u;i.resolved=u;i.toTask=s;n.declare("geotab.checkmate");n.checkmate.task=i;t.default=i;t.resolve=l})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.task"),geotab.commonjs.generateExport("geotab.checkmate.task"));self.geotab && geotab.declare("geotab.checkmate.task");
(function(n,require,t){"use strict";function f(n){return n=new Date(typeof n=="string"?n:n.valueOf()),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n}function e(n){return n=new Date(typeof n=="string"?n:n.valueOf()),n.setHours(23),n.setMinutes(59),n.setSeconds(59),n.setMilliseconds(0),n}function r(){var s,h,n={},r=function(n){var f,e=0,i,o,u,r,s,t=typeof n=="string"?n:n.toString();return(f=t.charAt(0)==="-")&&(t=t.slice(1)),t=t.split(":"),i=t[0],o=parseInt(t[1],10),u=t[2]||"0.0",t=u.split("."),u=parseInt(t[0],10),t.length===2?(s=t[1].concat("000"),r=parseInt(s.substr(0,3),10)||0):r=0,t=i.split("."),t.length===2?(e=parseInt(t[0],10),i=parseInt(t[1],10)):i=parseInt(i,10),r=(f?-1:1)*((((e*24+i)*60+o)*60+u)*1e3+r),t=new Date,t.setTime(r),t},t="America/New_York",c,f=!1,l=function(n,t,i){var r=new Date(t,6,15),u,e=n.month-1,f;if(r.setUTCFullYear(t),r.setUTCMonth(e),r.setUTCDate(1),r.setUTCHours(0),r.setUTCMinutes(0),r.setUTCSeconds(0),r.setUTCMilliseconds(0),n.isFixedDateRule)r.setUTCDate(n.day);else{var o={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6}[n.dayOfWeek],s=r.getUTCDay(),h=r.getUTCDate()-s,c=n.week-1;o<s&&(h+=7);u=r;u.setUTCDate(h+7*c+(o||0));c===4&&u.getUTCMonth()===e+1&&u.setUTCDate(u.getUTCDate()-7)}f=new Date(n.timeOfDay);f.setUTCFullYear(1970);var l=u.getTime()+f.getTime(),a=new Date(u.getTime()+f.getTime()),v=a.getTimezoneOffset();return{userTimeZone:new Date(l-i*6e4),browserTimeZone:new Date(l+v*6e4)}},e=function(i,u,f){var v=!1,o=i.getUTCFullYear(),y=f===undefined?!u:f,e,h,s,a,p,w,b,k;return u=u||c,n.hasOwnProperty(u)||u.timeZoneInfo||(console.warn("timeZone missing. Remember to 'changeTimeZone' when new timezone is needed."),u=t),s=u.timeZoneInfo?u:n[u],a=r(s.timeZoneInfo.offsetFromUtc).getTime()/6e4,s.hasOwnProperty("yearDstLookup")?h=s.yearDstLookup:(h={},s.yearDstLookup=h),h.hasOwnProperty(""+o)?e=h[""+o]:(e={isDaylightSavingTimeSupported:!1},s.adjustmentRules&&s.adjustmentRules.forEach(function(n){var v=new Date(n.dateStart).getUTCFullYear(),y=new Date(n.dateEnd).getUTCFullYear();if(o>=v&&o<=y){var s=r(n.daylightDelta).getTime()/6e4,h=l(n.daylightTransitionStart,o,a),c=l(n.daylightTransitionEnd,o,a+s),t=h.userTimeZone,i=c.userTimeZone,u=h.browserTimeZone,f=c.browserTimeZone;e={firstHalfTransitionDate:t<i?t:i,secondHalfTransitionDate:t<i?i:t,firstHalfTransitionDateForReverse:u<f?u:f,secondHalfTransitionDateForReverse:u<f?f:u,isDaylightSavingTimeSupported:!0,delta:s,reverse:n.daylightTransitionStart.month>n.daylightTransitionEnd.month}}}),h[""+o]=e),e.isDaylightSavingTimeSupported&&(p=y?e.firstHalfTransitionDate:e.firstHalfTransitionDateForReverse,w=y?e.secondHalfTransitionDate:e.secondHalfTransitionDateForReverse,i.getTime()>=p.getTime()&&i<w?e.reverse||(v=!0):e.reverse&&(v=!0)),b=a+(v?e.delta:0),k=-i.getTimezoneOffset(),b-k},a=function(n){for(var t,u,r=0;r<n.length;++r)n[r]&&(u={timeZoneId:n[r]},t=t?t.andAlso("GetDaylightSavingRules",u):s.call("GetDaylightSavingRules",u));return t?t.beginInvoke(function(n){(Array.isArray(n)?n:[n]).forEach(o)},h):i.resolved()},o=function(t){if(t&&(t.timeZoneId||t.timeZoneInfo)){var i=t.timeZoneId||t.timeZoneInfo.id||"";n[i]=t}},v;return v={initialize:function(n,i,r,u,e){var v=function(){f=!0;c=r;e&&e()},l;s=n;h=i;u?(u.forEach(function(n){o(n)}),v()):(l=[r],r!==t&&l.push(t),a(l).done(v))},setTimeZoneInfo:function(t,i){n[t]=i},hasTimeZoneInfo:function(t){return n.hasOwnProperty(t)},toLocalDateTime:function(n,t){var i=typeof n=="string"?new Date(n):n,u=f?e(i,t,!0)*6e4:0,r=new Date(i.getTime()+u),o=r.getTimezoneOffset()-i.getTimezoneOffset();return o&&(r=new Date(i.getTime()+u+o*6e4)),r},toReverseOffsetDateTime:function(n,t){var i=f?e(n,t,!1)*6e4:0;return new Date(n.getTime()-i)},getDefaultTimeZone:function(){return t},getOffset:e,addTimeZone:o,populateTimeZone:function(t){return n.hasOwnProperty(t)?i.resolve(n[t]):a([t])},requestTimeZone:function(n){var t=u.Deferred();return v.populateTimeZone(n).done(function(i){i?t.resolve(i):t.reject(new Error("Unknown timezone id: "+n))}).fail(function(n){return t.reject(n)}),t.promise()},timeSpanParse:r}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("./task"),u=require("./deferred");t.getStartOfDay=f;t.getEndOfDay=e;t.default=r;n.declare("geotab.checkmate");n.checkmate.dstCalculator=r})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.dstCalculator"),geotab.commonjs.generateExport("geotab.checkmate.dstCalculator"));self.geotab && geotab.declare("geotab.checkmate.dstCalculator");
(function(n,require,t){"use strict";function u(n){var t=[],i=["placeholder","title"],r=function(n){var u=n&&n.childNodes,f=u?u.length:0,e=function(n){var t=n&&n.className;return typeof t=="string"&&t.indexOf("noTranslate")===-1},o,l=function(n){for(var r=[],t=0;t<i.length;t++)n.getAttribute(i[t])&&r.push(i[t]);return r},s=function(n,i){n.nodeType===1&&e(n)&&h.indexOf(n.nodeName.toLowerCase())===-1&&(l(n).forEach(function(i){t.push({attr:i,element:n})}),i&&r(n));n.nodeType!==3||c.test(n.data)||t.push({text:!0,parent:n,element:n})};if(s(n,!1),e(n))while(f--)o=u[f],s(o,!0)};return n.forEach(function(n){n&&r(n[0]||n)}),t}function i(n,t){for(var f,u,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(f=l[n],u=0,!f)throw new Error("Pluralization function for "+n+" is not specified");return t.replace(/\{[^\}]*:?[^\}:]*\}/g,function(n){var r=n.substring(1,n.length-1),t=r.split(":"),s=t[0],h=t[1],c=i[u++],e,o,l;if(i.length<u)throw new Error("Invalid amount of arguments: at least "+u+" expected but only "+i.length+" given");if(t.length>2){for(e=r.indexOf(":"),o=r.indexOf(":",e+1);o>-1;)e=o,o=r.indexOf(":",e+1);t=[r.substring(0,e),r.substring(e+1,r.length)]}return t.length===2?(s=t[0],h=t[1]):(s="num form",h=t[0]),l=h.split("|"),s.replace("num",c.toString()).replace("form",f(c,l)||"")})}function f(n){n.forEach(function(n){if(n&&n.querySelectorAll){var t=n.querySelectorAll("*[data-plural]");Array.prototype.forEach.call(t,function(n){var r=n.textContent,u=n.getAttribute("data-plural")||"",t=parseInt(u);if(isNaN(t))try{t=JSON.parse(u)}catch(f){t=0}n.textContent=i.apply(this,Array.isArray(t)?[r].concat(t):[r,t])})}})}function e(n,t){for(var o=t.length,i,f,e,u=0;u<o;u++)if(i=n[u],f=r(t[u]),i.text){e=i.element.splitText!==undefined?"nodeValue":"textContent";try{i.element[e]=f||""}catch(s){}}else i.attr&&i.element.setAttribute(i.attr,f)}function s(n){return n.map(function(n){return o(n.text?n.element.textContent:n.attr&&n.element.getAttribute(n.attr))})}function r(n){return n.replace(a,'"').replace(v,"#").replace(y,"'")}var o;Object.defineProperty(t,"__esModule",{value:!0});var h=["html","head","style","title","link","meta","script","iframe"],c=/^\s*$/,l={en:function(n,t){return t[Number(1!=n)]},fr:function(n,t){return t[Number(n>=2)]},es:function(n,t){return t[Number(1!=n)]},ja:function(n,t){return t[0]},de:function(n,t){return t[Number(1!=n)]},pl:function(n,t){return t[Number(1==n?0:n%10>=2&&4>=n%10&&(10>n%100||n%100>=20)?1:2)]},"pt-BR":function(n,t){return t[Number(n>=2)]},nl:function(n,t){return t[Number(1!=n)]},it:function(n,t){return t[Number(1!=n)]},"zh-Hans":function(n,t){return t[0]}};t.getNodesForTranslation=u;t.pluralize=i;t.pluralizeHtml=f;t.replaceOldText=e;o=function(n){return n.replace(/\s{2,}/g," ")};t.getSentences=s;var a=/&quot;/g,v=/(&#035;)|(&#35;)/g,y=/(&#039;)|(&#39;)/g;t.decodeSymbols=r;n.translatorTools={getSentences:s,decodeSymbols:r,replaceOldText:e,pluralizeHtml:f,pluralize:i,getNodesForTranslation:u}})(geotab,geotab.commonjs.generateRequire("geotab.translatorTools"),geotab.commonjs.generateExport("geotab.translatorTools"));self.geotab && geotab.declare("geotab.translatorTools");
(function(n,require,t){"use strict";function f(n,t){var f=t,h=n,e=[],o=function(n,t){return{original:n,translation:t||n}},c=function(){var n=e.slice(),t=n.reduce(function(n,t){return n.push.apply(n,t.sentences),n},[]),u=function(t){for(var f=0,u=0;u<n.length;++u){var r=n[u],s=t.slice(f,f+r.sentences.length).map(i.decodeSymbols),e=o(r.sentences,s);r.callback(e);r.task.resolve(e);f+=r.sentences.length}};return e.length=0,h?h.call("Translate",{sentences:t,language:f},!1).beginInvoke(u,function(){return u(t)}):r.resolved().done(function(){return u(t)})},s=function(n,t){e.length||setTimeout(c,1);var i=r.default("Common translate");return e.push({sentences:n,callback:t||u.NOOP,task:i}),i};return{translateHtml:function(n,t){var u,e=[],h,c;return f!=="en"&&(h=i.getNodesForTranslation(n),e=i.getSentences(h),e.length>0&&(u=s(e,function(r){i.replaceOldText(h,r.translation);i.pluralizeHtml(n);t&&t(r)}))),u||(c=o(e),i.pluralizeHtml(n),t&&t(c),u=r.default("HTML translation").resolve(c)),u},translateSentences:function(n,t){if(f!=="en")return s(n,t);var i=o(n);return t&&t(i),r.default("English translation").resolve(i)},translate:s,pluralize:function(n){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return i.pluralize.apply(i,[f,n].concat(r))}}}Object.defineProperty(t,"__esModule",{value:!0});var r=require("./checkmate/task"),i=require("./translatorTools"),u=require("./utils");t.default=f})(geotab,geotab.commonjs.generateRequire("geotab.translatorClass"),geotab.commonjs.generateExport("geotab.translatorClass"));self.geotab && geotab.declare("geotab.translatorClass");
(function(n,require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=require("../vanillaExtension/vanilla"),u=require("./events"),i=function(){var n=[],e=!1,i="suspend",f="resume",o="end",s="start",h=function(){for(var u=this.promise(),r=0;r<n.length;r++)if(n[r].promise()===u){n.splice(r,1);break}n.length===0&&(t.trigger(o),e=!1);this.unbind(o,h);this.unbind(i,c);this.unbind(f,l)},c=function(){for(var r=0;r<n.length;r++)if(!n[r].isSuspended())return!1;return t.trigger(i),!0},l=function(){for(var i=0;i<n.length;i++)if(n[i].isSuspended())return!1;return t.trigger(e?f:s),!0},v=function(t,i){n.forEach(function(n){n[t].apply(n,i)})},a=function(n){return function(){v(n,arguments)}},y=function(n){n.bind(o,h);n.bind(i,c);n.bind(f,l)},p=function(n){return function(t){return t===n}},t=u.Events();return r.extend({add:function(i){return!i||i.isDone()||n.some(p(i))||(n.push(i),y(i),this.count()===1&&(i.isSuspended()||(t.trigger(s),e=!0))),this},suspend:a(i),resume:a(f),count:function(){return n.length},last:function(){return n[n.length-1]},abort:function(){for(var i,t=n.length-1;t>=0;t--)i=n[t],i&&!i.isDone()&&i.abort()},getList:function(){return n.slice()}},t.passive())};n.declare("geotab.checkmate");n.checkmate.tasks=i;t.default=i})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.tasks"),geotab.commonjs.generateExport("geotab.checkmate.tasks"));self.geotab && geotab.declare("geotab.checkmate.tasks");
(function(n,require,t){"use strict";function h(){return{isMobile:function(){return c!==r.Unknown},isBrowserSupportDateInput:function(){return p},isBrowserSupportDateTimeInput:function(){return v},isBrowserSupportLocalDateTimeInput:function(){return y},isBrowserSupportTimeInput:function(){return w},isBrowserSupportCustomSlider:function(){return b},isChrome:function(){return u===i.Chrome},isIE:function(){return u===i.IE},isEdge:function(){return u===i.Edge},isFF:function(){return u===i.FF},isOpera:function(){return u===i.Opera},isSafari:function(){return u===i.Safari},isWindows:function(){return o===f.Windows},isMac:function(){return o===f.Mac},isLinux:function(){return o===f.Linux},isOldBrowser:function(){return d},isBrowserSupportTouchEvents:function(){return a},maxBrowserUrlLength:function(){var n=l();return n?n:0},isBrowserSupportPointerEvents:function(){return window.navigator.msPointerEnabled||window.navigator.pointerEnabled||!!window.PointerEvent},isBrowserSupportNewPointerEvents:function(){return window.navigator.pointerEnabled||!!window.PointerEvent},getBrowserId:function(){return u},shouldNativeDatePickerBeShown:function(){return g},isBrowserSupportColorPicker:function(){return k},isIFrameHosted:function(){try{return window.self!==window.top}catch(n){return!0}},isWebViewApp:function(){var n=window;return!!(n&&n.isInWebView&&n.isInWebView.call(n))}}}Object.defineProperty(t,"__esModule",{value:!0});var r={FirefoxMobile:5,OperaMobileOrMini:4,BlackBerry:3,SafariMobile:1,Tablet:2,IEMobile:6,Unknown:0},f={Mac:1,Windows:2,Linux:3},i={Chrome:"chrome",IE:"ie",Edge:"edge",FF:"firefox",Opera:"opera",Safari:"safari",Unknown:"unknown"},c=function(){return/(iPhone)|(iPod)|(Mobile Safari)/i.test(navigator.userAgent)?r.SafariMobile:navigator.userAgent.match(/BlackBerry/i)?r.BlackBerry:/(Opera Mobi)|(Opera Mini)/i.test(navigator.userAgent)?r.OperaMobileOrMini:/(Android).+(Mobile).+(Firefox)/i.test(navigator.userAgent)?r.FirefoxMobile:/IEMobile/i.test(navigator.userAgent)?r.IEMobile:/(iPad)|(Android 3)|(Android 4)/i.test(navigator.userAgent)?r.Tablet:r.Unknown}(),u=function(){return navigator.userAgent.match(/Edge/i)?i.Edge:navigator.userAgent.match(/[Chrome]/i)?i.Chrome:navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/Trident/i)?i.IE:navigator.userAgent.match(/Firefox/i)?i.FF:navigator.userAgent.match(/opera/i)?i.Opera:navigator.userAgent.match(/safari/i)?i.Safari:i.Unknown}(),o=function(){return navigator.userAgent.match(/windows/i)?f.Windows:navigator.userAgent.match(/mac/i)?f.Mac:navigator.userAgent.match(/linux/i)?f.Linux:i.Unknown}(),l=function(){var t,n=document.createElement("IFRAME"),r=location.protocol+"//"+location.hostname+"/blank.html",u=function(){if(n.contentWindow){for(var u=n.contentWindow.location,i="#";i.length<6e3;)i+="1";u.replace(r+i);i.length!==u.hash.length&&(t=u.hash.length&&1950);t=t||0}},i=function(){try{u()}catch(r){t=0}document.body.removeChild(n);n.removeEventListener("load",i,!1)};return n.setAttribute("src",r+"#1"),n.addEventListener("load",i,!1),n.style.display="none",document.body.appendChild(n),function(){return t===undefined&&i(),t}}(),a=function(){var n=!0;try{document.createEvent("TouchEvent")}catch(t){n=!1}return n}(),e=function(){var n=document.createElement("input");return function(t,i){return n.setAttribute("type",t),n.setAttribute("value",i),n.type===t&&n.value!==i}}(),s=function(n){return e(n,"2013-1-1")},v=e("datetime","2013-1-1"),y=e("datetime-local","2013-1-1"),p=s("date"),w=s("time"),b=e("range","a"),k=e("color","hello world"),d=function(){for(var t=[function(){return typeof Object.keys=="function"},function(){return typeof Array.prototype.map=="function"},function(){return typeof HTMLElement.prototype.insertAdjacentHTML=="function"},function(){return window.requestAnimationFrame||["ms","moz","webkit","o"].some(function(n){return typeof window[n+"RequestAnimationFrame"]=="function"})},function(){return!!document.documentElement.classList},function(){return typeof matchMedia=="function"},function(){return!!window.FormData}],n=t.shift();n;){if(!n())return!0;n=t.shift()}return!1}(),g=function(){return navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i)}();t.default=h;n.declare("geotab.checkmate");n.checkmate.browser=h})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.browser"),geotab.commonjs.generateExport("geotab.checkmate.browser"));self.geotab && geotab.declare("geotab.checkmate.browser");
(function(n,require,t){"use strict";function i(){var n={},r="EmptyHeader",t="__allEvents",u=function(t,i){if(!i)throw new Error(r);n[t]||(n[t]=[]);n[t].indexOf(i)===-1&&n[t].push(i)},f=function(t,i){var r;n[t]&&(r=n[t].indexOf(i),r!==-1&&n[t].splice(r,1))},s=function(t,i){if(!i)throw new Error(r);n[t]||(n[t]=[]);n[t].indexOf(i)===-1&&n[t].unshift(i)},e=function(t,i){var r=n[t];return i&&r?r.indexOf(i)!==-1:!!(r&&r.length)},o=function(i,r,u){var f,s;if(e(i))for(s=n[i].slice(0),f=0;f<s.length&&s[f].apply(r,Array.isArray(u)?u:u?[u]:[])!==!1;f++);i!==t&&o(t,r,[].concat(i).concat([u]))},i={attachToAll:function(n){return u(t,n)},detachFromAll:function(n){return f(t,n)},attachEvent:u,prependEvent:s,detachEvent:f,detachEvents:function(t){n[t]&&(n[t].length=0)},fireEvent:o,hasEventHandler:e,redirectAllEventsTo:function(n){var t=this;i.attachToAll(function(i,r){n.fireEvent(i,t,r)})},stopRedirectingAllEvents:function(){i.detachEvents(t)}};return i}Object.defineProperty(t,"__esModule",{value:!0});t.default=i;var r=function(){function n(){this.simpleEventCache={}}return n.prototype.attach=function(n,t){return this.simpleEventCache[n]=this.simpleEventCache[n]||[],this.simpleEventCache[n].push(t),this},n.prototype.detach=function(n,t){return n?t?this.simpleEventCache[n]=(this.simpleEventCache[n]||[]).filter(function(n){return n!==t}):this.simpleEventCache[n]&&(this.simpleEventCache[n].length=0):this.simpleEventCache={},this},n.prototype.fire=function(n,t){var i=this;(this.simpleEventCache[n]||[]).forEach(function(n){n.call(i,t)})},n}();t.SimpleEventHandler=r;n.declare("geotab.checkmate");n.checkmate.eventHandler=i})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.eventHandler"),geotab.commonjs.generateExport("geotab.checkmate.eventHandler"));self.geotab && geotab.declare("geotab.checkmate.eventHandler");
(function(n,require,t){"use strict";function h(n){var t=function(n,t){return n.getItem(t)!==null},h=function(){return{getItem:function(n){return this[n]},setItem:function(n,t){return this[n]=t},hasItem:function(n){return n in this},removeItem:function(n){return n in this?delete this[n]:!1},clear:function(){var n=this;Object.keys(this).forEach(function(t){["getItem","setItem","hasItem","removeItem","clear"].indexOf(t)===-1&&delete n[t]})}}},c=!1;return n&&s.push(n),o?(i=f.localStorage,r=f.sessionStorage):(i=i||h(),r=r||h(),c=!0),{getItem:function(n){var t=i.getItem(n)||r.getItem(n);if(typeof t=="string")try{return JSON.parse(t)}catch(u){return t}else return t},setItem:function(n,f,o){var h=function(u,f){var e=f;e!==null&&e!==undefined&&typeof e!="string"&&(e=JSON.stringify(e));o?i.setItem(u,e):t(i,n)||r.setItem(u,e)};if(e)u[n]=f;else{this.removeItem(n);try{h(n,f)}catch(c){e||(e=!0,s.forEach(function(n){return n()}));i.clear();r.clear();try{Object.keys(u).forEach(function(n){h(n,u[n]);delete u[n]})}catch(c){console.error(c)}finally{e=!1;u={}}throw c;}}},removeItem:function(n){t(i,n)&&i.removeItem(n);t(r,n)&&r.removeItem(n)},isPermanent:function(n){return t(i,n)},listItems:function(){var n=[];for(var t in r)n.push(t);for(t in i)n.push(t);return n},hasItem:function(n){return r.getItem(n)!==null||i.getItem(n)!==null},emulated:c}}function l(){return o}function a(n,t,i){var f=h(),e=i===null||i===undefined?!1:!!i,r,u;return f.emulated&&(u=n.translateKey("LongTermStorageIsNotAvailable"),r=e?new Error(u):{message:n.translateKey("Warning")+" "+u,toString:function(){return this.message}},r.isSevere=e,t(r)),f}Object.defineProperty(t,"__esModule",{value:!0});var f=n.getGlobalObject(),c=function(n){var i="__LocalStorageTest",t,r;try{if(n in f){if(t=f[n],r="SomeValueString",t.setItem(i,r),r!==t.getItem(i))throw new Error("Not avaliable");return t.removeItem(i),!0}return!1}catch(u){return DOMException&&u.code===DOMException.QUOTA_EXCEEDED_ERR?!0:!1}},o=c("localStorage"),i,r,e=!1,u={},s=[];t.Html5Storage=h;t.Supported=l;t.CreateWithCaution=a})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.storage.html5Storage"),geotab.commonjs.generateExport("geotab.checkmate.storage.html5Storage"));self.geotab && geotab.declare("geotab.checkmate.storage.html5Storage");
(function(n,require,t){"use strict";function o(){var nt=1.609344,gt=.9144,ht=3.785411784,ct=4.54609188,lt,hi=a.default(),it,rt,d={language:"en",longDateFormat:""},p,b,ft,at,k=h.default(),vt=!1,yt,t={},ni=["on","On","off","Off","yes","Yes","no","No","ok","OK","default","Default","all","All","legend","Legend","once","once","twice","twice","for","for","times","times","time","time","Total","Total","Date","Date","Resource","Resource","Type","Type","Active","Active","Forward","Forward","Up","Up","Right","Right","Invalid","Invalid","Trailers","Trailers","Users","Users","Vehicles","Vehicles","Rules","Rules","Drivers","Drivers","Routes","Routes","RoutePlans","Route plans","Information","Information","Clear","Clear","Close","Close","And","And","Or","Or","Enable","Enable","Disable","Disable","View","View","Edit","Edit","EditMultiple","Edit multiple","Start","Start","End","End","Error","Error","Reminder","Reminder","Description","Description","Groups","Groups","Types","Types","Color","Color","Visibility","Visibility","Shape","Shape","Time","Time","Value","Value","Limit","Limit","Source","Source","Reset","Reset","meters","meters","yards","yards","copy","Copy","dontcopy","Don't Copy","add","Add","addGroups","Add Groups","replaceGroups","Replace Groups","overwrite","Overwrite","List","List","dontChange","Don't Change","replaceWith","Replace With","New","New","continue","Continue","undoChanges","Undo changes","InvalidEmail","The email address is not valid","UserIsNotSelected","The user is unknown","skip","Skip","skipAll","Skip all","addAnnotation","Add annotation","machineName","Machine name","GeotabEUA","End User Agreement","Accept","Accept","Decline","Decline","Refresh","Refresh","Go back","Go back","Version","Version","resume","Resume","standard","Standard","optimize","Optimize","SelectEntities","Select Entities","ShowAll","Show all","Safe","Safe","Unsafe","Unsafe","Origin","Origin","Status","Status","retry","Retry?","Approve","Approve","English","English","French","French","Spanish","Spanish","Japanese","Japanese","German","German","Polish","Polish","Brazilian-Portuguese","Brazilian-Portuguese","Dutch","Dutch","Italian","Italian","MandatoryFields","All fields are required.","km","km","mi","mi","km/h","km/h","mph","mph","m","m","yd","yd","none","None","save","Save","delete","Delete","cancel","Cancel","Report","Report","import","Import","makeHistoric","Make Historical","other","Other","totalItems","Total items","totalDatabasesInFederation","Total Databases in Federation","gallonUS","gallon (US)","gallonImp","gallon (Imp)","litre","litre","L","L","gal","gal","G","G","Device","Device","Vehicle","Vehicle","VehicleMessagingStatus","Vehicle messaging status","DVIRLogs","DVIR Logs","Reports","Reports","Trailer","Trailer","User","User","Rule","Rule","Zone","Zone","Notification","Notification","Route","Route","Driver","Driver","SystemSettings","System settings","Group","Group","Entity","Entity","ReportTemplate","Report template","EventOccurrence","Event occurrence","EventRule","Event rule","NoDevice","Unknown Vehicle","sortByDatabase","Sort by database","sortByServer","Sort by server","SortBy","Sort by","SortList","Sort list","SortTooltip","Select different sort items","Code","Code","VehicleAndDateTime","Vehicle and date/time","ReasonAndDateTime","Reason and date/time","RecordTypeAndDateTime","Record type and date/time","ControllerNames","Controller names","Period","Period","FuelEconomy","Fuel economy","PC","PC","systemAssignedComment","System assigned zone type","addressLookup","Address Lookup","customer","Customer","office","Office","home","Home","everywhere","Everywhere","Zones","Zones","Address","Address","DuplicateTrailerName","A trailer with the same name already exists in the selected group.","DuplicateTrailerNameAddGroup","You cannot put trailers with the same name in the same group(s).","TrailerAdd","Trailer Add","TrailerEdit","Trailer Edit","GroupCompanyId","Company group","GroupSecurityId","Security root","Everything","Everything","Everyone","Everyone","GroupEverythingSecurityId","Administrator","GroupSupervisorSecurityId","Supervisor","GroupUserSecurityId","Default user","GroupViewOnlySecurityId","View only","GroupDriveUserSecurityId","Drive App user","GroupNothingSecurityId","Nothing","GroupDefectsId","All Defect Lists","GroupVehicleDefectsId","Default Vehicle Defects List","GroupTrailerDefectsId","Default Trailer Defects List","watermarkText","Select groups...","filterWatermarkText","Groups filter","selectAllText","Select all","selectIndividual","Select individual","SelectAllVehicles","Select all vehicles","SelectAllDrivers","Select all drivers","DeselectAllVehicles","Deselect all vehicles","DeselectAllDrivers","Deselect all drivers","selectAllInFilter","Select all in filter","pleaseMakeSelection","Please make a selection.","itemsOnThePageAreSelected","items on this page are selected.","itemsAreSelected","items are selected.","SelectVisible","Select visible","SelectNone","Select none","SelectMultiple","Select multiple","nothingFoundText","Nothing was found","levelUpText","Up one level","deselectAllText","Remove all","resetSelectedGroups","Clear selection","NoGroupSelected","You have not selected any groups","SelectGroup","Select Group(s)","selectAllGroupText","All in {0}","selectOnlyInGroupText","Only in {0}","selectAllDriversText","All Drivers","selectOnlyDriversText","Only Drivers","selectAllDevicesText","All Devices","selectOnlyDevicesText","Only Devices","GroupsWillBeResetToDefault","Groups will be reset to default","NoStatusGroups","No Status Groups","DoNotChange","Do not change","AssignZonesGroups","Assign zones to groups","AllIn","All in","OnlyIn","Only in","GroupBy","Group by","GroupBy:","Group by:","SourceGmcccId","GMCCC","SourceGeotabGoId","Telematics Device","SourceJ1708Id","J1708","SourceJ1939Id","J1939","SourceObdId","OBD II","SourceSystemId","Telematics System","SourceThirdPartyId","Third-party","ControllerGeotabGoId","Geotab GO Controller","ControllerGmcccEngineId","GMCCC Engine","ControllerObdBodyId","OBD Body","ControllerObdChassisId","OBD Chassis","ControllerObdNetworkingId","OBD Networking","ControllerObdPowertrainId","OBD Powertrain","ControllerNoneId","No Controller","EngineWatermarkText","Type or select entity from list...","UnitOfMeasureNoneId","None","UnitOfMeasureDegreesCelsiusId","C","UnitOfMeasureDegreesFahrenheitId","F","UnitOfMeasureKilometersPerHourId","km/h","UnitOfMeasureNewtonsId","N","UnitOfMeasureNewtonMetersId","N m","UnitOfMeasureMetersPerSecondSquaredId","m/s","UnitOfMeasureMetersId","m","UnitOfMeasureGramsId","g","UnitOfMeasureCubicMetersId","m","UnitOfMeasureLitersId","L","UnitOfMeasureCubicMetersPerSecondId","m/s","UnitOfMeasureRevolutionsPerMinuteId","RPM","UnitOfMeasureHertzId","Hz","UnitOfMeasureSecondsId","s","UnitOfMeasureVoltsId","V","UnitOfMeasureAmpsId","A","UnitOfMeasureWattsId","W","UnitOfMeasureOhmsId","Ohms","UnitOfMeasurePascalsId","Pa","UnitOfMeasureBytesId","B","UnitOfMeasurePartsPerMillionId","ppm","UnitOfMeasurePercentageId","%","UnitOfMeasureRadiansId","rad","UnitOfMeasureRevolutionsId","rev","UnitOfMeasureCountId","count","UnitOfMeasurePulsesPerMeterId","pulses/m","UnitOfMeasureOhmsPerSecondId","Ohms/s","UnitOfMeasureGramsPerSecondId","g/s","UnitOfMeasureKilometersPerKilogramId","km/kg","UnitOfMeasureKilometersPerLiterId","km/L","UnitOfMeasureKilogramsPerKilometerId","kg/km","UnitOfMeasureLitersPerLaneKilometerId","L/lane km","UnitOfMeasureLitersPerTonId","L/ton","UnitOfMeasureGramsPerSquareMeterId","g/m^2","UnitOfMeasureKiloWattHoursId","kWh","WorkTime","Work time","WorkHours","Work Hours","WorkTimeAllHoursId","All hours","WorkTimeStandardHoursId","Standard hours","WorkTimeLunchHoursId","Lunch hours","WorkTimeEarlyLeaveHoursId","Early departure hours","WorkTimeLateArrivalHoursId","Late arrival hours","WorkTimeRelationViolation","This work time can't be removed because there are rules using it","workTime","Work time","GroupIDMustBeNumber","Group ID must be a number","GroupIDOutOfRange","Group ID cannot be greater than {0} or less than {1}","Uploader","Uploader","ReprocessingQueueWatcher","Reprocessing Queue Watcher","ServiceManager","Service Manager","LiveDownloader","Live Downloader","GoPatrolDownloader","GO Patrol Downloader","GoSafeDownloader","GO Safe Downloader","Gps2GoDownloader","GPS2GO Downloader","NotificationSender","Notification Email Sender","CustomReportScheduler","Custom Report Scheduler","WebServer","Web Server","RadioDownloader","Radio Downloader","KeyDownloader","Key Downloader","OrbcommDownloader","Orbcomm Downloader","WorkHours:","Work Hours:","DropDownReport","Dropdown report","StatusUnknown","Unknown","StatusDisabled","Disabled","StatusDisconnected","Disconnected","StatusConnected","Connected","StatusDebug","Debug","StatusIdle","Idle","StatusException","Exception","StatusDriving","Driving","StatusStopped","Stopped","StatusCustomerStop","Stopped inside zone","StatusUnlocked","Unlocked","StatusRunningNoAidingDataAvailable","Running without available aiding data","StatusRunning","Running","StatusFTDINotInstalled","FTDI not installed","StatusTryingToLock","Trying to lock","StatusAuthenticationFailed","Authentication failed","StatusAuthenticationNotSupported","Authentication not supported","StatusAuthenticationSchemeNotProvided","Authentication scheme not provided","StatusUnknownResponseFromServer","Unknown response from server","StatusServerNotFound","Server not found","StatusProxyServerNotFound","Proxy server not found","StatusTimeout","Timeout","StatusProxyTimeout","Proxy timeout","StatusDeviceRegistrationFailed","Device registration failed","StatusConnecting","Connecting","StatusNoDevices","No Devices","UpdateMessageCountsFailed","Update message counts failed","InvalidOrbcommCustomer","Invalid Orbcomm Customer","ThreadFinishTimeout","Thread finish timeout","StatusWaitingForUpgrade","Waiting for upgrade","StatusDatabaseVersionDoesnotMatch","Database version does not match","StatusUserCleared","User cleared","StatusMissing","Missing","StatusServiceManagerConnected","Service manager connected","CacheCleared","Cache cleared","CacheBusy","Cache busy","StatusExceptionOccurred","Exception occurred","CheckmateException","The application exception","KeyDownloaderNonDataKeyInserted","Non-data Key Inserted","LogNewsPopup","News","LogOnly","Log only","Email","Email","LogPopup","Popup","LogUrgentPopup","Urgent","Alarm","Alarm","WebService","Web service","TextMessage","Text message","ChangeStatus","Change status","BeepThreeTimesRapidly","Beep three times rapidly","BeepThreeTimes","Beep three times","BeepTenTimesRapidly","Beep ten times rapidly","ReportTemplateZoneList","Default Zone List","ReportTemplateTripsDetail","Default Trips Detail Report","ReportTemplateRiskManagement","Default Risk Management Report","ReportTemplateDebug","Default Log Details/Accident Report","ReportTemplateExceptionsDetail","Default Exceptions Detail Report","ReportTemplateExceptionsSummary","Default Exceptions Summary Report","ReportTemplateTripsSummary","Default Trips Summary Report","ReportTemplateTimeCard","Default Time Card Report","ReportTemplateAuditLog","Default Audit Log","ReportTemplateUserList","Default User List","ReportTemplateServiceStatus","Default Service Status List","ReportTemplateFailureMode","Default Failure Mode List","ReportTemplateDiagnosticList","Default Diagnostic List","ReportTemplateCustomerVisitsDetail","Default Customer Visit Details Report","ReportTemplateCustomerVisitsSummary","Default Customer Visit Summary Report","ReportTemplateRouteSummary","Default Route Summary Report","ReportTemplateUnassignedRoute","Default Unmatched Route Report","ReportTemplateNotification","Default Notification List","ReportTemplateFuelTax","Default Fuel Tax Report","ReportTemplateCongregation","Default Congregation Report","ReportTemplateEngineSummary","Default Engine Summary Report","ReportTemplateEngineFault","Default Engine Fault Report","ReportTemplateEngineStatus","Default Engine Status Report","ReportTemplateDevice","Default Device Report","ReportTemplateRouteDirections","Default Route Directions","ReportTemplateReminder","Default Reminders","ReportTemplateEventRuleDevice","Default Reminder Rule Device List","ReportTemplateEventHistory","Default Event History","ReportTemplateGroupsList","Default Group List","ReportTemplateDeviceInstallHistory","Default Device Installation History Report","ReportTemplateTimePerformance","Default Time Performance Report","ReportTemplateValuePerformance","Default Value Performance Report","ReportTemplateEngineStatusStatistics","Default Fuel Usage Report","ReportTemplateTextMessage","Default Text Message Report","ReportTemplateRouteComparisonDetail","Default Planned vs. Actual Route Report","ReportTemplateHosLog","Default HOS Logs","ReportTemplateDVIRLog","Default DVIR Logs","ReportTemplateHosViolation","Default HOS Violation Report","ReportTemplateHosAvailability","Default HOS Availability Report","ReportTemplateAdvancedZoneList","Advanced Zone List","ReportTemplateAdvancedTripsDetail","Advanced Trips Detail Report","ReportTemplateAdvancedRiskManagement","Advanced Risk Management Report","ReportTemplateAdvancedDebug","Advanced Log Details/Accident Report","ReportTemplateAdvancedExceptionsDetail","Advanced Exceptions Detail Report","ReportTemplateAdvancedExceptionsSummary","Advanced Exceptions Summary Report","ReportTemplateAdvancedTripsSummary","Advanced Trips Summary Report","ReportTemplateAdvancedTimeCard","Advanced Time Card Report","ReportTemplateAdvancedAuditLog","Advanced Audit Log","ReportTemplateAdvancedUserList","Advanced User List","ReportTemplateAdvancedServiceStatus","Advanced Service Status List","ReportTemplateAdvancedFailureMode","Advanced Failure Mode List","ReportTemplateAdvancedDiagnosticList","Advanced Diagnostic List","ReportTemplateAdvancedCustomerVisitsDetail","Advanced Customer Visit Details Report","ReportTemplateAdvancedCustomerVisitsSummary","Advanced Customer Visit Summary Report","ReportTemplateAdvancedRouteSummary","Advanced Route Summary Report","ReportTemplateAdvancedUnassignedRoute","Advanced Unmatched Route Report","ReportTemplateAdvancedNotification","Advanced Notification List","ReportTemplateAdvancedFuelTax","Advanced Fuel Tax Report","ReportTemplateAdvancedCongregation","Advanced Congregation Report","ReportTemplateAdvancedEngineSummary","Advanced Engine Summary Report","ReportTemplateAdvancedEngineFault","Advanced Engine Fault Report","ReportTemplateAdvancedEngineStatus","Advanced Engine Status Report","ReportTemplateAdvancedDevice","Advanced Device Report","ReportTemplateAdvancedRouteDirections","Advanced Route Directions","ReportTemplateAdvancedReminder","Advanced Reminders","ReportTemplateAdvancedEventRuleDevice","Advanced Device Reminder Rule List","ReportTemplateAdvancedEventHistory","Advanced Event History","ReportTemplateAdvancedGroupsList","Advanced Group List","ReportTemplateAdvancedDeviceInstallHistory","Advanced Device Installation History Report","ReportTemplateAdvancedTimePerformance","Advanced Performance Report by Time","ReportTemplateAdvancedValuePerformance","Advanced Performance Report by Value","ReportTemplateAdvancedEngineStatusStatistics","Advanced Fuel Usage Report","ReportTemplateAdvancedTextMessage","Advanced Text Message Report","ReportTemplateAdvancedRouteComparisonDetail","Advanced Planned vs. Actual Route Report","ReportTemplateAdvancedHosLog","Advanced HOS Logs","ReportTemplateAdvancedDVIRLog","Advanced DVIR Logs","ReportTemplateAdvancedHosViolation","Advanced HOS Violation Report","ReportTemplateAdvancedFillUps","Advanced Fill-Ups Report","ReportTemplateFillUps","Fill-Ups Report","CustomReport","Custom report","DefaultReport","Default report","AdvancedReport","Advanced report","DefaultDashboard","Default dashboard","BuiltInReport","Built-in report","ReportTemplateAdvancedHosAvailability","Advanced HOS Availability Logs","Activity Summary (today)","Activity Summary (today)","Basic Driver Score (last week)","Basic Driver Score (last week)","Business vs Personal (last week)","Business vs Personal (last week)","Number of Stops (yesterday)","Number of Stops (yesterday)","Percentage of time Idling (yesterday)","Percentage of time idling (yesterday)","Watchdog Report","Watchdog Report","ShortReportTemplateExceptionsDetail","Details","ShortReportTemplateAdvancedExceptionsDetail","Details","ShortReportTemplateExceptionsSummary","Summary","ShortReportTemplateAdvancedExceptionsSummary","Summary","ShortReportTemplateEngineSummary","Summary","ShortReportTemplateAdvancedEngineSummary","Summary","ShortReportTemplateEngineFault","Details","ShortReportTemplateAdvancedEngineFault","Details","NoNetworkConnection","No Network Connection","ErrorReported","Error has been reported","{0}. Please contact support.","{0}. Please contact support.","WarningFailedAdd","Failed to create a new item. No network connection.","WarningFailedSet","Failed to save changes. No network connection.","WarningFailedRemove","Failed to remove item. No network connection.","WarningFailedGet","Failed to get data. No network connection.","EngineTypeNoneId","Unassigned Engine Type","EngineTypeGenericId","Generic Engine Type","EngineTypeIsNotAvailable","This engine type is not available","DistanceFromOneToAnother","Distance from one to another","engineHours","Engine hours","Engine","Engine","NoFailureModeId","Unknown Failure Mode","UnknownDriverId","Unknown Driver","NoDeviceLabel","No vehicle","Unidentified","Unidentified","UnidentifiedDriver","Unidentified driver","DescriptionEmpty","The description cannot be empty.","DeviceSelectedException","There must be at least 1 device selected. Please select a device.","SelectDevice","Select a vehicle.","DistributionListNewsId","System News","DistributionListImportExportId","Import/Export Notification","DistributionListAdd","Distribution list Add","DistributionListEdit","Distribution list Edit","Suspend","Suspend","Terminate","Terminate","ActiveService","Active service","yourPlan","Your plan","ThirdPartyDataService","Third-party Data via IOX-RS232, IOX-USB, or IOX-CAN","GenericThirdPartyDeviceService","Hardware Add-Ons via IOX-RS232, IOX-USB, or IOX-CAN","GarminMessagingService","Garmin Dispatch and Messaging","EngineDataService","Engine Data","AccelerometerDataService","Accelerometer Data","IOXBluetoothService","IOX Bluetooth (IOX-BT)","IridiumService","Iridium Satellite","ValorDataService","Valor (Temperature/Tire Pressure)","ExternalBuzzerService","External Buzzer","DigitalInputService","Digital Input (IOX-AUXM, IOX-ALERT)","ThirdPartyHOSService","Third-party Hours of Service","NfcService","NFC Driver Identification","GoTalkService","GO TALK","MobileyeService","Mobileye","WiFiService","Wi-Fi","SaltSpreadersService","Salt Spreaders","ActiveTrackingService","Active Tracking","HIDService","HID Reader","BluetoothService","Bluetooth Beacon","OutputService","IOX Relay Output","AnalogService","IOX Analog Input","GarminHOSService","Garmin Hours of Service","DriveAppHosService","Drive App Hours of Service","Auxiliaries","Auxiliaries","Ignition","Ignition","Devices","Devices","ViewDeviceOnMap","View device on map","ShowDeviceDetails","Show device details","SerialNumber","Serial number","DeviceType","Device type","DeviceSerialNoLengthException","The serial number must be 12 characters long.","InvalidValue","Invalid Value","MoreThanDriversSelectedException","There are more than 5 drivers selected, please remove {0} drivers.","MinimumOverlapTime","Minimum overlap time","MinimumNumberCongregationDevices","Minimum number of congregating vehicles","DevicesWithIssuesOnly","Devices with issues only","ShowDismissedFaults","Show dismissed faults","MinimumPercentageStopTime","Minimum percentage stop time","QuickImport","Quick import","QuickImportServerError","// Server Errors (duplicate entries, invalid serial numbers, etc.).// The following were not added. At least one in each group below is incorrect.","QuickImportMinSerailLength","The serial number must be 12 characters in length.","editing","Editing","ParametersOverlapped","Custom parameters list is invalid. Parameters cannot overlap.","immediately","Immediately","MinimumOverlapTime:","Minimum overlap time:","MinimumNumberCongregationDevices:","Minimum number of congregating vehicles:","DuplicateDeviceSerialNumber","A device with this serial number already exists.","DeviceSerialNumberIsInvalid","The serial number is invalid.","ZonePeriodExpired","Zone '{0}' cannot be shown because it is expired.","DrawZoneNotification","Click on the map to add a zone point.","watermarkTextVehicleVINZone","Vehicle, VIN, zone, route, or address...","SelectDriversWatermark","Select drivers from the list","SelectDevicesWatermark","Select devices from the list","SelectRuleWatermark","Select rules from the list","SelectZonesWatermark","Select zones from the list","SelectZones","Select Zones","SelectHOSLogs","Select HOS logs","Diagnostics","Diagnostics","Diagnostic","Diagnostic","DiagnosticType","Diagnostic type","SearchDiagnostics","Search diagnostics","DiagnosticSearch","Diagnostic search","DiagnosticSource","Diagnostic source","EditDiagnosticCode","Edit the Diagnostic Code","DiagnosticsRecent","Diagnostics (recent)","DisplayAllDiagnostics","Display all diagnostics","StandardDiagnostics","Standard diagnostic types","AllDiagnostics","All diagnostic types","DescriptionRequired","Description Required","EmptyName","The name cannot be empty.","ShowLegend","Show legend","EditZone","Edit zone","EditRouteDetails","Edit route sequence","AuditTypes","Audit types","EntityType","Entity type","About","About","ChangeCurrentReport","Change current report","EstimateRunTime","Estimated run time","Available","Available","NotAvailable","Not available","Availability","Availability","HTMLReport","HTML report","ResellerSupport","Reseller Support","RanReport","Ran report","RanReportFromTo","Ran report from {0} to {1}","RanReportDetails","Ran report details from {0} to {1}","RanReportSummary","Ran report summary from {0} to {1}","ViewMap","View Map","DeviceList","Vehicles & Devices List","TripsReport","Activity & Trips Report","HosLogEditDescription","Edited HOS log for '{0}'","FromTo","From {0} to {1} UTC","UTC","UTC","Rest","Rest","Duty","Duty","Drive","Drive","NoModifications","No modifications","Modification","Modification","ShowModifications","Show modifications","userChangedDeviceDiagnostics","Device: {0}, Odometer adjustment: {1}, Odometer offset: {2}, Engine hours adjustment: {3}","Map","Map","Nearest","Nearest","NearestTitle","Find vehicles closest to the center of the map","Views","Views","Advanced","Advanced","MapType","Map type","ClearMap","Clear map","ShowLogDetails","Show Accident & Log Data","Live Map","Live Map","MapBox","MapBox","Transport","Transport","Cycle","Cycle","Satellite","Satellite","LockMap","Lock this view","SaveRoute","Save route","StreetView","Show street view","FindAddress","Find address","InsertWayPoint","Add waypoint","RemoveRouteWaypoint","Remove waypoint","ListRoutes","List routes","EmailTemplate","Email Template","WebRequest","Web request","TextTemplate","Text Template","SelectUser","Please select at least one user","SelectUsers","Select users","ShowTrip","Show trip","FixPostedRoadSpeed","Update posted road speed","AreYouSureYouWantToChangeRoadSpeed","Are you sure you want to change the road speed to","roadSpeedMustBeNumber","Road speed must be a number","roadSpeedIsAlreadyThisValue","Road speed is already set to this value.","roadSpeedIsOutOfRange","Road speed is out of range","postedRoadSpeedSetAudit","{0} ({1}) set from {2} to {3}","EditedRoadSpeed","Edited","Estimate","Estimate","PostedRoadSpeedDetail","Road speed detail","NoCommercialData","No commercial data available","NoCommunityData","No community data available","HighlightZones","Highlight zones on this route","RemoveHighlightZones","Remove highlighting from zones on this route","oneMoreRoute","and one more route.","moreRoutes","and {0} more routes.","RoutesAreHidden","All routes are hidden. Turn off this option to see the selected route.","GpsTextMessageSendText","Send","CannedResponseText","Canned response options","DeleteMessage","Delete message","ExpandMessage","Expand Message","UndoMessageRemoval","Message was removed.","UndoMessageRemovalExtraInfo","Message from {0} to {1} was removed.","UndoGroupMessageRemoval2Devices","Group message from {0} to {1} and {2} was removed.","UndoGroupMessageRemovalDevices","Group message from {0} to {1} and other {2} vehicles was removed.","ReplyToVehicle","Reply to Vehicle","CouldNotFindDeviceToSendTextMessage","Could not find a device to send text message to driver(s): {0}. Text message(s) will be sent to all other selected assets.","MessageToSelectedVehicles","Message will be sent to the selected vehicles.","TooLongGPSMessage","Text message cannot be over 200 characters.","RemoveExistingStops","Remove existing stops","TextMessageWillBeDeleted","Text message will be deleted.","customReplyOption","E.g. yes, no, maybe, later.","GpsTextMessageSelectRecipients","Select recipient(s)...","Reply","Reply","Options","Options","EnterMessage","Enter a message...","LoadMessage","Load messages from {0} to {1}","Message","Message","Sent","Sent","Delivered","Delivered","GPSNotAvailable","GPS IS NOT AVAILABLE","MessagesToShow","Messages to Show","Undelivered","Undelivered","SystemMessages","System Messages","MessageFromDevice","Message sent from device","EditCustomMap","Edit custom map","EditCustomPage","Add-In","SelectDeviceOrGroups","Select devices or groups...","selectionBoxInfo","Use this dropdown to select either a group of devices or an individual device.","UndoChanges","Undoing changes","Dismiss","Dismiss","MissingLoggingData","Missing logging data","BasicAuthentication","Basic Authentication","WindowsAuthentication","Windows Authentication","ProblemFeedback","Feedback","Dashboard","Dashboard","Getting Started","Getting Started","today","Today","live","Live","tomorrow","Tomorrow","yesterday","Yesterday","thisweek","This week","lastweek","Last week","thismonth","This month","lastmonth","Last month","PreviousDay","Previous 24 hours","PreviousWeek","Previous 7 days","PreviousTwoWeeks","Previous 14 days","PreviousHour","Previous hour","StartDate","Start date","EndDate","End date","SubPeriods","Sub-periods","Daily","Daily","Weekly","Weekly","Monthly","Monthly","BiWeekly","Every 2 weeks","FourWeeks","Every 4 weeks","Hourly","Every hour","ThirtyMinutes","Every 30 minutes","FiveMinutes","Every 5 minutes","EveryMinute","Every minute","forever","Forever","duePeriod","Due period","Upcoming","Upcoming","Overdue","Overdue","DueToday","Due today","NextTwoWeeks","Next 2 weeks","LastWorkingWeek","Last working week","ThisWorkingWeek","This working week","WorkingWeek","Working week","ThreeMonths","3 months","lastThreeMonths","Last 3 months","lastSixMonths","Last 6 months","lastTwelveMonths","Last 12 months","yearToDate","Year to date","previousFourWeeks","Previous 4 weeks","previousThirtyDays","Previous 30 days","EndsAt","End date","AWeek","A week","Never","Never","EveryTwoWeeks","Every two weeks","EveryTwoMonths","Every two months","EveryThreeMonths","Every three months","EverySixMonths","Every six months","Yearly","Every year","EveryTwoYears","Every two years","EveryThreeYears","Every three years","WithCustomFrequency","with a custom frequency","days","d","hours","h","minutes","m","seconds","s","fullYear","year","fullYears","years","fullMonth","month","fullMonths","months","fullDay","day","fullDays","days","fullHour","hour","fullHours","hours","fullMinute","minute","fullMinutes","minutes","fullSeconds","seconds","fullSecond","second","Millisecond","Millisecond","TimeZone","Time zone","Normal","Normal","System","System","None","None","SystemExceptionRules","System Exception","GpsDataExceptionRules","GPS Data Exception","ZoneStopExceptionRules","Zone Stop Exception","EngineExceptionRules","Engine Exception","Speed","Speed","Authorizing","Authorizing...","Login","Log in","DbUnavailable","Unknown Database","InvalidUser","Invalid user name or password","CommonPasswordsException","Common passwords are not allowed","PasswordsDoNotMatch","Passwords do not match","PasswordIsBlank","Password cannot be blank","ResetPasswordExpired","Your reset password link has expired, please click the '?' button to try again.","Custom","Custom","TypeToFilterEntities","Type to filter entities...","PleaseWaitDiagnostics","Please wait...","January","January","February","February","March","March","April","April","May","May","June","June","July","July","August","August","September","September","October","October","November","November","December","December","Jan_short","Jan","Feb_short","Feb","Mar_short","Mar","Apr_short","Apr","May_short","May","Jun_short","Jun","Jul_short","Jul","Aug_short","Aug","Sep_short","Sep","Oct_short","Oct","Nov_short","Nov","Dec_short","Dec","Sunday","Sunday","Monday","Monday","Tuesday","Tuesday","Wednesday","Wednesday","Thursday","Thursday","Friday","Friday","Saturday","Saturday","Sun","Sun","Mon","Mon","Tue","Tue","Wed","Wed","Thu","Thu","Fri","Fri","Sat","Sat","ExceptionsDetailReport","Do not attach Exceptions Detail report","FailToLoadFiles","Files {0} can't be loaded.","FileSizeTooBig","File size is too big","AllFieldsAreFilledOutProperly","Please ensure all fields are filled out properly","IncludeStatusDetails","Include status details","PageFullScreenNotification","The menu was hidden to provide more space. You can show it again by clicking this button.","PageFullScreenNotificationOnTouch","The menu was hidden to provide more space. You can show it again by clicking this button or swiping to the left.","ZoneAlreadyDeleted","The zone you are trying to edit has already been deleted.","NoMapServerFedInConfig","Your service does not have road speeds enabled. Please contact your administrator.","InvisibleRule","Invisible rule","ActualMoreThanLimit","Actual > Limit","ActualLessThanLimit","Actual < Limit","ShowZones","Show zones","ShowTraffic","Show traffic","ShowRoutes","Show routes","SnapTripsToRoad","Snap trips to road","InterpolatedRouteMessage","This trip has been adjusted based on route information.","ReportPeriod","Report period","InvalidDataInDocument","The uploaded Excel document contains invalid data. Contact your administrator.","NoExceptions","No exceptions","UploadingAccessDeniedError","Access to the file or folder is denied.","GoFirmware1","New GO device, type is still unknown.","GoFirmware2","GO Lite Key","GoFirmware3","GO2 Key and Radio (stream mode)","GoFirmware4","GO2 Live (Sony Ericsson GM28)","GoFirmware5","GO2A Key and Radio (stream mode)","GoFirmware6","GO2A Live (Sony Ericsson GM28)","GoFirmware7","GO2 Lite Live (Sony Ericsson GM28)","GoFirmware8","GO2 Integrated Live (contact support - unsupported firmware version)","GoFirmware9","GO2 J1708 Key and Radio (contact support - custom firmware version)","GoFirmware10","GO2 J1708 Key and Radio (stream mode)","GoFirmware11","GO2 J1708 (contact support - custom firmware version)","GoFirmware12","GO2 J1708 Key and Radio (ack mode)","GoFirmware13","Reserved (contact support  unsupported firmware version)","GoFirmware14","GO2A Key and Radio (ack mode)","GoFirmware15","GO2A Key and Radio (contact support - custom firmware version)","GoFirmware16","GO2 J1708 Live (Sony Ericsson GM28)","GoFirmware17","GO2 J1708 Live (Sony Ericsson GT48)","GoFirmware18","GO2 J1708 Key and Radio (stream)","GoFirmware19","GO2 J1708 External 802.11 (Lantronix)","GoFirmware20","GO2A Live (MultiTech MTCBA)","GoFirmware21","GO2 J1708 Live (MultiTech MTCBA-G)","GoFirmware22","GO2A Integrated Live (Siemens MC55/56)","GoFirmware23","GO2 J1708 (custom firmware - serial upload)","GoFirmware24","GO2A Live (MultiTech MTCBA-GSM)","GoFirmware25","GO2 Lite Live (MultiTech MTCBA-GSM)","GoFirmware26","GO2A Live (MultiTech MTCBA-CDMA)","GoFirmware27","GO2 J1708 Live (MultiTech MTCBA-CDMA)","GoFirmware28","GO2A Live (contact support - custom firmware version)","GoFirmware29","GO2A Lite Live (MultiTech Quad Band MTCBA-G)","GoFirmware30","GO2A Live (MultiTech Quad Band MTCBA-G-F4)","GoFirmware31","GO2A Lite Live (MultiTech Quad Band MTCBA-G-F4)","GoFirmware32","GO3 J1939 Key and Radio (ack mode)","GoFirmware34","GO3 OBD II Key and Wi-Fi","GoFirmware35","GO3 J1939 Key and Wi-Fi","GoFirmware36","GO3 J1708 Key and Radio (ack mode)","GoFirmware37","GO3 J1708 Key and Wi-Fi","GoFirmware38","GO3 GMLAN J1939 Key and Radio (ack mode)","GoFirmware39","GO3 OBD II Key and Radio (ack mode)","GoFirmware40","GO2 Live (MultiTech Quad Band MTCBA-G-F4)","GoFirmware41","GO2 Lite Live (MultiTech Quad Band MTCBA-G-F4)","GoFirmware43","GO2A ZeroSpeedUpload Key and Radio (ack mode)","GoFirmware65","GO4V1 J1939 Live","GoFirmware66","GO4V1 J1708 Live","GoFirmware67","GO4V1 OBD II Live","GoFirmware68","GO4V1 J1939 Key and Radio (ack mode)","GoFirmware69","GO4V1 J1708 Key and Radio (ack mode)","GoFirmware70","GO4V1 OBD II Key and Radio (ack mode)","GoFirmware71","GO4V1 J1939 Wi-Fi","GoFirmware72","GO4V1 J1708 Wi-Fi","GoFirmware73","GO4V1 OBD II Wi-Fi","GoFirmware75","GO4V2 OBD II J1939 Key and Radio (ack mode)","GoFirmware76","GO4V2 OBD II J1939 Wi-Fi","GoFirmware77","GO4V1 GMLAN J1939 Key and Radio (ack mode)","GoFirmware78","GO4V2 OBD II J1939 Key, Ack Mode Radio & Iridium","GoFirmware79","GO4V2 OBD II J1939 Live & Iridium","GoFirmware80","GO4V2 OBD II J1939 Live","GoFirmware81","GO4V3 OBD II J1939 J1708 Live & Iridium","GoFirmware82","GO4V3 OBD II J1939 J1708 Key, Ack Mode Radio & Iridium","GoFirmware83","GO4V3 OBD II J1939 J1708 UPS Live & Iridium","GoFirmware84","GO4V3 OBD II J1939 J1708 UPS Key, Ack Mode Radio & Iridium","GoFirmware85","GO4V3 Live J1708","GoFirmware86","GO4V3 J1708 UPS Key and Radio (ack mode)","GoFirmware87","GO4V3 OBD II J1939 J1708 Live with Sensomatix","GoFirmware92","GO5 Live with Sensomatix","GoFirmware100","GO5 Live","SaveThisView","Save this view","SaveThisViewMessage","Please enter a name for the view. This view will allow you to quickly snap to the same area on the map.","ViewNameEmptyMessage","The name of the view cannot be empty.","ViewNameAlreadyAssignedMessage","A view with that name already exists.","EditRadioDownloader","Edit the radio downloader","MultipleSelectMenu","Multiple Selection Menu","MultipleDevices","Multiple Devices","EditDevice","Edit device","EditZoneShape","Change zone shape","EditZoneDetails","Edit zone","Square","Square","Circle","Circle","noGroups","No Groups","unspecified","Unspecified","Unsupported","Unsupported","CustomDevice","Third-party device","GoDriveDevice","Drive device","EditMap","Edit map","SendRoute","Send route to vehicle","SendZone","Dispatch vehicle here","EditRoute","Edit route","AttachZoneToRoute","Add zone to route","VehicleParkedHere","Vehicle parked here at route start.","NoVehicleSelected","No vehicle selected","CreateNewRouteNotification","Click on a zone for additional routing options.","IncorrectWaypointWarning","Sorry, directions to this waypoint could not be found.","EditRouteNotification","Modify the route by dragging existing points or adding new points with a click","RuleNameException","You must provide a name for this rule.","RuleNameLengthException","The rule name is too long","EmptyConditionException","The conditions cannot be empty.","WayPointsLimitedNotification","The maximum waypoint limit of {0} has been exceeded. Showing the first {0} waypoints.","EmptyRoutesWarning","Route {0} has less than 2 stops and cannot be shown","IndividualEntities","Individual devices or drivers","IndividualVehiclesOrDrivers","Individual vehicles or drivers","ConfirmDeleteChildlessGroup","Are you sure you want to delete group '{0}'?","ConfirmRemoval","Confirm removal","RouteLayerFail","Sorry, but route module doesn't work on this map. Try another map provider for drawing routes.","NoAddressNotification","Sorry, we can't find the address. Try another location.","ResetStops","Reset stops","ResetStopsNotification","Clear all stops before sending","ClearStatus","Clear this status","DownloadPDF","Download PDF","DownloadExcel","Download Excel file","Unspecified","Unspecified","UnsafeContentLoading","Loading potentially unsafe content","UnsafeContentLoadingWarning","This page may contain scripts that can compromise your data. If you don't trust this page, click Cancel and contact your administrator.","ProseedText","Proceed","UnsafeAddInContentLoadingWarning","This page has an Add-In that may contain scripts that can compromise your data. If you don't trust the Add-In, click Cancel and contact your administrator.","CurrentUserGroupsChangeWarning","The group clearances of your account were changed. The page will be reloaded.","SelectionWarning","There should be at least one entity selected","NotSavedChagesWarning","Your changes have not been saved. Please refresh the page and try again.","EntityWasRemovedWarning","The {0} has been removed by another user.","EntityWasSetWarning","The {0} has been edited by another user.","EntitiesWasRemovedWarning","The {0} has been removed by another user.","EntitiesWasSetWarning","The {0} has been edited by another user.","CurrentUserSecurityGroupsChangeWarning","The security clearances of your account were changed. The page will be reloaded to reflect this.","EmptyNameWarning","The name cannot be empty.","EmptyGroupsWarning","Groups cannot be empty.","CodeLengthWarning","Code must be an integer between 0 and 255.","EmptyMessageWarning","Message is empty.","ZeroVehiclesSelected","There are 0 vehicles selected","ZeroVehiclesWarning","There are 0 vehicles in the selected groups.","WorkHolidayNotAvailable","This work holiday is not available","EditWorkHoliday","Edit the work holiday","EndTimeGreaterStartTime","The start time must be before the end time.","SelectZone","Please select at least one zone","ZoneTypeNotAvailable","This zone type is not available","MissingClosingBracket","Open bracket is missing a closing bracket","ClosedBracketMatchingOpen","Closed bracket doesn't have a matching open one","MustHaveValue","must have a value","Recipient","The recipient","Name","Name","ID","ID","Distance","Distance","From","From","from","from","Trip","Trip","Trips","Trips","To","To","to","to","at","at","Day","Day","Week","Week","Month","Month","Wrappers","Wrappers","Logic","Logic","IsDriving","Driving","TripDistance","Trip distance","TripDuration","Trip duration","DVIRDefect","DVIR defect","AfterRuleWorkHours","After work hours rule","RuleWorkHours","Work hours rule","AfterDeviceWorkHours","After work hours device","DeviceWorkHours","Device work hours","IsValueMoreThan","Is value more than","IsValueLessThan","Is value less than","IsValueEqualTo","Is value equal to","InvertResult","Invert result","RemoveLabel","Remove","AddLabel","Add","RenameLabel","Rename","NewFolder","New folder","SearchZoneOrAddress","Search zone or address","ClickToSet","Click to set","GoToNotificationsList","Click to go to the notifications list","ReadNotification","Click to read the notification","ToggleDetails","Click to toggle details","HugeAmountOfDataInRequestWarning","You have requested a very large amount of data. Please use the search and/or options to narrow the results.","SelectZoneWarning","Please select a zone.","Reminders","Reminders","Events","Events","ShowOnMap","Show on map","FuelUsed","Fuel used","ZeroSpeed","Zero speed","Enabled","Enabled","ZoneWithoutPointsWarning","The zone cannot be saved without points.","ProviderIsUnavailableBecauseOfAPIKey","You don't have an API key for this map provider","APIKeysForDrawingRoutes","You don't have a map provider API key for drawing routes.","DistanceEstimationWarning","The distance between waypoints cannot be estimated because you don't have a map provider API key.","scriptErrorWarning","It's likely that one of your browser's plugins threw this error. Disable the plugin and try again.","AddinErrorWarning","Add-In '{0}' threw an error. Please contact your administrator","AddinTLSWarning","Connection is forbidden for this page. The remote server does not support the required TLS version. Please contact support.","FileFormatNotRecognized","File format is not recognized. Please try another format.","ServiceOffline","Service Offline","serviceOfflineWarning","The service is temporarily offline for maintenance. This message will disappear when the maintenance is over.","OldVersion","Old version: {0}","NewVersion","New version: {0}","UpdateReady","Update Ready","ApplicationUpdatedNewVersion","The application has been updated to a new version.","PageReloadUpdateLatestVersion","This page will reload to update to the latest version.","bigPdfDocument","First {0} pages are shown in preview.","invalidJSON","Your JSON is invalid","supportEmailWarning","Add-In must have a support email parameter.","noAddInNameOrUrl","Please provide a name and a URL for the Add-In.","noPagesInAddinWarning","There should be at least one custom page or button in the Add-In.","wrongUrlOfAddinPage","All Add-In URLs must use HTTPS.","wrongNameOfAddinPage","Add-In name can't contain special symbols (like <, >, &, $, %, #, etc)","FileMustBeXls","File must be .xlsx or .xlsm","DatabaseVersionOld","Your database is under maintenance","unsigned","unsigned","WrongPageWarning","You do not have access to this page.","ClickToUseTemplate","Click here to use this template anyway.","DeniedAccessToFS","The file can't be retrieved because it is in use by another program.","CacheBusyWarning","Web server is busy processing data. Please try again later.","SelectedFilePathLength","The name of the selected file is too long. Rename the file and try again.","PasswordPolicyUpperCaseException","Password policy requires an upper case character.","PasswordPolicyLowerCaseException","Password policy requires a lower case character.","PasswordPolicyNumberException","Password policy requires a numeric character.","PasswordPolicySymbolException","Password policy requires a non-alphanumeric character.","PasswordPolicyMinimumLengthException","Password policy requires a minimum length of {0} characters.","PasswordPolicyContainUserNameException","The password cannot contain the user name.","RemovedEntityWarning","There is no {0} with such ID. Probably, it was removed","DefaultProviderWasChanged","Default map provider was changed","roadSpeedHasBeenChangedRecently","This road speed has been changed recently.","roadSpeedIsAnEstimatedValue","This road speed is an estimated value","YouHaveNotMadeAnyChanges","You have not made any changes","ZoneRouteWarning","This zone is not part of any routes","NoZoneEdit","This zone has been edited by another user. You cannot make anymore edits.","UnknownAddinError","One of your Add-Ins threw an error: {1}","KnownAddinError","'{0}' Add-In threw an error: {1}","DiagnosticDuplicateException","A diagnostic with this code already exists.","DiagnosticArgumentNullException","Diagnostic must have a controller","InvalidCustomMap","{0} map has invalid options","RelationEntityWarning","This entity has been changed or removed by another user while you were offline. Please reload the page.","DataSourceAndReportSheetMiss","Data or report sheet missing.","ReportDataSourceInExcelAndInArgsAreDifferent","The template type of the Excel file is different from the one that you are editing.","NoFirstRowInDataSheet","No first row in data sheet","NoFirstCellInDataSheet","No first cell in data sheet","NoCommentFieldDataSheet","No comment field in the first cell of data sheet","NoMatchingReportDataSoruce","No matching report data source","ReportDataVersionFormatWrong","The data version format for the report is incorrect.","TooManyRowsInReportTemplate","There are more than 1000 rows in the report sheet. Please reduce the size of the report.","NoReferenceReportSheet","There is no Excel reference between the Data Sheet and the Report Sheet.","EmptyReportHeading","The report heading is empty in the Report Sheet.","EmptyUrl","Web request URL can't be empty","EmptyDistributionList","You have not selected a distribution list","UriFormat","Invalid URL","IELongURLMessage",'Use the "Select All" option to restore filter options after reloading the page',"Add new template","Add new template","{device} broke the rule {rule}","{device} broke the rule {rule}","{device} broke the rule '{rule}'","{device} broke the rule '{rule}'","Default email template","Default email template","Send Rule Name","Send Rule Name","UnknownEmailTemplate","You have selected an unknown email template.","UnknownWebRequest","You've selected an unknown web request template","UnknownTextRequest","You've selected an unknown text template","UnknownTextMessageTemplate","You've selected an unknown text template","Say Rule Name","Say Rule Name","EmptyTTS","GO TALK must have a message","EmptyPopupTemplate","Alert must have a message","Token{0}IsUnknown","Token {0} is unknown.","ItMayTakeALotOfTimeToGenerateReport","It may take some time to generate the report.","AssignDriverRequestNotification","Request for assigning driver to '{0}' has been queued for processing. It may take some time to complete.","UndoRouteRemoval","Route {0} was removed","UndoZoneRemoval","Zone {0} was removed","NoResultsFound","No results found.","multipleEditErrorWarning","{0} cannot be changed because of an error: {1}","CommentTooLong","The comment is too long","ClearCacheWarning","You're using an old version of the application. Clear browser's cache and refresh the page.","ClearCacheWarningWithRefresh","You're using an old version of the application.","OldBrowserVersionError","You are using a very old version of your browser. Please update your browser to minimize unexpected errors.","EditInvalidZoneParameters","You can click and then edit invalid zone parameters","InvalidDistanceValue","Invalid distance value","ReportCannotBeOver3MB","The report's size cannot be over 3 MB.","NoFirstRowDataSheet","No first row in data sheet","NoCommentFirstCell","No comment in the first cell of data sheet","NoMatchingReportType","No matching report type","ReportTypeVersionFormatWrong","Report type version format is wrong","MalformedHyperlink","Your report contains a malformed hyperlink","SavedChanges","Your changes have been saved.","AcceptEulaNoInternetConnection","The connection to the server failed. Please try again later.","AddinDownloadError","The Add-In cannot be installed. Check your Internet connection or try again later.","CouldNotDecodeVIN","Could not decode VIN.","ProvideVehicleInformation","Provide vehicle information?","SendMessageToVehiclesPattern","Send this message to {0} vehicles?","DriverAndVehicleTooltipName","{0} in {1}","TooltipMovingPattern","Driving {0} on {1} at {2}","TooltipStoppedPattern","Stopped for {0}. Arrived on {1} at {2}.","TooltipStoppedPatternWithNoDuration","Stopped. Arrived on {0} at {1}","TooltipMovingPatternWithNoDuration","Driving on {0} at {1}","TooltipNoDataPattern","No communication on {0} at {1}","TooltipStopExceptionPattern","stopped for {0}, arrived on {1} at {2},","TooltipStopExceptionPatternWithNoDuration","stopped, arrived on {0} at {1},","AllExceptionsPattern","{0} at {1}","ExceptionLinePattern","{0} on {1}","NotAllExceptionShown","and {0} more","NoRecentData","No communication for {0}","NoCommunication","No communication","TimeOfArrival","Time of arrival","TimeOfDeparture","Time of departure","Duration","Duration","SpeedLimit","Speed limit","LastArrival","Last Arrival","LastDeparture","Last Departure","FirstArrival","First Arrival","DepartTime","Departure time","ArriveTime","Arrival time","TotalTime","Total time","LiveVehiclesRequestException","Couldn't get log data for {0}","DeselectChildGroups","There are child groups of {0} selected. Selecting this group will deselect its child groups. Would you like to continue?","ago","ago","DeviceTripPoi","{0} away","GPSCoordinatesTooltip","GPS Coordinates","RecordType","Record Type","ReasonForRecord","Reason for the record","LoggedOn","Logged on","RecordValue","Record Value","StringData","String representation of binary data","VehicleName","Vehicle Name","showVehicleSpeed","Show vehicle speed","EditUom","Edit the unit of measure text","EnterDescription","Please enter a description","UnitMeasureNotAvailable","This unit of measurement is not available","ExceptionsGroup","Group of exceptions","Exceptions","Exceptions","Exception","Exception","Violators","Violators","FailedToLoadMap","Failed to load map: {0}. Check your network connection status or try another map provider.","NoLogDataForTheRoute","There is no log data for this route.","googlev3","Google Maps","osm","MapBox","geo","Custom map tiles (ESRI shapefile required)","here","HERE Maps","Overlayers","Overlayers","BaseLayers","Base layers","ResetToDefaultFilterText","Reset selection","EverythingInFilterText","Everything in {0}","Stop","Stop","AssignStatusGroup","Select status group","mileage","Mileage","ThisGroup","this group","RelationViolationException","There are assets assigned to group '{0}'. Please reassign the assets listed below and try again.","RelationViolationExceptionForUnknownAssets","{0} group cannot be removed because there are assets assigned to it.","GroupHasntBeenRemoved","Group has not been removed","RelationViolationExceptionForLimitedRights","{0} group cannot be removed because you do not have access to the assigned assets: {1}.","LongTermStorageIsNotAvailable","Login requires browser storage capability, which is currently disabled or unsupported by your browser.","LogoutAll","logged off of everywhere","tooManyEventsInLogPointNotification",'There are too many events at this location. You can see all of them by clicking on the trip and choosing "Show Accident and Log Data" from the dropdown menu.',"NotSupportedInYourArea","Functionality is not supported in specified area.","Warning","Warning:","HighlightGroups","Highlight groups","Highlight","Highlight","WarningTwoStatusGroups","There can't be two selected status groups!","true","true","false","false","True","True","False","False","CannotFindNearbyRoad","Nearby road cannot be found.","using GPS","using GPS","Notifications","Notifications","FillForm","Product feedback","NumberedOneAlert","You have 1 alert","NumberedMultAlerts","You have {0} alerts","NumberedOneUrgentAlert","You have 1 urgent alert","NumberedOneAdditionalUrgentAlert","You have 1 additional urgent alert","NumberedMultUrgentAlerts","You have {0} urgent alerts.","NumberedMultAdditionalUrgentAlerts","You have {0} additional urgent alerts","BrokeRule","{0} broke the rule '{1}' at {2}","BrokeRuleDriver","{0} ({3}) broke the rule '{1}' at {2}","UrgentNotificationFrom","Urgent notification from","UrgentNotification","Urgent notification","Sharpen Your Fleet Management Skills","Sharpen Your Fleet Management Skills","New Company Profile: click here to learn more!","New Company Profile: click here to learn more!","ConfirmEmail","Almost finished... We need to confirm your email address. To complete the subscription process, please click the link in the email we just sent you.","Subscribed","Subscribed","TooManyClicks","Error: Too many subscribe attempts for this email address. Please try again later.","limitedDevicesAmountText","Only {0} devices have been shown. Use the search bar or sort by groups to narrow down the results.","limitedTripsAmountText","Only {0} trips have been shown. Use the search box or the groups filter to narrow down the results.","limitedDevicesAndDriversAmountText","Only {0} devices and {1} drivers have been shown. Use the search bar or the options to narrow down the results.","listBuilderLimitedText","There are {0} additional results not displayed. Use the search and/or options to narrow the results.","listBuilderPreLimitedText","There are {0} additional results not displayed from the {1} results. Use the search and/or options to narrow the results.","listBuilderPartlyLimitedText","Some results are not displayed. Use the search and/or options to narrow the results.","NoActivityWarningLabel","No activity. Select different devices or change the date range.","NoDataWarningLabel","There are no conversations for the selected options or date range. Please select different options or change the date range.","DriverLicenseWarning","Driver's license number and License state/province must be set at the same time.","LicenseStateLengthWarning","Enter an abbreviation for License state/province using only the first two letters.","DriverLicenseDuplicateException","A driver with the same license number already exists in this state/province.","NoOptionsSelectedLabel","You have not selected any reporting options. Click the Options button to specify the data to use for generating the report.","SearchVehiclesDriversOrAddress","Search address, vehicles, or drivers","SearchVehicles","Search vehicles","SearchRules","Search rules","SearchRoute","Search Route","Search","Search","City","City","Region","Region","PostalCode","Postal code","Country","Country","UnknownAddress","Unknown address","itemsOfTypeNotFoundText","Some items of type '{0}' couldn't be found: {1}","Progress","Progress:","typeIsNotSupportedText","'{0}' type is not supported!","DragAndDropFiles","Drop your files here or click to select them","SelectFileUpload","Select a file to upload","UploadingProgress","Uploading progress","Browse","Browse","Size","Size","Zipped","Zipped","ZippedSize","Zipped size","SelectedFoldersWarning","Folders cannot be selected","SelectFilesWarning","There are no files selected for uploading.","SelectedFileSizeTooBig","The size of the selected file is too large. It must be less than 10 MB.","UploadAfterZipping","Your upload will start when zipping is completed.","SelectServersWarning","There are no servers selected for uploading","Server","Server","PleaseWait","Please wait","uploadSuccess","Uploaded","uploadFailed","Upload failed","uploadCanceled","Upload cancelled","CancelUpload","Cancel Upload","SelectNewFile","Select a new file","unauthorizedFileTypeMessage","You have selected an unauthorized file type: {0}. Only {1} files may be selected.","FileContentErrorMessage","The file is corrupted. Select another file and try again.","FileNameWarning","The file name contains illegal characters. Please rename the file.","showHistoricalText","Show historical","hideHistoricalText","Hide historical","SearchConversation","Search conversation","ConversationSettings","Conversation settings","DevicesListMessages","List vehicles receiving messages from this thread","SendMessageError","An error occurred while sending this message.","You","You","UnknownDevice","Unknown device","SearchOptions","Search options","SearchMessages","Search messages","ShowOptions","Show options","HideOptions","Hide options","Apply","Apply","IncludeUndeliveredMessagesInSearch","Include undelivered messages","IncludeVehiclesOnlyInSearch","Search vehicle names only","SendNewMessage","Send a message","NewMessageText","New message","Chat","Chat","ComposeMessageToOneDevice","Compose a message for {0}","ComposeMessageToDevices","Compose a message for {0} devices","FoundMessages","{0} from {1}","SearchForMessageText","Search for a message","TypeMessageText","Type a message here","CannedRepliesText","Canned replies","ProvideCannedMessages","Provide the driver with canned replies for this message","CannedRepliesPlaceholder","Select from the canned replies above or add your own","HideSystemMessages","Hide system messages","HideUndeliveredMessage","Hide undelivered messages","DeleteConversation","Delete conversation","SearchPeriodText","Search period:","FilterByEntitiesText","Filter vehicles, groups, and drivers","ComposeMessageText","Compose message","momentAgoText","a moment ago","secondsAgoText","{0} seconds ago","minuteAgoText","a minute ago","minutesAgoText","{0} minutes ago","HourAgoText","an hour ago","HoursAgoText","{0} hours ago","DayAgoText","a day ago","DaysAgoText","{0} days ago","MonthAgoText","a month ago","MonthsAgoText","{0} months ago","YearAgoText","one year ago","YearsAgoText","{0} years ago","NoMessagesText","There are no messages for the selected options.","NewCannedReply","New canned reply","NewCannedRepliesPlaceholder","Enter each canned reply on a new line.","MessageSentToDeviceOfDriver","Message will be sent to the last device assigned to the driver.","OpenGroup","Open group","ParentGroup","Parent group","UserWithoutDevice","User {0} does not have an assigned device at this time.","UsersWithoutDevices","The selected driver(s) do not have assigned devices at this time.","DatePickerDatePeriod","Date Period","DatePicker","Date picker","DisplayOptions","Display Options","ApplyChanges","Apply changes","Selected","Selected","AllDrivers","All Drivers","PleaseSelectDevice","Please select at least one device","PleaseSelectDriver","Please select at least one driver","PleaseSelectTrailer","Please select at least one trailer.","SelectDriver","Select driver","SelectRoute","Select Route","RouteType","Route type","Visible","Visible","NotVisible","Not visible","Loading","Loading...","MM/dd/yy","MM/dd/yy","dd/MM/yy","dd/MM/yy","d.M.yy","d.M.yy","dd.MM.yy","dd.MM.yy","yy-MM-dd","yy-MM-dd","MM-dd-yy","MM-dd-yy","dd-MM-yy","dd-MM-yy","MMMM dd, yy","MMMM dd, yy","dd MMMM yy","dd MMMM yy","yyyy-MM-dd","yyyy-MM-dd","yyyy MMM dd","yyyy MMM dd","dd MMM yyyy","dd MMM yyyy","MM/dd/yyyy","MM/dd/yyyy","MMM/dd/yy","MMM/dd/yy","MMM/dd/yyyy","MMM/dd/yyyy","MMM/d/yy","MMM/d/yy","dd/MM/yyyy","dd/MM/yyyy","dd/MMM/yy","dd/MMM/yy","d/MMM/yy","d/MMM/yy","dd.MM.yyyy","dd.MM.yyyy","HH:mm:ss","HH:mm:ss","H:mm:ss","H:mm:ss","h:mm:ss tt","h:mm:ss tt","hh:mm:ss tt","hh:mm:ss tt","differentForEachUser","Different for each user","RunBy","Run by","HideZeroDistanceRows","Hide zero distance rows","RunReportBy","Run report by","exceptionRules","Exception rules","reminderRule","Reminder rule","NoteAboutExceptionRules","Note: Only the first {0} exception rules will be used in the report.","IgnoreStopsShorterThan","Ignore stops shorter than","IgnoreStopsLongerThan","Exclude stops over","IgnoreStopsLongerThan:","Exclude stops over:","IncludeHistoricData","Include historical data","ExcludeStopsZoneTypes","Exclude stops in zone types","AllRules","All rules","AllZoneTypes","All zone types","LogType","Log type","DataWriter","Data Writer","DataStoreCache","Data Store Cache","NotificationEmailSender","Notification Email Sender","ThirdPartyDeviceServer","Third-party Device Server","FtpFeeder","FTP Feeder","EthernetDownloaderServer","Ethernet Downloader Server","NetworkDownloader","Network Downloader","UsbController","USB Controller","EthernetDownloader","Ethernet Downloader","EthernetDownloaderProgrammer","Ethernet Downloader Programmer","DatabaseTransfer","Database Transfer","AllSources","All Sources","ReportType","Report type","Details","Details","Summary","Summary","ZoneTypes","Zone Types","ZoneType","Zone type","SelectAllZone","Select all Zones","SelectedZones","Selected zones","ReprocessOptions","Reprocess options","RestoringRouteWithoutZonesWarning","Someone removed all waypoints connected to the route. They can't be restored.","communityData","Community","commercialData","Commercial","SpeedDataProvider","Road speed provider","ShowStopsInsideZones","Indicate stops within zone","IncludeUnmatched","Include Unmatched","ZoneTypes:","Zone Types:","OnlyDefective","Only Defective","OnlyRepaired","Only Repaired","OnlyCertified","Only Certified","ShowMaintenanceHistory","Show completed maintenance","Critical","Critical","exceptionRules:","Exception rules:","RunReportBy:","Run report by:","ExcludeStopsZoneTypes:","Exclude stops in zone types:","HighestDensity","highest density","LowestDensity","lowest density","NotificationTemplateRemoveMessage","Are you sure you want to remove this template with all linked notifications and distribution lists?","HostedMapsDisclaimer","In addition, it is possible to request hosted maps. Please see the {0} for more information.","MaximumDistanceBetweenDevices","Maximum distance between devices:","IncludeSystemMessages","Include system messages","OnlyUndeliveredMessage","Only undelivered message","HideRowsZeroDistance","Hide rows with zero distance:","AlwaysShowDevicesDrivers","Always show devices or drivers","CountStopsOver","Only count stops over","DueEngineHoursLimit","Due engine hours limit","ReminderRules","Reminder rules","ShowOnlyActive","Show only active","EmailReport","Email report","TypeOfReport","Type of report:","DateRange","Date range","RefreshPeriod","Refresh period:","NextRun","Next run:","ReportForGroups","Belonging to:","GroupingOptions","Grouping options:","WhoCanSeeReport","Who can see this report:","RedirectReport","Redirect report:","RedirectReportsTo","Redirect to:","WhenSendReport","Redirect when SendReport becomes:","ContinueQuestion","Would you like to continue?","longRunningTitle","Long Running Report","fewMomentsForReport","Your report will take a few moments to prepare.","fewMinutesForReport","Your report will take a few minutes to prepare.","fiveMinutesForReport","Your report will take quite a while to prepare (more than 5 minutes).","tenMinutesForReport","Your report will take quite a while to prepare (more than 10 minutes).","oneMinuteForReport","Your report will take about a minute to prepare.","DateRange:","Date range:","ReportDataConfiguration","Report data configuration","EraseCurrentDate","Erase the current date","CloseWithoutChange","Close without changes","Prev","Prev","Next","Next","ShowPreviousMonth","Show the previous month","ShowNextMonth","Show the next month","ShowCurrentMonth","Show the current month","ShowDifferentMonth","Show a different month","ShowDifferentYear","Show a different year","WeekYear","Week of the year","SelectDate","Select a date","DayStatus","Set DD as the first day of the week","Now","Now","Done","Done","AllDone","All Done","ChooseTime","Choose time","Ready","Ready","Open","Open","Resize","Resize","PreparingForUpdate","Preparing to update. Click for immediate update.","RequestingLatestData","Request most recent vehicle positions","IncidentCount","Incident Count","Occurrences","Occurrences","TryingToReachServer","Trying to reach the server...","FailedToReachServerNTimes","Failed to reach the server {0} times consecutively","SearchHOSDrivers","Search HOS drivers","ViewLogs","View logs","IncludeSystemLogs","Include system logs","IncludeIntermediateLogs","Include intermediate logs","Workday","Workday","On-duty","On-duty","Driving","Driving","AnnotationWeatherConditions","Adverse driving conditions","AnnotationExemption","16-hour exemption","Authority","Authority","AuthorityChanged","Authority changed from '{0}' to '{1}'.","EnginePowerup","Engine power up","EngineShutdown","Engine shutdown","EnginePowerupPC","PC Engine power up","EngineShutdownPC","PC Engine shutdown","PowerCompliance","Power compliance","EngineSyncCompliance","Engine sync compliance","TimingCompliance","Timing compliance","PositioningCompliance","Positioning compliance","DataRecordingCompliance","Data recording compliance","DataTransferCompliance","Data transfer compliance","OtherCompliance","Other compliance","MissingElementCompliance","Missing data compliance","UnidentifiedDrivingCompliance","Unidentified driving compliance","InvalidRuleset","Invalid Ruleset","HourCycleOnDutyLimit","{0}-hour cycle on-duty limit","HourRestLimit","{0}-hour rest limit","HourDrivingLimit","{0}-hour driving limit","HourOnDutyLimit","{0}-hour on-duty limit","HourWorkdayLimit","{0}-hour workday limit","LimitNotRequiredCycle","Cycle limit not required","LimitNotRequiredRest","Rest limit not required","LimitNotRequiredDrive","Drive limit not required","LimitNotRequiredOn-duty","On-duty limit not required","LimitNotRequiredWorkday","Workday limit not required","HourCycleOnDutyLimitViolation","Maximum {0} hour(s) on duty in {1} days violation","HourRestLimitViolation","Driving after more than {0}-hour rest limit violation","HourDrivingLimitViolation","Maximum {0}-hour driving limit violation","HourOnDutyLimitViolation","Maximum {0}-hour on-duty limit violation","HourWorkdayLimitViolation","Maximum {0}-hour workday limit violation","dateTimeInYourTimezone","{0} in your time zone","HOSLogAdd","HOS Log Add","HOSLogEdit","HOS Log Edit","Codriver","Co-driver","NoDefects","No defects","Connected","Power connected","Disconnected","Power disconnected","Send","Send","Webservices","Web Services","TransferEldComment","Comments and/or Officer code:","ChangedRuleSetAnnotation","Ruleset changed to {0} on {1}","LeastSensitive","Least sensitive","MostSensitive","Most sensitive","MoreAboutSensitivityLevels","Find out more about sensitivity levels","SecurityAboutCheckmate","View About page","SecurityAccidentDebugReport","Log details and accident report","SecurityAccidentWizard","Accident Wizard. Create or download accident keys.","SecurityAddInReports","View Add-In Reports","SecurityAlarmSoundList","Administer alarm sounds","SecurityAuditLog","View the audit log","SecurityAuxiliaryReport","Auxiliary report","SecurityChangePassword","Change your own password","SecurityCheck","Security Check","SecurityCongregationReport","Congregation report","SecurityCreateExtractKey","Create data extract key","SecurityCreateFirmwareKey","Create firmware upgrade key","SecurityCreateKeyBackup","Create key backup","SecurityCreateNewSqlDatabase","Create a new SQL database","SecurityCreateProgrammingKey","Create programming key","SecurityCreateTestKey","Create test key","SecurityCreateWifiKey","Create Wi-Fi setup key","SecurityCustomerVisitsReport","Customer visits report","SecurityDailyUsageReport","View Daily Usage Report","SecurityDeleteGpsTextMessage","Delete messages","SecurityDemonstrationMode","Switch to demonstration mode","SecurityDeviceAdmin","Administer devices","SecurityDeviceAdminDeleteUnplugReplace","Administer devices (delete/unplug/replace)","SecurityDeviceAdminAdvanced","Administer the device's advanced settings","SecurityDeviceAdminDriverFeedback","Administer device's driver feedback settings","SecurityDeviceInstallHistoryReport","Install history report","SecurityDeviceList","View device reports","SecurityDeviceStatus","View device status on the home page","SecurityDisplayMap","Display the map and show live tracking","SecurityDriverBlacklist","Administer blacklisted drivers","SecurityEditDeviceOdometer","Administer vehicle odometer","SecurityEditDistributionList","Administer distribution lists","SecurityEditException","Administer exception rules","SecurityEditNotificationEmailTemplate","Edit notification template","SecurityEngineControllerList","View engine controllers","SecurityEngineDiagnosticList","View engine diagnostics","SecurityEngineFailureModeList","View engine failure modes","SecurityEngineFlashCodelist","View flash codes","SecurityEngineManagementReport","View engine management report","SecurityEngineStatusDataGraph","Engine status data graph","SecurityEngineTypeList","View engine types","SecurityEngineUnitOfMeasureList","View engine units of measurement","SecurityExceptionsList","View exception rules","SecurityExceptionsReport","Exceptions report","SecurityExportFromOtherDatabase","Export database","SecurityFuelTax","Fuel Tax Report (IFTA)","SecurityFuelTransactionList","View fill-ups and fuel transactions","SecurityFuelTransactionAdmin","Administer fuel transactions","SecurityFuelUsageReport","Fuel use report","SecurityImportFromOtherDatabase","Import database","SecurityImportZones","Import zones from Excel file","SecurityInternetSettings","Configure Internet settings (enable/disable proxy server)","SecurityKeyInformation","Read key information","SecurityLaunchAddIn","Launch custom reports or Add-Ins","SecurityManageHOSLogs","Administer HOS Logs","SecurityManageReportTemplates","Manage custom reports","SecurityMessageInbox","View Message Inbox","SecurityMileageSummaryDashboard","View dashboard","SecurityNodesList","Administer groups and security clearances","SecurityNotificationList","View notifications","SecurityOrganizeViews","Configure map views","SecurityPerformanceReport","Performance report","SecurityPrepareDisconnectedUpload","Prepare uploads at disconnected site","SecurityPurgeData","Purge historical data from the database","SecurityPurgeSettings","Configure database maintenance (backup and cleanup)","SecurityRadioDownloaderList","Administer radio downloaders","SecurityReadKeyInformation","Read key information","SecurityReminderReport","View reminders","SecurityReminderRuleList","Administer reminders","SecurityEventOccurrenceList","Manage maintenance events","SecurityReprocessData","Reprocess exceptions data","SecurityRequestDeviceLocation","Request device location via Iridium satellite network","SecurityRestoreKeyBackup","Restore key backup","SecurityRiskManagementReport","Risk management report","SecurityRouteComparisonReport","Planned vs. actual route report","SecurityRouteList","Administer routes","SecurityRouteSummaryReport","Route summary report","SecuritySecurityClearanceList","View security clearances","SecuritySendExternalRelayInstruction","Send external relay instruction","SecuritySendGpsTextMessage","Send messages","SecuritySendMessage","Send a message to a device","SecuritySendImmobilizationInstruction","Send immobilization instruction","SecurityStartFullVersion","Start full version","SecurityServicesSettings","Configure services (enable/disable service, configure downloaders)","SecuritySpeedProfileReport","Speed profile report","SecuritySystemHealthMonitoring","View system health notifications","SecuritySystemSettings","Change system settings","SecurityTimeCardReport","Time card report","SecurityTrackHistoricData","Track all historical data on map","SecurityTracking","Track devices on a map","SecurityTripsActivityReport","Trips and activity report","SecurityUnassignedRouteReport","Unmatched route report","SecurityUserList","List Users/Drivers","SecurityUserAdmin","Administer Users/Drivers","SecurityUserSettings","Change your own user options","SecurityViewGpsTextMessage","View messages","SecurityViewHOSLogs","View HOS Logs","SecurityViewReportTemplate","View custom reports","SecurityWorkHolidayList","Administer work holidays","SecurityWorkTimeList","Administer work hours","SecurityZoneAdmin","Administer zones","SecurityZoneList","View zones","SecurityZoneTypeList","Administer zone types","SecurityViewDVIRLogs","View DVIR logs","SecurityManageDVIRLogs","Administer DVIR logs","SecurityRepairDVIR","Mark DVIR logs as repaired","SecurityViewTrailers","View trailers","SecurityManageTrailers","Administer trailers","SecurityViewAdvancedHelp","View advanced help items","SecurityEditRoadSpeeds","Update posted road speeds","SecurityViewMarketplacePaidItems","View paid items in the Marketplace","SecurityPurchaseMarketplacePaidItems","Purchase paid items in the Marketplace","SecurityViewCertificates","View certificates","SecurityManageCertificates","Administer certificates","SecurityViewBinaryData","View binary data","SecurityManageAddInData","Manage Add-In data","SecurityViewAddInData","View Add-In data","SecurityAccelerometerDataClearance","View accelerometer features","SecurityAuxiliaryClearance","View auxiliary features","SecurityDeviceCurrentStatusClearance","View device status information","SecurityDriverIdentificationClearance","View driver identification features","SecurityEngineStatusDataClearance","View engine measurement related features","SecurityFeaturePreviewClearance","Administer feature preview","SecurityGoTalkClearance","View GO TALK features","SecurityManageAddinsClearance","Administer Add-Ins","SecurityNewsNotificationsClearance","Administer news notification settings","SecurityProductGuideClearance","View Product Guide","SecurityResellerControlClearance","Administer Reseller access settings","SecurityServicePlansClearance","View device service plans","SecurityStatusGroupsClearance","Administer Garmin status groups","SecurityEditTripTypeChangeData","Edit Private/Not private trip types","SecurityViewTripTypeChangeData","View changes to trip types","RunForWorkTimes","Run for work hours","Unknown","Unknown","AssignDriver","Assign driver","Dispatch","Dispatch","RequestCurrentLocation","Request current location","ShowAccidentLogData","Show Accident and Log Data","AssignStatusGroups","Assign status groups","ShowSpeedProfile","Show speed profile","SendTextMessage","Send text message","SearchDriver","Search for a driver","SearchDrivers","Search for drivers","DefaultDriverForVehicle","Default for this vehicle:","ProvidersLoadFailed","Map providers have failed to load. Please, reload the page","PostedRoadSpeed","Posted road speed:","ConfigurationPending","Configuration Pending","Discovered","Discovered Downloaders","Configured","Configured Downloaders","NotFound","Not Found","Channel","Channel","RadioDownloaderNotFound","Radio Downloader not found","UploadingInterrupted","The file upload was interrupted. Please try again.","NameCannotBeEmpty","The name cannot be empty.","EnterServerNetworkAddress","Enter server network address","EnterChannelNumber","Channel number can't be empty","NetworkSettingIsIncomplete","Network settings are incomplete","SerialNumberMissing","Serial number must be specified","RemoveRadioDownloader?","Remove radio downloader?","RadioDownloaderWillBeDeleted","This Radio Downloader will be permanently deleted and will not be recoverable.","RadioDownloaderSerialNumber","A Radio Downloader with this serial number already exists.","SpecifyIPaddress","Specify IP address","AutomaticIPaddress","Automatic IP address","BrowserDoesNotSupported","You are running a browser that is no longer supported by Microsoft. As of May 2016, your browser will no longer be able to run the application. Please update your browser.","TypeAndPressAdd","Type here and press Add when done...","TypeHereOrSelectAnItem","Type here or select item","DistributionList","Distribution list","RemoveDistributionList?","Remove distribution list?","DistributionListWillBeDeleted","This distribution list will be permanently deleted and will not be recoverable.","DistributionListNameCannotStartWithSymbol@","Name of distribution list cannot start with symbol '@'","EditDistributionList","Edit distribution list","DistributionListNotFound","Distribution list doesn't exist","DuplicateRecipient","This recipient is already in your list.","ThereAreNotAnyRecipientsYet","There are no notifications set up for this exception rule.","Save and go","Save and go","GoWithoutSaving","Proceed without saving","Adding","Adding","Editing","Editing","Support","Support","CustomParametersAlert","Custom parameters allow the activation of special features  limited to custom and beta firmware. Custom parameters are issued only when necessary.","EventDueOn","Maintenance due on","NorthAmerica","North America","EventWasDueOn","Maintenance was due on","EventOverdueBy","Maintenance overdue by","EventDueIn","Maintenance due in","DueIn","Due in","RemindersNotFound","No reminders are due.","OverdueRemindersNotFound","No reminders are overdue","MaintenanceNotFound","No maintenance performed for the vehicle(s) and period selected","AddRemoveDevices","Add/remove devices","AddReminderRules","Add reminder rules","Odometer","Odometer","CalculatedOdometer","Calculated Odometer","AdjustedOdometer","Adjusted Odometer","CalculatedEngineHours","Calculated Engine Hours","AdjustedEngineHours","Adjusted Engine Hours","DataInconsistency","Current vehicle odometer or engine hours less than previous maintenance values.","CompleteMaintenance","Complete maintenance","RulesSearchByNameTitle","Search for the rules by name","DevicesSearchByNameTitle","Search for the device by name, VIN, serial #, license plate, or comments.","DevicesSearchByNamePlaceholder","Name, VIN, or serial number","RemoveRuleQuestion","Remove rule?","RemoveRuleDetails","This reminder rule will be permanently deleted and will not be recoverable.","AddMaintenance","Add maintenance","RemoveVehicleFromReminder","Remove vehicle from the reminder rule","EventTypeOilChangeId","Oil change","EventTypeTireRotationId","Tire rotation","EventTypeLeaseExpiryId","Lease expiry","EventTypeLicensePlateExpiryId","License expiry","ReloadNow","Reload the page","LanguageChangedReload","Another user changed your language to {0}. You need to reload the page for the change to take effect.","SwitchLanguageBack","Switch back to {0}","ExperimentalSettingsChangedReload","Your experimental settings have changed. {LINK} for the settings to take effect.","AddinsInstalled","Add-Ins have been successfully installed.","AddinInstalled","{0} has been successfully installed.","AddinIn1LevelMenuInstalled","{0} has been successfully installed. It can be accessed from the main menu.","AddinInDeepLevelMenuInstalled","{0} has been successfully installed. It can be accessed from {1}.","UnknownCustomButtonInstalled","{0} custom button has been added.","UnknownCustomButtonsInstalled","Custom buttons have been successfully installed.","CustomButtonInstalled","{0} custom button has been added to the {1} page.","CustomButtonsInstalled","Custom buttons have been added to the following pages: {1}.","CustomAndUnknownButtonsInstalled","Custom buttons have been added to the following pages: {1}, and a few others.","MultipleAddinInstalled","Multiple Add-Ins have been installed.","AddinRemoved","{0} has been uninstalled.","MultipleAddinsRemoved","Multiple Add-Ins have been uninstalled.","RegionalSettingsChanged","Regional settings have changed","ExperimentalSettingsChanged","Experimental settings have changed","ReloadPageToTakeEffect","Do you want to reload the page now?","AndMore","and {0} more","UserNotFound","User with ID {0} was not found","RouteNotFound","Route was not found.","DeviceNotFound","Device was not found","WorkTimeNotFound","Work time was not found","TrailerNotFound","Trailer was not found","HOSLogNotFound","HOS log was not found","RuleNotFound","Exception rule was not found","RuleTypeNotFound","Rule type was not found","GroupNotFound","The group was not found","ConnectionNotReliable","Connection to the server is not reliable","Reconnecting1","Trying to reach the server...","Reconnecting2","Still trying to reach the server...","Reconnecting3","No success so far, but we're still trying to connect...","Reconnected","Whew! We're back online","noAddress","No address has been provided.","OfficeDuration","Office Duration","HomeDuration","Home Duration","CustomerDuration","Customer Duration","NonCustomerDuration","Non-Customer Duration","startWorkingDayFrom","Start working day from","RuleHarshBrakingId","Harsh Braking","RuleJackrabbitStartsId","Hard Acceleration","RuleHarshCorneringId","Harsh Cornering","RulePostedSpeedingId","Speeding","RuleSeatbeltId","Seat belt","RuleAfterHoursUsageId","After Hours Usage","RuleAccidentId","Possible Accident","RuleIdlingId","Idling","RuleLateArrivalId","Late Arrival","RuleEarlyLeaveId","Early Leave","RuleUnauthorizedHomeStopId","Unauthorized Home Stops","RuleAtOfficeLongerThanId","Too Much Office Time","RuleLongLunchId","Long Lunch","RuleLongStopsDuringWorkHoursId","Long Stops During Work Hours","RuleEngineLightOnId","Engine Light On","RuleAlternatorFailedId","Battery Drain","RuleUnauthorizedDeviceRemovalId","Unauthorized Device Removal","RuleEngineAbuseId","Engine Abuse","RuleFleetIdlingId","Fleet Idling","RuleReverseAtStartId","Backing Up When Leaving","RuleApplicationExceptionId","Application Exception","RuleEngineFaultExceptionId","Engine Fault Exception","RuleLightsLeftOnId","Battery Drain","Product Guide","Product Guide","humanize_now","Just moments ago","humanize_mm","A minute_minutes","humanize_hh","An hour_hours","humanize_dd","A day_days","humanize_past","{d} ago","hos_ruleSetLabel","Hours of Service Ruleset","hos_None","No Ruleset (7-day cycle)","hos_None8Day","No Ruleset (8-day cycle)","hos_America7Day","USA Property 60-hour/7-day","hos_America7DayBig","USA Property 60-hour/7-day (16-hour exemption)","hos_America8Day","USA Property 70-hour/8-day","hos_America8DayBig","USA Property 70-hour/8-day (16-hour exemption)","hos_AmericaShortHaul","USA Property Short-haul 60-hour/7-day","hos_AmericaShortHaul8Day","USA Property Short-haul 70-hour/8-day","hos_AmericaShortHaulPassenger","USA Passenger Short-haul 60-hour/7-day","hos_AmericaShortHaulPassenger8Day","USA Passenger Short-haul 70-hour/8-day","hos_America7DayPassenger","USA Passenger 60-hour/7-day","hos_America8DayPassenger","USA Passenger 70-hour/8-day","hos_AmericaSalesperson","USA Salesperson","hos_CanadaCycleOne","Canada 7-Day Cycle 1","hos_CanadaCycleTwo","Canada 14-Day Cycle 2","hos_CaliforniaProperty","California Property Intrastate","hos_CaliforniaPassenger","California Passenger Intrastate","hos_AmericaTexas","Texas Intrastate","hos_AmericaTexasShortHaul","Texas Short-haul 60-hour/7-day Intrastate","hos_AmericaTexasShortHaul8Day","Texas Short-haul 70-hour/8-day Intrastate","hos_Florida7Day","USA Florida 70-hour/7-Day","hos_Florida8Day","USA Florida 80-hour/8-Day","hos_FloridaShortHaul7Day","USA Florida Short-haul 70-hour/7-Day","hos_FloridaShortHaul8Day","USA Florida Short-haul 80-hour/8-Day","hos_America7DayNo34h","USA Property 60-hour/7-day without 34-hour restart","hos_America8DayNo34h","USA Property 70-hour/8-day without 34-hour restart","hos_AmericaShortHaulNo34h","USA Property Short-haul 60-hour/7-day without 34-hour restart","hos_AmericaShortHaul8DayNo34h","USA Property Short-haul 70-hour/8-day without 34-hour restart","hos_BrazilShortHaul","Brazil Property Short-haul","hos_origin_Automatic","Automatic system log","hos_origin_Manual","Manual driver log","hos_origin_OtherUser","Other authenticated user","hos_origin_Unassigned","Unassigned driver log","ruleSetChangedTo","Ruleset changed to {0}","hos_OilTransport7Day","USA Oil Transport 60-hour/7-day","hos_OilTransport7DayBig","USA Oil Transport 60-hour/7-day (16-hour exemption)","hos_OilTransport8Day","USA Oil Transport 70-hour/8-day","hos_OilTransport8DayBig","USA Oil Transport 70-hour/8-day (16-hour exemption)","hos_OilTransportShortHaul","USA Oil Transport Short-haul 60-hour/7-day","hos_OilTransportShortHaul8Day","USA Oil Transport Short-haul 70-hour/8-day","hos_OilWell7Day","USA Oil Well 60-hour/7-day","hos_OilWell7DayBig","USA Oil Well 60-hour/7-day (16-hour exemption)","hos_OilWell8Day","USA Oil Well 70-hour/8-day","hos_OilWell8DayBig","USA Oil Well 70-hour/8-day (16-hour exemption)","hos_OilTransportTexas","USA Texas Oil Transport 70-hour/7-day","hos_OilWellTexas","USA Texas Oil Well 70-hour/7-day","hos_CarrierExemption","Carrier Exemption","hos_AmericaNonCdlShortHaul7Day","Non-CDL short-haul 60-hour/7-day","hos_AmericaNonCdlShortHaul8Day","Non-CDL short-haul 70-hour/8-day","general","General","stack","Call stack","tasks","Async tasks","navigationHistory","Navigation history","requireHistory","Requested resources","LPer100km","L/100 km","kmPerL","km/L","MPGUS","MPG (US)","MPGImp","MPG (Imp)","Metric","Metric","USImperial","US/Imperial","DevicesWithoutData","{0} vehicles do not have results","ListLimited","List limited","NotSupported","Not supported","NoDataInSearchRange","Try searching by month","InvalidData","Invalid data","InvalidFuelEconomy","Fuel data is incorrect","DiagnosticFuelLevelId","Fuel level","DiagnosticFuelUnitsId","Fuel level (volume)","DiagnosticDeviceTotalFuelId","Total fuel used","BeAtLeastCharacters","Be at least {0} characters","HaveLowerCaseLetter","Have at least one lower case letter","HaveUpperCaseLetter","Have at least one upper case letter","HaveNumber","Have at least one number","HaveSpecialSymbol","Have at least one special symbol ($, @, etc.)","NotPopularPasswordsMember","Not be included in the top 100 popular passwords","NotUserName","Must not contain the user name","PasswordMust","Password must:","PasswordIsNotSuitable","New password is not suitable under the password policy.","Database","Database","DeviceComments","Device Comments","DeviceGroups","Device Groups","DeviceId","Device ID","DeviceWithDriverName","Device With Driver Name","DriverComment","Driver Comment","DriverName","Driver Name","DriverFirstName","Driver First Name","DriverGroups","Driver Groups","DriverLastName","Driver Last Name","Timezone","Timezone","Latitude","Latitude","Longitude","Longitude","ZoneComment","Zone Comment","ZoneId","Zone ID","NonFuel","Non-Fuel","Regular","Regular","Midgrade","Mid-Grade","Premium","Premium","Super","Super","Diesel","Diesel","E85","E85","CNG","CNG","LPG","LPG","ResellerHasAccess","Your reseller can create an account in your system to access your data.","ResellerDoesNotHaveAccess","Your reseller cannot create an account in your system to access your data. Existing reseller accounts may have access to your data.","UserView","View users","UserRemove","Remove user","UserSet","Edit user","UserInsert","Add user","DeviceView","View devices","DeviceRemove","Remove device","DeviceInsert","Add device","DeviceSet","Edit device","ZoneView","View zones","ZoneRemove","Remove zone","ZoneInsert","Add zone","ZoneInsertSimple","Add square zone here","ZoneSet","Edit zone","ZoneEdit","Zone Edit","ZoneTypeView","View zone type","ZoneTypeRemove","Remove zone type","ZoneTypeInsert","Add zone type","ZoneTypeSet","Edit the zone type","RouteView","View routes","RouteRemove","Remove route","RouteInsert","Add route","RouteSet","Edit route","ServerUpgrade","Upgrade server","DatabaseUpgrade","Upgrade database","DatabaseMigrate","Migrate database","ExportDatabase","Export database","ImportDatabase","Import database","SysSetCompanyGUID","Edit company GUID","SysSettingsSetAll","Edit system settings","EventRemove","Remove event","EventInsert","Add event","EventSet","Edit event","EventRuleRemove","Remove event rule","EventRuleInsert","Add event rule","EventRuleSet","Edit event rule","EventRuleView","View event rules","EventTypeRemove","Remove event type","EventTypeInsert","Add event type","EventTypeSet","Edit event type","ExceptionRuleView","View exception rules","ExceptionRuleRemove","Remove exception rule","ExceptionRuleInsert","Add exception rule","ExceptionRuleSet","Edit exception rule","DistributionListView","View distribution lists","DistributionListRemove","Remove distribution list","DistributionListInsert","Add distribution list","DistributionListSet","Edit distribution list","UomRemove","Remove unit of measurement","UomInsert","Add unit of measurement","UomSet","Edit unit of measurement","DiagnosticView","View diagnostics","DiagnosticRemove","Remove diagnostic","DiagnosticInsert","Add diagnostic","DiagnosticSet","Edit diagnostic","FailureModeView","View failure modes","FailureModeRemove","Remove failure mode","FailureModeInsert","Add failure mode","FailureModeSet","Edit the failure mode","WorkTimesView","View work hours","WorkTimesRemove","Remove work hours","WorkTimesInsert","Add work hours","WorkTimesSet","Edit work hours","WorkHolidaysView","View work holidays","WorkHolidaysRemove","Remove work holidays","WorkHolidaysInsert","Add work holiday","WorkHolidaysSet","Edit work holiday","EngineTypeView","View engine types","EngineTypeRemove","Remove engine type","EngineTypeInsert","Add engine type","EngineTypeSet","Edit the engine type","FlashCodeRemove","Remove flash code","FlashCodeInsert","Add flash code","FlashCodeSet","Edit flash code","ShowHistoricVehicle","Show historical vehicle:","HistoricDeviceRemove","Remove historical device","HistoricDeviceInsert","Add historical device","HistoricDeviceSet","Edit historical device","HistoricDeviceMakeHistoric","Made device historical","HistoricDeviceUnMakeHistoric","Replaced historical device","EdlSet","Edit ethernet downloader","EdlInsert","Add ethernet downloader","EdlRemove","Remove ethernet downloader","NoValidKeyIdException","{0} does not have a valid NFC key. Please select a new driver.","ProcessManualUpdate","Reprocess data","RadioSet","Edit radio","ReportCustomerVisitsDetail","Report: Customer Visits Detail","ReportCustomerVisitsSummary","Report: Customer Visits Summary","ReportCongregation","Report: Congregation","ReportAuxiliary","Report: Auxiliary Status","ReportStatusData","Report: Status Data","ReportFuelTax","Report: Fuel Tax","ReportExceptionsDetail","Report: Exceptions Detail","ReportExceptionsSummary","Report: Exceptions Summary","ReportDebug","Report: Log Details / Accident","ReportDevice","Report: Device","ReportDiagnosticList","Report: Diagnostic List","ReportRouteSummary","Report: Route Summary","ReportRiskManagement","Report: Risk Management","ReportSpeedProfile","Report: Speed Profile","ReportUnassignedRoute","Report: Unmatched Route","ReportUserList","Report: User List","ReportTripsDetail","Report: Trips Detail","ReportTripsSummary","Report: Trips Summary","ReportTimeCard","Report: Time Card","ReportReminders","Report: Reminders","ReportEventOccurrences","Report: Maintenance History","ReportRouteComparisonDetail","Report: Route Comparison Detail","ReportRouteDirection","Report: Route Direction","ReportEngineFault","Report: Engine Faults","ReportEngineStatus","Report: Engine Status","ReportEngineStatusStatistics","Report: Engine Status Statistics","ReportEngineSummary","Report: Engine Summary","ReportEventHistory","Report: Event History","ReportEventRuleDevice","Report: Device Event Rules","ReportDeviceInstallHistory","Report: Device Installation History","ReportGroupsList","Report: Groups List","ReportHosLogs","Report: HOS Logs","ReportHosViolation","Report: HOS Violation","ReportHosAvailability","Report: HOS Availability","ReportDVIRLog","Report: DVIR Logs","ReportAuditLog","Report: Audit Logs","ReportTextMessage","Report: Text Message","ReportNotification","Report: Notification","ReportFillUps","Report: Fill-Ups","ReportTimePerformance","Report: Time Performance","ReportValuePerformance","Report: Value Performance","ReportExceptionsSummaryGraph","Report: Exceptions Summary Graph","ReportTripsIdlingSummaryGraph","Report: Trips Idling Summary Graph","ReportFleetSummaryGraph","Report: Fleet Summary Graph","ReportCustomerStopGraph","Report: Customer Stop Graph","ReportTripsDensitySummaryGraph","Report: Trips Density Summary Graph","ReportZoneList","Report: Zone List","EventRules","Report: Event Rules","CustomReportScheduleInsert","Add notification for report","CustomReportScheduleSet","Edit notification for report","CustomReportScheduleRemove","Remove notification for report","CustomReportSendError","Report not sent","ShowMap","Show map","ExcelReportView","View Excel reports","ExcelReportRemove","Removed Excel report","ExcelReportEdit","Edited Excel report","ExcelReportInsert","Add Excel report","KeyCreate","Create key","KeyBackup","Saved key backup","KeyRestore","Restore key","KeyDataDownload","Download key data","UserLogin","User login","UserLogoff","User logout","RequestLocation","Request device location","ResetPassword","Reset password","GpsTextMessageSend","Send message","GpsTextMessageDelete","Delete message","GpsTextMessageView","View messages","NotificationView","View notifications","NotificationsDismiss","Dismiss notifications","SecurityGroupView","View security groups","NodeView","View groups","NodeRemove","Remove group","NodeSet","Edit group","NodeInsert","Add group","HosLogEdit","Edited HOS log","HosLogAdd","Added HOS log","HosLogRemove","Removed HOS log","TrailerView","View trailers","TrailerRemove","Remove trailer","TrailerSet","Edit trailer","TrailerInsert","Add trailer","DvirLogRemove","Remove DVIR log","DvirLogSet","Edit DVIR log","DvirLogAdd","Add DVIR log","ChangeAsset","Change asset","ChangeDriver","Change driver","ChangeDefects","Change defects","DefectGroupView","View defects","ChangeRepairedBy","Change repaired by","ChangeCertifiedBy","Change certified by","DriveLockUserCleared","Drive lock screen cleared by user","NotificationTemplateView","View notification templates","NotificationTemplateRemove","Remove notification templates","NotificationTemplateSet","Edit notification templates","NotificationTemplateInsert","Add notification templates","FuelTransactionView","View fill-ups","FuelTransactionRemove","Remove fuel transaction","FuelTransactionInsert","Add fuel transaction","FuelTransactionSet","Edit fuel transaction","FuelTransactionImport","Import fuel transaction","FillUpsGraph","View fill-ups graph","CertificateInsert","Add certificate","CertificateRemove","Remove certificate","TripTypeChangeInsert","Add trip type change","TripTypeChangeRemove","Remove trip type change","ButtonAddinLoadingError","The button Add-In '{0}' could not be loaded.","ShowWeather","Show weather","Thunderstorm","thunderstorm","ThunderstormLightRain","thunderstorm with light rain","ThunderstormRain","thunderstorm with rain","ThunderstormHeavyRain","thunderstorm with heavy rain","ThunderstormLight","light thunderstorm","ThunderstormHeavy","heavy thunderstorm","ThunderstormRagged","ragged thunderstorm","ThunderstormLightDizzle","thunderstorm with light drizzle","ThunderstormDizzle","thunderstorm with drizzle","ThunderstormHeavyDizzle","thunderstorm with heavy drizzle","Drizzle","drizzle","DrizzleLight","light intensity drizzle","DrizzleHeavy","heavy intensity drizzle","DrizzleLightRain","light intensity drizzle rain","DrizzleRain","drizzle rain","DrizzleHeavyRain","heavy intensity drizzle rain","DrizzleShowerRain","shower rain and drizzle","DrizzleHeavyShowerRain","heavy shower rain and drizzle","DrizzleShower","shower drizzle","RainLight","light rain","RainModerate","moderate rain","RainHeavy","heavy intensity rain","RainVeryHeavy","very heavy rain","RainExtreme","extreme rain","RainFreezing","freezing rain","RainLightShower","light intensity shower rain","RainShower","shower rain","RainHeavyShower","heavy intensity shower rain","RainRaggedShower","ragged shower rain","Snow","snow","SnowLight","light snow","SnowHeavy","heavy snow","SnowSleet","sleet","SnowShowerSleet","shower sleet","SnowLightRainAndSnow","light rain and snow","SnowRainAndSnow","rain and snow","SnowLightShower","light shower snow","SnowShower","shower snow","SnowHeavyShower","heavy shower snow","AtmosphereMist","mist","AtmosphereSmoke","smoke","AtmosphereHaze","haze","AtmosphereSandDustWhirls","sand, dust whirls","AtmosphereFog","fog","AtmosphereSand","sand","AtmosphereDust","dust","AtmosphereVolcanicAsh","volcanic ash","AtmosphereSqualls","squalls","AtmosphereTornado","tornado","ClearSky","clear sky","CloudsFew","few clouds","CloudsScattered","scattered clouds","CloudsBroken","broken clouds","CloudsOvercast","overcast clouds","ExtremeTornado","tornado","ExtremeTropicalStorm","tropical storm","ExtremeHurricane","hurricane","ExtremeCold","cold","ExtremeHot","hot","ExtremeWindy","windy","ExtremeHail","hail","AdditionalCalm","calm","AdditionalLightBreeze","light breeze","AdditionalGentleBreeze","gentle breeze","AdditionalModerateBreeze","moderate breeze","AdditionalFreshBreeze","fresh breeze","AdditionalStrongBreeze","strong breeze","AdditionalHighWind","high wind, near gale","AdditionalGale","gale","AdditionalSevereGale","severe gale","AdditionalStorm","storm","AdditionalViolentStorm","violent storm","AdditionalHurricane","hurricane","Purge","Purge","UsbRadioDownloaderRemove","UsbRadio downloader remove","DriverChangeInsert","Assign driver","DriverChangeRemove","Remove driver","PostedRoadSpeedSet","Set posted road speed","RadioDownloaderView","View radio downloaders","MiscPageView","View custom page","AboutView","View about","DashboardView","View dashboard","KeyInsert","Insert key","PasswordResetRequest","Password Reset Request","UserEdit","User Edit","UserNew","User New","AccountExpired","account expired","dashboard","Dashboard","map","Map","devices","Devices","device","Device","riskmanagement","Risk management","timecardreport","Time card report","logdetails","Log details","hoslogs","HOS logs","hoslog","HOS log","hosviolations","HOS violations","hosavailability","HOS availability","fuelusage","Fuel usage","fuelevents","Fuel events","fuelevent","Fuel event","dvirs","DVIRs","dvir","DVIR","reminderdue","Reminder due","maintenancehistory","Maintenance history","reminderrules","Reminder rules","reminderrule","Reminder rule","zones","Zones","zone","Zone","customervisits","Customer visits","routes","Routes","route","Route","rules","Rules","rule","Rule","exceptions","Exceptions","groupstree","Groups","customreports","Custom reports","customreport","Custom report","users","Users","user","User","auditlogs","Audit logs","notifications","Notifications","systemsettings","System settings","options","Options","tripshistory","Trips history","tripssummary","Trips summary","enginefaults","Engine faults","faultdetails","Fault details","enginemeasurements","Engine measurements"],ci=function(n){var t,r={},i;if(n.length%2!=0)throw new Error("incorrect data items");for(t=0;t<n.length;t+=2){if(i=n[t],r[i])throw new Error(i+" already added");r[i]=n[t+1]}return r},li=function(){var n={en:"Cannot load translations due to network error. Would you like to continue in English?",fr:"Impossible de charger les traductions en raison dune erreur de rseau. Voulez-vous continuer en anglais ?",es:"No se han podido cargar las traducciones debido a un error en la red. Quiere continuar en ingls?",ja:"",de:"Aufgrund eines Netzwerkfehlers kann die von Ihnen gewhlte Sprache nicht geladen werden. Mchten Sie auf Englisch fortfahren?",pl:"Nie mona zaadowa tumaczenia z powodu bdu sieci. Czy chcesz kontynuowa w jzyku angielskim?","pt-BR":"No  possvel carregar as tradues devido a um erro de rede. Gostaria de continuar em ingls?",nl:"Vertalingen kunnen niet worden geladen vanwege een netwerkfout. Wilt u doorgaan in het Engels?",it:"Impossibile caricare traduzioni a causa di un errore di rete. Continuare in inglese?","zh-Hans":""};return window.confirm(n[d.language]||n.en)},ai=function(){var n=Object.keys(t);return rt.translate(n.map(function(n){return t[n]}),function(i){var r=i.translation;n.forEach(function(n,i){t[n]=r[i]})})},et=function(n,t){for(var i=""+n;i.length<t;)i="0"+i;return i},ti=["January","February","March","April","May","June","July","August","September","October","November","December"],pt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],wt=function(){var n=function(n,i,r){var u=r||"";return(n||[]).map(function(n){var r=i?n.substring(0,i):n;return t[r+u]||r})};return{monthNames:n(ti),dayNames:n(pt),shortMonthNames:n(ti,3,"_short"),shortDayNames:n(pt,3)}},w=wt(),g=function(n,t){var i=new Date(n);i.setTime(Math.round(i.getTime()/1e3)*1e3);var r=function(n,t){for(n=n.toString(),t=t||2;n.length<t;)n="0"+n;return n},u="get",h=i[u+"Date"](),c=i[u+"Day"](),e=i[u+"Month"](),s=i[u+"FullYear"](),f=i[u+"Hours"](),l=i[u+"Minutes"](),a=i[u+"Seconds"](),o=i[u+"Milliseconds"](),v={d:h,dd:r(h),ddd:w.shortDayNames[c],dddd:w.dayNames[c],M:e+1,MM:r(e+1),MMM:w.shortMonthNames[e],MMMM:w.monthNames[e],y:parseInt(s.toString().slice(2)),yy:s.toString().slice(2),yyyy:s,h:f%12||12,hh:r(f%12||12),H:f,HH:r(f),m:l,mm:r(l),s:a,ss:r(a),l:r(o,3),L:r(o>99?Math.round(o/10):o),t:f<12?"a":"p",tt:f<12?"am":"pm",T:f<12?"A":"P",TT:f<12?"AM":"PM"};return t.replace(/d{1,4}|M{1,4}|yy(?:yy)?|y|([HhmsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,function(n){return n in v?v[n]:n.slice(1,n.length-1)})},vi=function(n,t){var e=function(n,t,i){for(var u="(",r=n;r<t;r++)u+=r!==t-1?i[r]+"|":i[r];return u+")"},l=function(n,t){var i=null;return(t||[]).forEach(function(t,r){t.toLowerCase()===n.toLowerCase()&&(i=r>11?r-12:r)}),i},a=function(n,t){var i={date:null,month:null,year:null,hours:12,minutes:0,seconds:0,milliseconds:0},f,r,e=!1,u=new Date;t.forEach(function(t,u){var c=u+1,o=n[c],f=parseInt(o),h,s;r=isNaN(f);switch(t){case"month":i.month=r?l(o,w.shortMonthNames.concat(w.monthNames)):f-1;break;case"year":r||(i.year=o.length>2?f:2e3+f);break;case"yearShort":r||(h=f<=50?2e3:1900,i.year=h+f);break;case"Hours":e=!0;i.hours=r?null:f;break;case"date":case"hours":case"minutes":case"seconds":case"milliseconds":i[t]=r?null:f;break;case"t":e||i.hours===null||(s=o.toLowerCase(),/(a|am)/.test(s)&&i.hours>=12?i.hours=i.hours===12?0:i.hours-12:/(p|pm)/.test(s)&&i.hours<12&&(i.hours=i.hours+12))}});i.date=i.date!==null?i.date:u.getDate();i.month=i.month!==null?i.month:u.getMonth();i.year=i.year||u.getFullYear();i.hours=i.hours!==null?i.hours:0;i.minutes=i.minutes||0;i.seconds=i.seconds||0;i.milliseconds=i.milliseconds||0;r=!1;for(f in i)if(f===null){r=!0;break}return r?null:n=new Date(i.year,i.month,i.date,i.hours,i.minutes,i.seconds,i.milliseconds)},o=[],s,h,f,r="(\\d{1,2})",u="(\\d{2})",i=function(n,t){return function(){return o.push(n),t}},c={d:i("date",r),dd:i("date",u),ddd:i("dateStr",e(0,7,w.shortDayNames)),dddd:i("dateStr",e(0,7,w.dayNames)),M:i("month",r),MM:i("month",u),MMM:i("month",e(0,12,w.shortMonthNames)),MMMM:i("month",e(0,12,w.monthNames)),y:i("yearShort",r),yy:i("yearShort",u),yyyy:i("year","(\\d{3,4})"),h:i("hours",r),hh:i("hours",u),H:i("Hour",r),HH:i("Hours",u),m:i("minutes",r),mm:i("minutes",u),s:i("seconds",r),ss:i("seconds",u),l:i("milliseconds",r),L:i("milliseconds",u),t:i("t","(a|p)"),tt:i("t","(am|pm)"),T:i("t","(A|P)"),TT:i("t","(AM|PM)")};return s=t.replace(/d{1,4}|M{1,4}|yy(?:yy)?|y|([HhmsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,function(n){return n in c?c[n]():n.toString()}),h=new RegExp(s,"g"),f=h.exec(n),!!f&&f.length&&f.length-1===o.length?a(f,o):null},bt=function(n){var t=n instanceof Date?n:new Date(n);return isNaN(t.getTime())?new Date:t},kt=function(n,t){n=u.isTimespan(n)?n.toString():n;var i=k.timeSpanParse(n).valueOf()/1e3;return ii(i,t)||""},ii=function(n,i){var r=Math.floor(n/86400),f=Math.floor((n-r*86400)/3600),e=Math.floor((n-r*86400-f*3600)/60),o=Math.floor(n-r*86400-f*3600-e*60),u=[];return r>0&&u.push(r+t.days),(u.length>0||f>0)&&u.push(f+t.hours),(!i||r===0)&&(u.length>0||e>0)&&u.push(e+t.minutes),i&&(r!==0||f!==0)||u.push(o+t.seconds),u.join(" ")||"0"},yi=function(n,t,i){n=et(n,2);t=et(t,2);i=et(i,2);var r=n+":"+t+":"+i;return kt(r,!1)},ut=function(n,t){return Math.round(n*Math.pow(10,t))/Math.pow(10,t)},o,dt,ot="Sunday",st=l.default(),pi=function(n){var t,i;return(n||typeof n=="number")&&!isNaN(n)&&n<9007199254740991?(t=(+n).toString(16),i=new Array(17-t.length).join("0"),i+t):isNaN(n)?null:0},wi=function(n){return n?parseInt(n,16):0},ri=function(n,t){var i=n.search(/h/i),r=n||fi,u=t===undefined?ui:t;return i!==-1&&(r=n.substr(0,i-1)||fi,u=n.substr(i)||ui),{date:r.trim(),time:u.trim()}},bi={GroupCompanyId:!0,GroupRootId:!0,GroupSecurityId:!0,GroupEverythingSecurityId:!0,GroupSupervisorSecurityId:!0,GroupUserSecurityId:!0,GroupViewOnlySecurityId:!0,GroupDriveUserSecurityId:!0,GroupNothingSecurityId:!0},ui="HH:mm:ss",fi="MM/dd/yy",ei="geotabDefaultLanguage",oi=function(n){var t=n||"en";return si[t]||si.en},si={en:{longDateFormat:"dddd, MMMM dd, yyyy",language:"en"},de:{longDateFormat:"dddd, d. MMMM yyyy",language:"de"},es:{longDateFormat:"dddd, dd' de 'MMMM' de 'yyyy",language:"es"},fr:{longDateFormat:"d MMMM yyyy",language:"fr"},it:{longDateFormat:"dd MMMM yyyy",language:"it"},ja:{longDateFormat:"yyyy''M''d''",language:"ja"},nl:{longDateFormat:"dddd, d. MMMM yyyy",language:"nl"},pl:{longDateFormat:"d MMMM yyyy",language:"pl"},"pt-BR":{longDateFormat:"dddd, dd' de 'MMMM' de 'yyyy",language:"pt-BR"},"zh-Hans":{longDateFormat:"yyyyMd",language:"zh-Hans"}},ki=function(n){var u=n.getTime(),f=Date.now(),i=(f-u)/1e3,r=86400,e=r*2;return i<r?t.today:i<e?t.yesterday:t.DaysAgoText.replace("{0}",Math.floor(i/r).toString())},di=function(){var i=function(n,t,i){if(t==="now")return i.now;var u,r=i[t],f=i.past;return r=r.split("_"),u=n>1?n+" "+r[1]:r[0],f.replace("{d}",u)},r=function(){return{now:t.humanize_now||"Just moments ago",mm:t.humanize_mm||"A minute_minutes",hh:t.humanize_hh||"An hour_hours",dd:t.humanize_dd||"A day_days",past:t.humanize_past||"{d} ago"}},n={def:{humanize:i},ja:{humanize:function(n,t,i){return t==="now"?i.now:n+i[t]+i.past}}};return function(t,i){i||(i=new Date);var e=i-t.valueOf(),u=r(),f=n[d.language||""]||n.def;return e<3e5?f.humanize(null,"now",u):e<36e5?f.humanize(Math.round((i-t)/6e4),"mm",u):e<864e5?f.humanize(Math.round((i-t)/36e5),"hh",u):f.humanize(Math.round((i-t)/864e5),"dd",u)}}(),tt,gi={200:"ThunderstormLightRain",201:"ThunderstormRain",202:"ThunderstormHeavyRain",210:"ThunderstormLight",211:"Thunderstorm",212:"ThunderstormHeavy",221:"ThunderstormRagged",230:"ThunderstormLightDizzle",231:"ThunderstormDizzle",232:"ThunderstormHeavyDizzle",300:"DrizzleLight",301:"Drizzle",302:"DrizzleHeavy",310:"DrizzleLightRain",311:"DrizzleRain",312:"DrizzleHeavyRain",313:"DrizzleShowerRain",314:"DrizzleHeavyShowerRain",321:"DrizzleShower",500:"RainLight",501:"RainModerate",502:"RainHeavy",503:"RainVeryHeavy",504:"RainExtreme",511:"RainFreezing",520:"RainLightShower",521:"RainShower",522:"RainHeavyShower",531:"RainRaggedShower",600:"SnowLight",601:"Snow",602:"SnowHeavy",611:"SnowSleet",612:"SnowShowerSleet",615:"SnowLightRainAndSnow",616:"SnowRainAndSnow",620:"SnowLightShower",621:"SnowShower",622:"SnowHeavyShower",701:"AtmosphereMist",711:"AtmosphereSmoke",721:"AtmosphereHaze",731:"AtmosphereSandDustWhirls",741:"AtmosphereFog",751:"AtmosphereSand",761:"AtmosphereDust",762:"AtmosphereVolcanicAsh",771:"AtmosphereSqualls",781:"AtmosphereTornado",800:"ClearSky",801:"CloudsFew",802:"CloudsScattered",803:"CloudsBroken",804:"CloudsOvercast",900:"ExtremeTornado",901:"ExtremeTropicalStorm",902:"ExtremeHurricane",903:"ExtremeCold",904:"ExtremeHot",905:"ExtremeWindy",906:"ExtremeHail",951:"AdditionalCalm",952:"AdditionalLightBreeze",953:"AdditionalGentleBreeze",954:"AdditionalModerateBreeze",955:"AdditionalFreshBreeze",956:"AdditionalStrongBreeze",957:"AdditionalHighWind",958:"AdditionalGale",959:"AdditionalSevereGale",960:"AdditionalStorm",961:"AdditionalViolentStorm",962:"AdditionalHurricane"};return t=ci(ni),tt={ZoneTypeAddressLookupId:t.addressLookup,ZoneTypeCustomerId:t.customer,ZoneTypeOfficeId:t.office,ZoneTypeHomeId:t.home},(st.last()||r.resolved()).done(function(){w=wt()}),o=i.extend(v.default(),{getStringsToTranslate:function(){return ni},setCultureInfo:function(n,t,i,r,u){return o.initialize(n,u,t.language,t.isMetric,t.fuelEconomyUnit,t.dateFormat,t.timeZoneId,null,t.firstDayOfWeek,i,r)},getStateTask:function(){return st.last()||r.resolved()},getCultureInfo:function(){return e(d&&d.language,p,b,ft,it,dt,ot)},initialize:function(n,u,f,e,s,h,l,a,v,g,nt){var tt=vt?o.getCultureInfo():null,ut=r.default("localizerInitializationTask"),pt=function(){var n=o.getCultureInfo();tt&&n&&(!y(tt,n)||at)&&(ht={previous:tt,current:i.extend({},n,{language:f}),isMetricChanged:tt.isMetric!==n.isMetric,isFuelEconomyUnitChanged:tt.fuelEconomyUnit!==n.fuelEconomyUnit,isDateTimeChanged:tt.dateFormat!==n.dateFormat||tt.timeFormat!==n.timeFormat,isLanguageChanged:tt.language!==f,isTimeZoneChanged:tt.timeZoneId!==n.timeZoneId,isFirstDayOfWeekChanged:tt.firstDayOfWeek!==n.firstDayOfWeek,showChanged:g!==null?g:!0},ht.isTimeZoneChanged?k.populateTimeZone(ht.current.timeZoneId).fail(u).done(gt):gt())},bt=function(){var n=d.language==="en";(et||n?r.resolved():ai()).done(kt).fail(ni)},kt=function(){w=wt();et=!0;pt();nt&&nt();ut.resolve()},ni=function(n){n.isAborted||n.name==="ServerStopped"||(pt(),li()?kt():(u&&u(n),ut.reject(n)))},at=d.language!==f,et=!at&&vt,ht,gt=function(){o.fireEvent("cultureInfoChange",o,ht)},ct=ri(h);return st.abort(),st.add(ut),d=et?d:oi(f),p=e,b=s,ft=ct.date,it=ct.time,lt=ct.date+" "+ct.time,dt=l,ot=v,rt=c.default(n,d.language),yt||(yt=i.extend(!0,{},t)),t=at&&!et||!t?i.extend(!0,{},yt):t,l||a?k.initialize(n,u,l,a,bt):bt(),o.fireEvent("cultureInfoReady",o,o.getCultureInfo()),vt=!0,ut},getCurrentTimeZoneId:function(){return dt},getTimeZoneOffsetDescription:function(n,t){var i=function(){var i=t?typeof t=="string"?new Date(t):t:new Date,r=k.getOffset(i,n)-i.getTimezoneOffset(),u=Math.floor(r/60),f=r%60;return o.translateKey("UTC")+(u>0?"+":"")+u+(f?":"+f:"")};return k.hasTimeZoneInfo(n)?r.resolve(i()):k.populateTimeZone(n).andThen(i)},getFuelEconomyUnit:function(){switch(b){case"LitersPer100Km":return t.LPer100km;case"KmPerLiter":return t.kmPerL;case"MPGUS":return t.MPGUS;case"MPGImperial":return t.MPGImp;default:return"Unknown Fuel Economy Unit"}},getVolumeUnit:function(){return b==="MPGUS"?t.gallonUS:b==="MPGImperial"?t.gallonImp:t.litre},getVolumeAbbreviation:function(){return b==="MPGUS"||b==="MPGImperial"?t.gal:t.L},getDollarAbbreviation:function(n){switch(n){case"CNY":case"JPY":return"";case"EUR":return"";case"EGP":case"FKP":case"GIP":case"GGP":case"IMP":case"JEP":case"LBP":case"SHP":case"SYP":case"GBP":return"";case"ARS":case"AUD":case"BSD":case"BBD":case"BMD":case"BND":case"CAD":case"KYD":case"CLP":case"COP":case"XCD":case"SVC":case"FJD":case"GYD":case"HKD":case"LRD":case"MXN":case"NAD":case"NZD":case"SGD":case"SBD":case"SRD":case"TVD":case"USD":return"$";case"RUB":return"";case"BYR":return"p.";default:return""}},dateFromString:bt,timespanParse:k.timeSpanParse,timespanToSeconds:function(n){return n.valueOf()/1e3},getDisplayTimeSpan:kt,getDisplayTimeSpanFromSeconds:ii,getDisplayTimeSpanFromTime:yi,timespanFromSeconds:function(n){return u.default(n*1e3).toString()},hoursToTimeSpan:function(n){var u=Math.floor(n/24),i=Math.floor(n-24*u),t=60*(n-Math.floor(n)),r=Math.floor(60*(t-Math.floor(t))),f;return t=Math.floor(t),i<10&&(i=[0,i].join("")),t<10&&(t=[0,t].join("")),r<10&&(r=[0,r].join("")),f=u?[u,i].join("."):i,[f,t,r].join(":")},splitPatternTimeAndDate:ri,parseStringToDate:vi,parseDateToString:g,dateToString:function(n,t){return g(typeof n=="string"?new Date(n):n,t)},toShortDateTime:function(n,t,i){return g(o.toLocalDateTime(n,t),i||lt)},toShortDate:function(n,t,i){return g(o.toLocalDateTime(n,t),i||ft)},returnDateFormat:function(){return ft},returnTimeFormat:function(){return it},returnShortTimeFormat:function(){return it.replace(":ss","")},toLongDate:function(n,t){return g(o.toLocalDateTime(n,t),d.longDateFormat||lt)},toLocalDateTime:function(n,t){return k.toLocalDateTime(n,t)},toReverseOffsetDateTime:function(n,t){return k.toReverseOffsetDateTime(n,t)},toShortTime:function(n,t,i){return g(o.toLocalDateTime(n,t),i||o.returnShortTimeFormat())},toLongTime:function(n,t){return g(o.toLocalDateTime(n,t),it)},populateTimeZone:function(n){return k.populateTimeZone(n)},humanizeDateTime:di,humanizeDate:ki,toLocalVolume:function(n){return b==="MPGUS"?n/ht:b==="MPGImperial"?n/ct:n},toMetricVolume:function(n){return b==="MPGUS"?n*ht:b==="MPGImperial"?n*ct:n},toLocalFuelEconomy:function(n,t){if(!n||!t)return null;switch(b){case"LitersPer100Km":return n/t*100;case"KmPerLiter":return t/n;case"MPGUS":return t*ht/(n*nt);case"MPGImperial":return t*ct/(n*nt);default:return null}},toAccelerationString:function(n,t){var i=t===undefined||t===null?2:t;return n.toFixed(i)+" m/s"},toVoltageString:function(n,t){var i=t===undefined||t===null?2:t;return n.toFixed(i)+" V"},toMetricDistance:function(n){return p?n:n*nt},toLocalDistance:function(n){return p?n:n/nt},getDistanceAbbreviation:function(){return p?t.km:t.mi},getShortDistanceAbbreviation:function(){return p?t.m:t.yd},toLocalDistanceString:function(n){return o.toLocalDistance(n).toFixed(0)+" "+o.getDistanceAbbreviation()},toMetricDistanceMetreEquivalent:function(n){return p?n:n*gt},toLocalDistanceMetreEquivalent:function(n){return p?n:n/gt},getDistanceMetreEquivalentAbbreviation:function(){return p?t.meters:t.yards},getShortDistanceMetreEquivalentAbbreviation:function(){return p?t.m:t.yd},toMetricSpeed:function(n){return p?n:n*nt},toLocalSpeed:function(n){return p?n:n/nt},getSpeedAbbreviation:function(){return p?t["km/h"]:t.mph},toLocalSpeedString:function(n){return o.toLocalSpeed(n).toFixed(0)+" "+o.getSpeedAbbreviation()},metersToKm:function(n){return n/1e3},kmToMeters:function(n){return n*1e3},thresholdToMS2:function(n){return n*18/1e3/.10197162},mS2ToThreshold:function(n){return Math.round(n*.10197162*1e3/18)},getTemperatureAbbreviation:function(){return p?t.UnitOfMeasureDegreesCelsiusId:t.UnitOfMeasureDegreesFahrenheitId},fromCelsiusToFahrenheit:function(n){return n*9/5+32},toLocalTemperature:function(n){return p?n:o.fromCelsiusToFahrenheit(n)},encodeToLong:pi,decodeToInt:wi,pad:et,getZoneTypeName:function(n){var t=typeof n=="string";return t?tt[n]:null},addSystemZoneTypes:function(n,i){for(var o,u,s=!1,h=function(n,t){var i=n.name.toLowerCase(),r=t.name.toLowerCase();return i<r?-1:i>r?1:0},f,r=0,e=n.length;r<e;r+=1)u=n[r],o=u.id||u,u.id||(i&&o==="ZoneTypeAddressLookupId"?(n.splice(r,1),r-=1,e-=1):(s=!0,n[r]={id:u,name:this.translateKey(tt[o].toLowerCase()),isSystem:!0,comment:""}));if(!s)for(f in tt)tt.hasOwnProperty(f)&&(!i||f!=="ZoneTypeAddressLookupId")&&n.push({id:f,name:this.translateKey(tt[f].toLowerCase()),comment:t.systemAssignedComment,isSystem:!0});return n.sort(h),n},intRoundFunction:function(n,t){return ut(n,t)},convertAccelerationToGForces:function(n,t){return ut(n/9.80665,t||2)},convertGForcesToAcceleration:function(n,t){return ut(n*9.80665,t||2)},getDayOfWeek:function(n){return pt.indexOf(n)},getDayOfWeekOffset:function(n){var r=n||new Date,t=r.getDay(),i=ot?o.getDayOfWeek(ot):0;return t-i+(i>t?7:0)},compare:function(n,t){return n=(n||"").toUpperCase(),t=(t||"").toUpperCase(),n===t?0:n>t?1:-1},compareDates:function(n,t){var i=new Date(n),r=new Date(t);return i.getTime()===r.getTime()?0:i.getTime()>r.getTime()?-1:1},getGroupDescription:function(n){switch(n.id){case"GroupCompanyId":case"GroupRootId":case"GroupSecurityId":case"GroupEverythingSecurityId":case"GroupSupervisorSecurityId":case"GroupUserSecurityId":case"GroupViewOnlySecurityId":case"GroupNothingSecurityId":case"GroupDriveUserSecurityId":case"GroupDefectsId":return t[n.id];default:return n.name}},getGroupDescriptionRecursive:function(n){for(var i=n.name,t=n.realParent||n.parent;t&&t.id!=="-1";)i=o.getGroupDescription(t)+"/"+i,t=t.parent;return i},isSystemGroup:function(n){return n&&bi[n]},getEngineSourceDescription:function(n){if(!n)return t.none;if(typeof n=="string")switch(n){case"SourceGmcccId":case"SourceGeotabGoId":case"SourceJ1708Id":case"SourceJ1939Id":case"SourceObdId":case"SourceSystemId":case"SourceThirdPartyId":return t[n];default:return n}else return n.name},getEngineControllerDescription:function(n){switch(n.id){case"ControllerGeotabGoId":case"ControllerGmcccEngineId":case"ControllerObdBodyId":case"ControllerObdChassisId":case"ControllerObdNetworkingId":case"ControllerObdPowertrainId":case"ControllerNoneId":return t[n.id];default:return n.name}},getUnitOfMeasureUnits:function(n){switch(n){case"UnitOfMeasureNoneId":case"UnitOfMeasureDegreesCelsiusId":case"UnitOfMeasureKilometersPerHourId":case"UnitOfMeasureNewtonsId":case"UnitOfMeasureNewtonMetersId":case"UnitOfMeasureMetersPerSecondSquaredId":case"UnitOfMeasureMetersId":case"UnitOfMeasureGramsId":case"UnitOfMeasureCubicMetersId":case"UnitOfMeasureLitersId":case"UnitOfMeasureCubicMetersPerSecondId":case"UnitOfMeasureRevolutionsPerMinuteId":case"UnitOfMeasureHertzId":case"UnitOfMeasureSecondsId":case"UnitOfMeasureVoltsId":case"UnitOfMeasureAmpsId":case"UnitOfMeasureWattsId":case"UnitOfMeasureOhmsId":case"UnitOfMeasurePascalsId":case"UnitOfMeasureBytesId":case"UnitOfMeasurePartsPerMillionId":case"UnitOfMeasurePercentageId":case"UnitOfMeasureRadiansId":case"UnitOfMeasureRevolutionsId":case"UnitOfMeasureCountId":case"UnitOfMeasurePulsesPerMeterId":case"UnitOfMeasureOhmsPerSecondId":case"UnitOfMeasureGramsPerSecondId":case"UnitOfMeasureKilometersPerKilogramId":case"UnitOfMeasureKilometersPerLiterId":case"UnitOfMeasureKilogramsPerKilometerId":case"UnitOfMeasureLitersPerLaneKilometerId":case"UnitOfMeasureLitersPerTonId":case"UnitOfMeasureGramsPerSquareMeterId":case"UnitOfMeasureKiloWattHoursId":return t[n];default:return n}},getWorkTimeDescription:function(n){var i=n||"",r=typeof i=="string"?i:i.id,u=typeof i=="string"?i:i.name;return r&&o.isSystemWorkTime(r)?t[r]:u},isSystemWorkTime:function(n){var t=n?typeof n=="string"?n:n.id:"";switch(t){case"WorkTimeAllHoursId":case"WorkTimeStandardHoursId":case"WorkTimeLunchHoursId":case"WorkTimeEarlyLeaveHoursId":case"WorkTimeLateArrivalHoursId":return!0;default:return!1}},isSystemSecurityGroup:function(n){switch(n){case"GroupSecurityId":case"GroupEverythingSecurityId":case"GroupSupervisorSecurityId":case"GroupUserSecurityId":case"GroupViewOnlySecurityId":case"GroupDriveUserSecurityId":case"GroupNothingSecurityId":return!0;default:return!1}},isSystemDefect:function(n){switch(n){case"GroupDefectsId":case"GroupVehicleDefectsId":case"GroupTrailerDefectsId":return!0;default:return!1}},getDefectDescription:function(n){switch(n.name){case"** Default Vehicle Defects **":return t.GroupVehicleDefectsId;case"** Default Trailer Defects **":return t.GroupTrailerDefectsId;default:return o.getGroupDescription(n)}},isSystemPrivateUserGroup:function(n){return n==="GroupPrivateUserId"},getWorkTimesHolidayGroupId:function(n){return n.holidayGroup&&!isNaN(n.holidayGroup.groupId)?n.holidayGroup.groupId:""},getNotificationSource:function(n){switch(n){case"Uploader":case"ServiceManager":case"LiveDownloader":case"GoPatrolDownloader":case"GoSafeDownloader":case"Purge":case"Gps2GoDownloader":case"NotificationSender":case"CustomReportScheduler":case"ReprocessingQueueWatcher":case"WebServer":return t[n];default:return n}},translateNotificationState:function(n){switch(n){case"StatusUnknown":case"StatusDisabled":case"StatusDisconnected":case"StatusConnected":case"StatusDebug":case"StatusIdle":case"StatusStopped":case"StatusUnlocked":case"StatusRunningNoAidingDataAvailable":case"StatusRunning":case"StatusFTDINotInstalled":case"StatusTryingToLock":case"StatusAuthenticationFailed":case"StatusAuthenticationNotSupported":case"StatusAuthenticationSchemeNotProvided":case"StatusUnknownResponseFromServer":case"StatusServerNotFound":case"StatusProxyServerNotFound":case"StatusTimeout":case"StatusProxyTimeout":case"StatusDeviceRegistrationFailed":case"StatusConnecting":case"StatusNoDevices":case"UpdateMessageCountsFailed":case"InvalidOrbcommCustomer":case"ThreadFinishTimeout":case"StatusWaitingForUpgrade":case"StatusDatabaseVersionDoesnotMatch":case"StatusUserCleared":case"StatusMissing":case"StatusServiceManagerConnected":case"CacheCleared":case"CacheBusy":case"StatusExceptionOccurred":case"CheckmateException":case"KeyDownloaderNonDataKeyInserted":return t[n];default:return n.replace("Status","")}},translateRecipientType:function(n){if(!n)return t.none;switch(n){case"LogNewsPopup":case"LogOnly":case"Email":case"LogPopup":case"LogUrgentPopup":case"Alarm":case"WebService":case"TextMessage":case"ChangeStatus":case"BeepThreeTimesRapidly":case"BeepThreeTimes":case"BeepTenTimesRapidly":return t[n];default:return n}},translateExceptionEvent:function(n){var t=n?n.exceptionEvent:null;return t&&t.name?"{"+(t.name||"?")+"}-"+("{"+o.toLongTime(new Date(t.activeFrom))+"}-")+(t.duration===0)?"":"{"+t.duration.toString()+"}":n?n.info:""},getReportTemplateName:function(n,i,r){var u;if(n.reportTemplateType==="Report"||typeof n=="string")switch(n.reportDataSource||n){case"ZoneList":case"TripsDetail":case"RiskManagement":case"Debug":case"ExceptionsDetail":case"ExceptionsSummary":case"TripsSummary":case"TimeCard":case"AuditLog":case"UserList":case"ServiceStatus":case"FailureMode":case"DiagnosticList":case"CustomerVisitsDetail":case"CustomerVisitsSummary":case"RouteSummary":case"UnassignedRoute":case"Notification":case"FuelTax":case"Congregation":case"EngineSummary":case"EngineFault":case"EngineStatus":case"Device":case"RouteDirections":case"Reminder":case"EventRuleDevice":case"EventHistory":case"GroupsList":case"DeviceInstallHistory":case"TimePerformance":case"ValuePerformance":case"EngineStatusStatistics":case"TextMessage":case"RouteComparisonDetail":case"HosLog":case"DVIRLog":case"HosViolation":case"HosAvailability":case"FillUps":u=(r?"Short":"")+"ReportTemplate"+(n.reportDataSource||n)}else if(n.reportTemplateType==="Advanced")switch(n.reportDataSource){case"ZoneList":case"TripsDetail":case"RiskManagement":case"Debug":case"ExceptionsDetail":case"ExceptionsSummary":case"TripsSummary":case"TimeCard":case"AuditLog":case"UserList":case"ServiceStatus":case"FailureMode":case"DiagnosticList":case"CustomerVisitsDetail":case"CustomerVisitsSummary":case"RouteSummary":case"UnassignedRoute":case"Notification":case"FuelTax":case"Congregation":case"EngineSummary":case"EngineFault":case"EngineStatus":case"Device":case"RouteDirections":case"Reminder":case"EventRuleDevice":case"EventHistory":case"GroupsList":case"DeviceInstallHistory":case"TimePerformance":case"ValuePerformance":case"EngineStatusStatistics":case"TextMessage":case"RouteComparisonDetail":case"HosLog":case"DVIRLog":case"HosViolation":case"HosAvailability":case"FillUps":u=(r?"Short":"")+"ReportTemplateAdvanced"+n.reportDataSource}else if(n.isSystem)return o.translateKey(n.name);return u?i?u:t[u]:n.name},getKnownErrorLocalizedName:function(n){var i,r=s.unescape(n.message);return n.isPasswordPolicyViolationException&&(r.indexOf("upper case")!==-1?i=t.PasswordPolicyUpperCaseException||n.message:r.indexOf("lower case")!==-1?i=t.PasswordPolicyLowerCaseException||n.message:r.indexOf("non-alphanumeric")!==-1?i=t.PasswordPolicySymbolException||n.message:r.indexOf("numeric character")!==-1?i=t.PasswordPolicyNumberException||n.message:r.indexOf("minimum length")!==-1?i=t.PasswordPolicyMinimumLengthException||n.message:r.indexOf("contain the user name")!==-1&&(i=t.PasswordPolicyContainUserNameException||n.message)),i},getSecurityRoleName:function(n){return t.hasOwnProperty(n)?t[n]:n},getFailureModeDescription:function(n){return n===null||n==="NoFailureModeId"?"":typeof n=="string"?n:n.name},getUnitOfMeasureDescription:function(n){return!n||n==="UnitOfMeasureNoneId"?t.None:typeof n=="string"?n:n.name},getUserDescription:function(n){var r=n.firstName,t=n.lastName,i=n.name;return r||t?(r||"")+(t?" "+t:"")+(i?" ("+i+")":""):i},getDriverDescription:function(n){return o.isUnknownDriver(n)?t.UnknownDriverId:o.getUserDescription(n)},isUnknownDriver:function(n){return!n||n==="UnknownDriverId"||n.id==="UnknownDriverId"},getDeviceFirmwareDescription:function(n){return t["GoFirmware"+n]||n},getDistributionListDescription:function(n){return n.id==="DistributionListNewsId"?t.DistributionListNewsId:n.id==="DistributionListImportExportId"?t.DistributionListImportExportId:n.name},isValidEmail:function(n){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n||"")},translateSentences:function(n,t){return rt.translateSentences(n,function(n){t(n.translation)})},translateHtml:function(n,t){return rt.translateHtml(Array.isArray(n)?n:[n],t)},translatePage:function(n,t){var i=document.head.getElementsByTagName("title")[0],u=" | ",r=(n[0]?n[0]:n).getElementsByClassName("translatePagePhrases")[0],f=i&&(i.textContent||"").split(u);return i&&(i.textContent=f.shift()||""),r&&Array.prototype.forEach.call(r.children,function(n){n.id||n.getAttribute("data-key")||n.setAttribute("data-key",n.textContent)}),o.translateHtml([n,i],function(){var n={};r&&(Array.prototype.forEach.call(r.children,function(t){var i=t.id||t.getAttribute("data-key");i&&(n[i]=t.textContent)}),r.parentNode.removeChild(r));i&&(i.textContent=i.textContent+(f.length?u+f.join(u):""));t(n)})},pluralize:function(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return rt.pluralize.apply(this,[n].concat(i))},hasKey:function(n){return n in t},translateKey:function(n){return t[n]||n},translateKeyFormat:function(n,t){for(var r=o.translateKey(n),i=0;i<t.length;i++)r=r.replace("{"+i+"}",t[i]);return r},getPeriodName:function(n){switch(n){case"Daily":return t.Day+" ";case"Weekly":return t.Week+" ";case"Monthly":return t.Month+" ";default:return"Unknown!!! "}},getSystemDayName:function(n){switch(n.toString().toLowerCase()){case"sunday":case"1":return"Sunday";case"monday":case"2":return"Monday";case"tuesday":case"3":return"Tuesday";case"wednesday":case"4":return"Wednesday";case"thursday":case"5":return"Thursday";case"friday":case"6":return"Friday";case"saturday":case"7":return"Saturday";default:return n}},getDayName:function(n){return t[o.getSystemDayName(n)]},getCountAndDurationDescription:function(n,i,r){var u,e,f;switch(n){case 0:u="0 "+t.times;break;case 1:u=t.once;break;case 2:u=t.twice;break;case null:u="";break;default:u=n+" "+t.times}return e=i?kt(i,!0):null,f=r?o.toLocalDistance(r):0,u+(!e||e==="0s"?"":" "+t["for"]+" "+e)+(f?" "+t["for"]+" "+(f>1?f.toFixed(0):f.toFixed(3))+o.getDistanceAbbreviation():"")},getEntitiesNavigatorLocalStrings:function(n){return at||(at={selectAllGroupText:t.selectAllGroupText,selectAllDriversText:t.selectAllDriversText,selectAllDevicesText:t.selectAllDevicesText,selectOnlyInGroupText:t.selectOnlyInGroupText,selectOnlyDriversText:t.selectOnlyDriversText,selectOnlyDevicesText:t.selectOnlyDevicesText,watermarkText:t.watermarkText,nothingFoundText:t.nothingFoundText,levelUpText:t.levelUpText,deselectAllText:t.deselectAllText,selectAllText:t.selectAllText,entireOrganizationText:t.GroupCompanyId,itemsOfTypeNotFoundText:t.itemsOfTypeNotFoundText,typeIsNotSupportedText:t.typeIsNotSupportedText,showHistoricalText:t.showHistoricalText,hideHistoricalText:t.hideHistoricalText}),i.extend({},at,n||{})},getSystemZoneTypeColours:function(){return{nonCustomer:"#0069c3",office:"#FFA500",home:"#46b500",customer:"#d52121"}},getRuleName:function(n){switch(n.id){case"RuleHarshBrakingId":case"RuleJackrabbitStartsId":case"RuleHarshCorneringId":case"RulePostedSpeedingId":case"RuleSeatbeltId":case"RuleAfterHoursUsageId":case"RuleAccidentId":case"RuleIdlingId":case"RuleLateArrivalId":case"RuleEarlyLeaveId":case"RuleUnauthorizedHomeStopId":case"RuleAtOfficeLongerThanId":case"RuleLongLunchId":case"RuleLongStopsDuringWorkHoursId":case"RuleEngineLightOnId":case"RuleAlternatorFailedId":case"RuleUnauthorizedDeviceRemovalId":case"RuleEngineAbuseId":case"RuleFleetIdlingId":case"RuleReverseAtStartId":case"RuleApplicationExceptionId":case"RuleLightsLeftOnId":return t[n.id];default:return n.name}},getRuleTypeNameFromId:function(n){switch(n){case"EventTypeOilChangeId":case"EventTypeTireRotationId":case"EventTypeLeaseExpiryId":case"EventTypeLicensePlateExpiryId":return t[n];default:return n}},getMalfunctionName:function(n){return{None:"None",Diagnostic:"Diagnostic",Malfunction:"Malfunction",UserClear:"User cleared",SystemClear:"System cleared",SystemClearDriving:"System Clear Driving",ManualPosition:"Manual Position",SystemDiagnosticClear:"System Diagnostic cleared",SystemDiagnosticClearDriving:"System Diagnostic Clear Driving",UserDiagnosticClear:"User Diagnostic Clear",UserMalfunctionClear:"User Malfunction Clear",DiagnosticManualPosition:"Diagnostic Manual Position",MalfunctionManualPosition:"Malfunction Manual Position"}[n]||n},getDurationOfTime:function(n,i){var r,u={fullSecond:60,fullMinute:60,fullHour:24,fullDay:30,fullMonth:12,fullYear:0},e=(typeof n=="string"?bt(n):n).getTime(),o=(typeof i=="string"?bt(i):i).getTime(),f=Math.round((o-e)/1e3);for(r in u)if(u.hasOwnProperty(r)){if(u[r]>f||!u[r])return f+" "+t[r+(f>1?"s":"")];f=Math.round(f/u[r])}return null},getDefaultLanguage:function(){var t=f.Html5Storage(),i=t.getItem(ei)||o.getCultureInfo().language||window.navigator.language||window.navigator.userLanguage||n.localizer.defaultCultureInfo.language;return oi(i).language},setDefaultLanguage:function(n){var t=f.Html5Storage();try{t.setItem(ei,n,!0)}catch(i){console.error(i)}},getDisplayDiagnosticCode:function(n){var t=function(n,t){for(var i=""+n;i.length<t;)i="0"+i;return i.toUpperCase()};if(n.controller)switch(n.controller.id){case"ControllerObdBodyId":case"ControllerObdWwhBodyId":return"B"+t(parseInt(n.code,10).toString(16),4);case"ControllerObdChassisId":case"ControllerObdWwhChassisId":return"C"+t(parseInt(n.code,10).toString(16),4);case"ControllerObdNetworkingId":case"ControllerObdWwhNetworkingId":return"U"+t(parseInt(n.code,10).toString(16),4);case"ControllerObdPowertrainId":case"ControllerObdWwhPowertrainId":return"P"+t(parseInt(n.code,10).toString(16),4)}return n.code},makeDiagnosticNameUnique:function(){var n={},r=function(n){return n.name+" (type: "+o.getEngineSourceDescription(n.source)+")"},u=function(t){var i=n[t.controller.id];return t.name.substring(0,t.name.length-1)+"; controller: "+(i?i.name:t.controller.id)+")"},f=function(n){return n.name.substring(0,n.name.length-1)+"; code: "+o.getDisplayDiagnosticCode(n)+")"},t=[r,f,u];return function(r,u,f,e){var s,h,l={},a,y=[],p=e||0,w=p+1,k=f||t[p],b=[],c,v;for(n=u||n,s=r.length-1;s>-1;--s)a=r[s].name.toLowerCase(),l[a]?(l[a].push(s),l[a].length===2&&b.push(l[a])):l[r[s].name.toLowerCase()]=[s];for(s=b.length-1;s>-1;--s){for(v=b[s],h=v.length-1;h>-1;--h)c=r[v[h]],p||(c=i.extend({},r[v[h]])),c.name=k(c),r[v[h]]=c,y.push(c);t[w]&&o.makeDiagnosticNameUnique(y,n,t[w],w);y.length=0}return r}}(),optimizeUrlLength:function(n,t,i,r,u){var y=hi.maxBrowserUrlLength(),e=!1;if(y>0)for(var b=i?i:rison.encode,k=function(n){return b(n).length},d=10,o=0,f,s=(u||["rules","zones","devices","drivers","liveVehicleIds"]).filter(function(t){return Array.isArray(n[t])&&n[t].length}),g=s.reduce(function(t,i){return t+n[i].length},0),p=s.reduce(function(t,i){return t[i]=n[i].length/g,t},{}),l=document.location.href.split("#"),a=y-l[0].length-(l[1]?l[0].split(",")[0].length:0)-1,h,v,w,c;(h=k(n))>a&&(r||o<s.length)&&d--;)r?(n=r(n,1-a/h,h),e=!0):(f=s[o],c=n[f].length,c>10?(v=1-a/h,p[f]<=v?(n[f]=n[f].splice(0,10),e=!0,o++):(w=Math.ceil(c*v/p[f]),n[f]=n[f].splice(0,c-w),e=!0)):o++);return e&&t&&t(),n},getDstCalculator:function(){return k},getDeviceType:function(n){switch(n){case"None":return t.Unsupported;case"CustomDevice":case"GoDriveDevice":return t[n];default:return n?n.replace("GO",t.Version+" "):""}},parseEulaPath:function(n,t){var i={en:2};return i[n]=1,t.map(function(n){var r=n.split("\\")[1],t=r.split("_");return{path:n,version:parseInt(t[2]),language:t[1],priority:i[t[1]]||3}}).sort(function(n,t){return n.priority>t.priority?1:-1})},getLocalShortDayNames:function(){return w.shortDayNames},getLocalShortMonthNames:function(){return w.shortMonthNames},humanizeDistance:function(n){var r=o.kmToMeters(o.toLocalDistanceMetreEquivalent(1)),t=o.toLocalDistanceMetreEquivalent(n),i="";return t>r?(t=ut(o.toLocalDistance(o.metersToKm(n)),2),i+=t+" "+o.getDistanceAbbreviation()):i=ut(t,2)+" "+o.getShortDistanceAbbreviation(),i},getLanguageName:function(n){var i={en:"English",fr:"French",es:"Spanish",ja:"Japanese",de:"German",pl:"Polish","pt-BR":"Brazilian-Portuguese",nl:"Dutch",it:"Italian","zh-Hans":""}[n]||n;return t[i]||n},translateWeather:function(n){var i=gi[n];return i?t[i]:null}})}Object.defineProperty(t,"__esModule",{value:!0});var s=require("./utils"),i=require("./vanillaExtension/vanilla"),u=require("./checkmate/timespan"),h=require("./checkmate/dstCalculator"),c=require("./translatorClass"),r=require("./checkmate/task"),l=require("./checkmate/tasks"),a=require("./checkmate/browser"),v=require("./checkmate/eventHandler"),f=require("./checkmate/storage/html5Storage"),e=function(n,t,i,r,u,f,e){return{language:n,isMetric:t,fuelEconomyUnit:i,dateFormat:r,timeFormat:u,timeZoneId:f,firstDayOfWeek:e}},y=function(n,t){return n===t||n&&t&&Object.keys(t).every(function(n,t){return function(i){return n[i]===t[i]}}(n,t))};t.LocalizerConstructor=o;t.defaultCultureInfo=e("en",!0,"LitersPer100Km","dd MMM yyyy","HH:mm:ss","","Sunday");n.localizer=o;n.localizer.defaultCultureInfo=t.defaultCultureInfo})(geotab,geotab.commonjs.generateRequire("geotab.localizer"),geotab.commonjs.generateExport("geotab.localizer"));self.geotab && geotab.declare("geotab.localizer");
(function(n,require,t){"use strict";function e(n){var o=!!(n&&n.getAttribute("disabled")),t={label:null,checker:null,enable:r.NOOP,disable:r.NOOP,click:r.NOOP,unclick:r.NOOP,change:r.NOOP,destroy:r.NOOP,isDisabled:function(){return!1}},e=[],h=[],c=function(n){for(var t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}},l=n&&n.getAttribute("for"),s=l&&document.getElementById(l);return{BUTTON:!0,A:!0,LABEL:!0}[n.nodeName]&&(t.label=n,t.checker=s,t.enable=function(){o&&(o=!1,i.removeClasses(n,u),n.removeAttribute("disabled"),s?s.removeAttribute("disabled"):(n.removeEventListener("click",f,!0),c(f)))},t.disable=function(){o||(o=!0,i.addClasses(n,u),n.setAttribute("disabled","disabled"),s?s.setAttribute("disabled","disabled"):n.tagName==="A"&&(n.addEventListener("click",f,!0),e.push(f)))},t.isDisabled=function(){return o},t.click=function(t){e.push(t);n.addEventListener("click",t,!1)},t.unclick=function(t){c(t);n.removeEventListener("click",t,!1)},t.change=function(n){t.checker&&(h.push(n),t.checker.addEventListener("change",n,!1))},t.destroy=function(){e.forEach(function(t){n.removeEventListener("click",t,!1)});e.length=0;h.forEach(function(t){n.removeEventListener("change",t,!1)});h.length=0}),t}function o(n,t){var s=this,f={vertical:"verticalButtonSet",horizontal:"horizontalButtonSet adjustableButtonSet"},u=[],h=r.generateId(),e=function(n){t.onChange(n)},o=function(){u.forEach(function(n){n.box.removeEventListener("change",e,!1)});u.length=0;n.innerHTML=""},c=function(t){t&&t.length&&(o(),u=t.map(function(t){var o=r.generateId(),u=i.create("input",{type:"radio",name:h,value:t.value,"class":"geotabSwitchButton",id:o}),f=i.create("label",{"class":"geotabButton switcherItem_"+t.value,"for":o});return f.textContent=t.text,u.addEventListener("change",e,!1),n.appendChild(u),n.appendChild(f),{box:u,label:f}}),u[0].box.checked=!0)};return i.removeClasses(n,f.vertical+" "+f.horizontal),i.addClasses(n,"buttonSet "+f[t.type]),{addOptions:c,getValue:function(){for(var t,n=0;n<u.length;++n)if(u[n].box.checked){t=u[n].box.value;break}return t||""},setValue:function(n){for(var t=0;t<u.length;++t)if(u[t].box.checked=!1,u[t].box.value===n){u[t].box.checked=!0;break}u.length&&t===u.length&&(u[0].box.checked=!0)},isChanged:function(n){return n===s.getValue()},reset:function(){o()}}}function s(n,t,r,u,f){if(f===void 0&&(f="linear"),!n||!("style"in n))throw new Error("createPixelAnimation requires valid dom element for animation");var a=r,s=u,h=function(n){for(var i=["transition","webkitTransition","MozTransition"],t=0;t<i.length;t++)if(i[t]in n)return i[t];return""}(n.style),y=i.css,p=function(){var n={};return function(t){return n.hasOwnProperty(t)||(n[t]=t.split("-").map(function(n,t){var i=n[0].toUpperCase();return t?n.replace(n[0],i):n}).join("")),n[t]}}(),w=function(){var n={end:"End",start:"Start"};return h==="transition"?Object.keys(n).reduce(function(t,i){return t[i]=n[i].toLowerCase(),t},{}):n}(),b=function(n,i){var r={};return r[h]=n,r[p(t)]=i,r},k=function(n){return typeof n=="number"},d=function(n){return k(n)?n+(n===0?"":"px"):n},c=function(t,i){return y(n,b(t,d(i)))},e={},o=function(n){typeof e[n.type]=="function"&&(e[n.type].apply(this,[n,l]),e[n.type]=null);this.removeEventListener(n.type,o,!1)},v=function(){Object.keys(e).forEach(function(t){typeof e[t]=="function"&&(n.removeEventListener(t,o,!1),e[t]=null)})},l={start:function(i,r){l.reset();n.offsetHeight;var u=h+w.end;c(t+" "+i+"s "+(f||"linear"),s);e[u]&&n.removeEventListener(u,o,!1);r&&(e[u]=r,n.addEventListener(u,o,!1))},reset:function(){c("",a);v()},end:function(){c("",s);v()},changeRange:function(n,t){a=n;s=t},getTarget:function(){return n}};return l}function h(n,f){var b,a=f||{},k=a.onChange||null,d=a.labels||{},y=a.isTriStateButton||!1,g=function(){return i.create("input",{type:"checkbox",id:r.generateId(),"class":"geotabSwitchButton"})},ft=function(n,t){var r=t.removeChild(n);return i.addClasses(r,"geotabSwitchButton"),r},h=function(n){var t={},f,i,r,u;if(n&&n.nodeName!=="INPUT")for(t.parent=n,t.containerElement=n,r=n.childNodes,f=r.length,i=0;i<f;++i)u=r[i].nodeName,u==="LABEL"?t[t.onLabel?"offLabel":"onLabel"]=r[i]:u==="INPUT"&&(t[t.onElement?"offElement":"onElement"]=r[i]);else t.parent=n.parentNode,t.onElement=n;return t}(n),nt=a.narrowSwitcherButton?" narrowSwitcher":"",p=h.parent||a.parent||document.body,e=h.onElement?h.containerElement?h.onElement:ft(n,p):g(),o=h.offElement||g(),et=d.on||t.lang.ON_LABEL,ot=d.off||t.lang.OFF_LABEL,s=h.onLabel||null,c=h.offLabel||null,w=h.containerElement||i.create("span",{"class":"horizontalButtonSet"}),tt=function(n,t){return{get:function(){return n.textContent},set:function(i){n.textContent=i||t}}},v=function(n){n.parentNode||w.appendChild(n)},l=function(t){var u=this===e?o:e,r=!0,f=this.checked,i=this.checked;f&&i?u.checked=!1:y||i||i||(this.checked=!0,r=!1);k&&r&&t&&k.apply(n||this,[b,arguments])},it=function(n){e.checked||(e.checked=!0,l.call(e,n))},rt=function(n){o.checked||(o.checked=!0,l.call(o,n))},ut=function(n){y&&(o.checked=!1,e.checked=!1,l.call(e,n))};return e.id||(e.id=r.generateId()),s||(s=i.create("label",{"class":"geotabButton onLabelSwitcher noTranslate"+nt,"for":e.id}),s.textContent=et),c||(c=i.create("label",{"class":"geotabButton offLabelSwitcher noTranslate"+nt,"for":o.id}),c.textContent=ot),e.addEventListener("change",l,!1),v(e),v(s),o.addEventListener("change",l,!1),v(o),v(c),e.checked||(o.checked=!0),p!==w&&p.appendChild(w),b={on:function(){it(!0)},off:function(){rt(!0)},indeterminate:function(){ut(!0)},setValue:function(n){n===!0?it(!1):n===!1?rt(!1):n===null&&ut(!1)},toggle:function(n){typeof n=="boolean"?this[n?"on":"off"](!0):this.indeterminate(!0)},isOn:function(){return e.checked},isOff:function(){return o.checked},isIndeterminate:function(){return!o.checked&&!e.checked},changeState:function(n){y=n},disable:function(){e.setAttribute("disabled","disabled");o.setAttribute("disabled","disabled");i.addClasses(s,u);i.addClasses(c,u)},enable:function(){e.removeAttribute("disabled");o.removeAttribute("disabled");i.removeClasses(s,u);i.removeClasses(c,u)},isDisabled:function(){return!!e.getAttribute("disabled")},destroy:function(){o.removeEventListener("change",l,!1);e.removeEventListener("change",l,!1);s.parentNode&&(s.parentNode.removeChild(s),c.parentNode.removeChild(c));!h.offElement&&o.parentNode&&o.parentNode.removeChild(o)},onLabel:tt(s,t.lang.ON_LABEL),offLabel:tt(c,t.lang.OFF_LABEL)}}function c(n,t,u,f){var y={maxLength:512,save:function(){},show:r.NOOP,hide:r.NOOP},h=i.extend(y,f||{}),e,o,s,p=function(n){e.value=n||t.textContent;i.hide(t);i.hide(u);i.show(e);i.show(o);i.show(s);e.focus();h.show()},c=function(){i.show(t);i.show(u);e&&i.hide(e);o&&i.hide(o);s&&i.hide(s);h.hide()},l=function(){h.save(e.value)&&c()},a=function(){c()},v=function(n){n.stopPropagation()},w=function(){o.addEventListener("click",l,!1);s.addEventListener("click",a,!1);e.addEventListener("mousedown",v,!1)},b=function(){o.removeEventListener("click",l,!1);s.removeEventListener("click",a,!1);e.removeEventListener("mousedown",v,!1)},k=function(){var t=i.createPureIcon("check","geotabButton-svgIcon bigger"),r=i.createPureIcon("close-cross","geotabButton-svgIcon");e=i.create("input",{type:"text",maxLength:h.maxLength,"class":"checkmateFormEditField inlineEditor_input"});o=i.create("button",{"class":"geotabButton geotabButton-empty positiveButton inlineEditor_saveButton"});s=i.create("button",{"class":"geotabButton geotabButton-empty negativeButton inlineEditor_cancelButton"});o.appendChild(t);s.appendChild(r);c();w();n.appendChild(e);n.appendChild(o);n.appendChild(s)};return k(),{show:p,hide:c,destroy:function(){b();e.parentNode.removeChild(e);o.parentNode.removeChild(o);s.parentNode.removeChild(s)}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("./vanilla"),r=require("../utils"),f=function(n){return n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),!1},u="buttonDisabled";t.createButtonSwitcher=e;t.createSwitchedButtonSet=o;t.createPixelAnimation=s;t.createVanillaSwitcher=h;t.createInlineEditableField=c;t.lang={ON_LABEL:"On",OFF_LABEL:"Off"}})(geotab,geotab.commonjs.generateRequire("geotab.vanillaExtension.vanillaUI"),geotab.commonjs.generateExport("geotab.vanillaExtension.vanillaUI"));self.geotab && geotab.declare("geotab.vanillaExtension.vanillaUI");
(function(n,require,t){"use strict";function u(n,t){var l=t||{},e=l.panes||{},w="hiddenPane",d=function(n,t,r){var u,e=n+"ResizerBar",f="20px";switch(n){case"north":case"south":u=i.create("div",{"class":"resizerWidthBar "+e},{height:f,display:t?"block":"none"});u.innerHTML="<div class='resizerButton' style='height:"+f+'\'><svg class="svgIcon geotabButtonIcons upArrow"><use xlink:href="#up-open"><\/use><\/svg><svg class="svgIcon geotabButtonIcons downArrow"><use xlink:href="#down-open"><\/use><\/svg><\/div>';break;case"west":case"east":u=i.create("div",{"class":"resizerHeightBar "+e},{width:0,display:t?"block":"none"});u.innerHTML="<div class='verticalResizer'><div><div class='resizerButton' style='width:"+f+'\'><svg class="svgIcon geotabButtonIcons leftArrow"><use xlink:href="#left-open"><\/use><\/svg><svg class="svgIcon geotabButtonIcons rightArrow"><use xlink:href="#right-open"><\/use><\/svg><\/div><\/div><\/div>'}return r&&u&&(u.className+=" "+r),u},g=function(n){return n==="east"||n==="west"?"width":"height"},h={north:["top"],west:["left","top","bottom"],south:["bottom"],east:["right","top","bottom"]},nt={top:"north",right:"east",left:"west",bottom:"south"},o={north:{top:["center","west","east"]},west:{left:["center"]},east:{right:["center"]},south:{bottom:["center","west","east"]}},tt=function(n){return o.hasOwnProperty(n)?Object.keys(o[n])[0]:null},a=0,v=function(){clearTimeout(a);a=0;c={}},c={},y=function(n,t){var i=nt[n];if(f.hasOwnProperty(i)){var r=n==="top"||n==="bottom"?"height":"width",l=t&&e[i]&&e[i].isOver,y=e[i]&&typeof e[i][r]!="undefined";if(!l){if(y)return e[i][r];if(a=a||setTimeout(v,1),c[i])return c[i][r];try{c[i]=f[i].getBoundingClientRect()}catch(u){var o=!1,s=!1,h="none";try{o=!!f[i].parentNode;s=f[i].parentNode===document.body}catch(u){h=u.message}throw new Error(u.message+" Get "+r+" for #"+f[i].id+"."+i+"Pane (has parent: "+o+", is parent body: "+s+", second error: "+h+").");}return c[i][r]}}return 0},b=function(n,t){var r,i,u=t||s[n];if(u)for(r=h[n]||h[n.split("-")[1]]||[],i=0;i<r.length;i++)u.style[r[i]]=y(r[i])+"px"},f=["north","west","east","south","center"].reduce(function(t,i){var r=Array.prototype.filter.call(n.getElementsByClassName(i+"Pane"),function(t){return t.parentNode===n})[0];return r&&(t[i]=r),t},{}),it=function(n){return function(){u[u.isVisible(n)?"hide":"show"](n)}},k=function(n,t){s[n].style.display=!t?"none":"block"},rt=function(n,t){var i=!u.isVisible(n);(i||!t)&&k(n,!t)},s=l.resizers&&l.resizers.length?l.resizers.reduce(function(t,i){var u=i.paneName,r;return f.hasOwnProperty(u)&&(r=d(u,!!i.initShown,i.className),r&&(b(u,r),n.appendChild(r),r.getElementsByClassName("resizerButton")[0].addEventListener("click",typeof i.clickHandler=="function"?i.clickHandler:it(u),!1),t[u]=r)),t},{}):{},p=function(n){for(var i,u=Object.keys(n),r,t=0;t<u.length;t++)for(r=n[u[t]],i=0;i<r.length;i++)f.hasOwnProperty(r[i])&&(f[r[i]].style[u[t]]=y(u[t],!0)+"px"),b(r[i])},u=i.extend({isVisible:function(n){var n=f[n];return n&&n.className.indexOf(w)===-1&&(window.getComputedStyle(n).display||"").toLowerCase()!=="none"},hide:function(n){f[n]&&u.isVisible(n)&&(v(),i.addClasses(f[n],w),s.hasOwnProperty(n)&&(s[n].style[h[n][0]]=0,e.hasOwnProperty(n)&&e[n].hideResizerWithPane&&k(n,!1)),o.hasOwnProperty(n)&&p(o[n]),u.fireEvent("hide."+n,u),u.fireEvent("resize."+n,u),u.fireEvent("resize.all",u))},show:function(n){f[n]&&!u.isVisible(n)&&(v(),i.removeClasses(f[n],w),s.hasOwnProperty(n)&&(i.isVisible(s[n])||k(n,!0),s[n].style[h[n][0]]=y(h[n][0])+"px"),o.hasOwnProperty(n)&&p(o[n]),u.fireEvent("show."+n,u),u.fireEvent("resize."+n,u),u.fireEvent("resize.all",u))},resize:function(n,t){o.hasOwnProperty(n)&&(t&&(f[n].style[g(n)]=t+"px",s.hasOwnProperty(n)&&(s[n].style[h[n]]=t+"px")),v(),p(o[n]),b(n),u.fireEvent("resize."+n,u),u.fireEvent("resize.all",u))},resizeAll:function(){var n,t=Object.keys(o);for(u.fireEvent("resize.all",u),n=0;n<t.length;n++)p(o[t[n]]),u.fireEvent("resize."+t[n],u)},getPaneSize:function(n){var t;return f.hasOwnProperty(n)&&(t=tt(n),t!==null)?y(t):0},setPaneConfig:function(n,t,i){var r="hideResizerWithPane";f.hasOwnProperty(n)&&(e[n]?Object.keys(t).map(function(i){e[n][i]=t[i]}):e[n]=t,r in t&&rt(n,t[r]),i||this.resize(n))}},r.default());return u}Object.defineProperty(t,"__esModule",{value:!0});var i=require("./vanilla"),r=require("../checkmate/eventHandler");t.default=u})(geotab,geotab.commonjs.generateRequire("geotab.vanillaExtension.vanillaLayout"),geotab.commonjs.generateExport("geotab.vanillaExtension.vanillaLayout"));self.geotab && geotab.declare("geotab.vanillaExtension.vanillaLayout");
(function(n,require,t){"use strict";function e(n){return'<h3 class="mainMenuHeader ellipsis" data-href="'+n.link+'">\n                '+i(n)+'\n                <span class="itemText">'+n.title+"<\/span>\n            <\/h3>\n            "+u(n.children||[],n.link)}function o(n){return'<h3 class="mainMenuHeader">\n                <a class="mainMenuHeaderLink mainMenuLink ellipsis" data-orig="'+n.link+'" title="'+(n.description||"")+'" '+r(n.dataAttr)+">\n                    "+i(n)+'\n                    <span class="itemText">'+n.title+"<\/span>\n                <\/a>\n            <\/h3>"}function u(n,i){return'<ul data-header="'+i+'">'+n.reduce(function(n,i){return n+t.makeLevel2Menu(i)},"")+"<\/ul>"}function s(n){return'<li class="mainMenuOption" data-href="'+n.link+'">\n                <a class="mainMenuLink">\n                    '+i(n)+'\n                    <div class="ellipsis">'+n.title+'...<\/div>\n                    <svg class="svgIcon geotabButtonIcons"><use xlink:href="#arrow-right"><\/use><\/svg>\n                <\/a>\n                '+u(n.children||[],n.link)+"\n            <\/li>"}function h(n){var t=r(n.dataAttr),u=n.hasNoWebPage?" hasNoWebPage":"",f=n.dataAttr&&n.dataAttr.external,e=n.hasNoWebPage||n.custom?f?'href="'+n.link+'" target="_blank"':"":'data-orig="'+n.link+'"',o=n.description||"";return'<li class="mainMenuOption">\n                <a class="mainMenuLink'+u+'" '+e+' title="'+o+'" '+t+">\n                    "+i(n)+'\n                    <div class="ellipsis">'+n.title+"<\/div>\n                    "+(n.hasNoWebPage?'<svg class="svgIcon geotabButtonIcons geotabActiveIcons"><use xlink:href="#external-link"><\/use><\/svg>':"")+"\n                <\/a>\n            <\/li>"}Object.defineProperty(t,"__esModule",{value:!0});t.makeLevel1Menu=function(n){return n.children?e(n):o(n)};t.makeLevel2Menu=function(n){return n.children?s(n):h(n)};var i=function(n){var t=n.icon||"",i=t.indexOf("/")>-1||t.indexOf("data:")===0;return i?'<span class="icon" style="background-image: url(\''+n.icon+"')\"><\/span>":t?'<span class="icon '+t+'"><\/span>':""},f=function(n,t){return" data-"+n+(t?'="'+t+'"':"")},r=function(n){return n?Object.keys(n).reduce(function(t,i){return t+f(i,n[i])},""):""};t.makeMainMenu=function(n){return'<div class="mainMenu verticalMenu">'+n.reduce(function(n,i){return n+t.makeLevel1Menu(i)},"")+"<\/div>"}})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.modules.mainMenu.mainMenu_html"),geotab.commonjs.generateExport("geotab.checkmate.ui.modules.mainMenu.mainMenu_html"));self.geotab && geotab.declare("geotab.checkmate.ui.modules.mainMenu.mainMenu_html");
(function(n,require,t){"use strict";function f(){return i}function r(n,t,i){return n.map(function(n){var f=u.extend({},n),e=n.dataAttr&&n.dataAttr.href?n.dataAttr.href:n.link;return t[e]={item:f,isRemoved:!1,parent:i},f.children&&(f.children=r(f.children,t,t[e])),f})}function e(){var n={},t=r(i,n);return{tree:t,hash:n}}Object.defineProperty(t,"__esModule",{value:!0});var u=require("../../../../vanillaExtension/vanilla"),i=[].concat([{icon:"geotabIcons_help",link:"GettingStartedLink",title:"Getting Started &amp; Help",children:[{title:"Product Guide",link:"helpGuide",description:"The Product Guide provides an introduction to the application and its features.",icon:"geotabIcons_guide"},{title:"Resources",link:"helpResources",description:"Additional videos and training materials.",icon:"geotabIcons_resources"},{title:"Support",link:"helpSupport",description:"Visit the technical support website for additional assistance.",icon:"geotabIcons_support"},{title:"Forum",link:"helpForum",description:"A user forum for questions and issues regarding the product.",icon:"geotabIcons_mainMenuForum"},{title:"Video Resources",link:"//www.youtube.com/MyGeotab",description:"Additional videos available on YouTube.",hasNoWebPage:!0,dataAttr:{external:"true",href:"videoresources"}}]}],[{icon:"geotabIcons_mainMenuSummary",link:"dashboard",description:"A graphical summary for the various metrics of your organization.",title:"Dashboard"},{icon:"geotabIcons_map",link:"map",description:"View the current or historical positions of your vehicles.",title:"Map",dataAttr:{type:"active"}},{icon:"geotabIcons_vehicle",link:"devices",description:"View and set up devices.",title:"Vehicles"}],[{icon:"geotabIcons_activity",link:"ActivityLink",title:"Activity",children:[{title:"Risk Management",link:"riskManagement",description:"A report that can showcase which drivers or vehicles could have risky driving behavior &mdash; useful for improving safety.",icon:"geotabIcons_mainMenuRisk"},{title:"Speed Profile",link:"speedProfile",description:"Graph the speed of a vehicle over a period of time."},{title:"Driver Congregation",link:"driversCongregating",description:"Find when and where vehicles gather together."},{title:"Work Hours",link:"WorkTimeLink",children:[{title:"Time Card Report",link:"timeCardReport",description:"Display the time spent by drivers on various activities."},{title:"Work Hours",link:"workTimes",description:"View and set up work hours or shifts for your organization."},{title:"Work Holidays",link:"workHolidays",description:"View and set up holidays for your organization."}]},{title:"IFTA Report",link:"iftaMiles",description:"Produce an IFTA report for vehicles &#8212; including the miles driven per state/province."},{title:"Daily Usage",link:"dailyUsage",description:"A report showing the daily use of vehicles."},{title:"View Accidents &amp; Log Data",link:"logDetails",description:"View a detailed list of every device log."},{title:"HOS",link:"HosLink",children:[{title:"Duty Status Logs",link:"hosLogs",description:"View Hours of Service (HOS) duty status logs."},{title:"Violations",link:"hosViolations",description:"View Hours of Service (HOS) violations."},{title:"Availability",link:"hosAvailability",description:"View Hours of Service (HOS) duty status logs."}]}]}],[{icon:"geotabIcons_engine",link:"EngineMaintenanceLink",title:"Engine &amp; Maintenance",children:[{title:"Engine and Device",link:"DataEngineLink",icon:"geotabIcons_engine",children:[{title:"Faults",link:"engineFaults",description:"A report of all recorded engine faults."},{title:"Measurements",link:"engineMeasurements",description:"A report of all recorded engine measurements."},{title:"Diagnostics",link:"engineDiagnostics",description:"A list of all engine diagnostics."}]},{title:"Fuel Usage",link:"fuelUsage",description:"A report on the fuel consumption of your vehicles.",icon:"geotabIcons_mainMenuTrends"},{title:"DVIR",link:"dvirs",description:"DVIR"},{title:"Trailers",link:"trailers",description:"A list of trailers"},{link:"RemindersLink",title:"Reminders",children:[{title:"Reminder Rules",link:"reminderRules",description:"View and set up maintenance reminders for vehicles."},{title:"Reminders Due",link:"reminderDue",description:"View and set up maintenance reminders for vehicles."},{title:"Maintenance History",link:"maintenanceHistory",description:"View the maintenance history of your vehicles."}]}]}],[{icon:"geotabIcons_zone",link:"ZoneAndMessagesLink",title:"Zones &amp; Messages",children:[{title:"Zones",link:"zones",description:"View and set up zones.",icon:"geotabIcons_zone"},{title:"Import Zones",link:"importZones",description:"Import the zones or customers from an Excel spreadsheet into the application"},{title:"Customer Visits",link:"customerVisits",description:"A report on the activity of drivers at customer sites."},{title:"Routes",link:"RoutesLink",icon:"geotabIcons_route",children:[{title:"Planned vs. Actual Route Report",link:"routePlanActual",description:"A report showing driver deviations from pre-defined routes."},{title:"Route Summary",link:"routeSummaryReport",description:"A report showing a summary of all the routes driven in a specified time period."},{title:"Unmatched Route",link:"unmatchedRoute",description:"A report showing the routes where planned stops do not correlate with actual stops."},{title:"Routes",link:"routes",description:"View and set up routes and route plans for drivers."}]},{title:"Messages",link:"gpsTextMessages",description:"View and send text messages to drivers.",icon:"geotabIcons_mainMenuGpsMessage"},{title:"Messages (new version preview)",link:"messages3",description:"View and send text messages to drivers.",icon:"geotabIcons_mainMenuGpsMessage"}]}],[{icon:"geotabIcons_rule",link:"RuleAndGroupsLink",title:"Rules &amp; Groups",children:[{title:"Rules",link:"rules",description:"View and set up exception rules for your vehicles."},{title:"Exceptions",link:"exceptions",description:"A report showing all exception rule violations.",icon:"geotabIcons_rule"},{title:"Groups",link:"groupsTree",description:"A graphical tool to view and set up hierarchical groups for users, zones, vehicles, drivers, rules, and reports.",icon:"geotabIcons_mainMenuGroup"}]}],[{icon:"geotabIcons_administration",link:"AdministrationLink",title:"Administration",children:[{title:"Reports",link:"Reports",icon:"geotabIcons_mainMenuReport",children:[{title:"Report views",link:"customReports",description:"A list of Excel-based reports.",dataAttr:{type:"normal",href:"reportViews"}},{title:"Dashboard",link:"customReports",description:"A list of Excel-based dashboard reports.",dataAttr:{type:"dashboard",href:"dashboardReports"}},{title:"Emailed reports",link:"customReports",description:"A list of Excel-based email reports.",dataAttr:{type:"email",href:"emailedReports"}}]},{title:"Users",link:"users",description:"View and set up users and their data access.",icon:"geotabIcons_users"},{title:"System",link:"SystemLink",children:[{title:"System Settings",link:"systemSettings",description:"Configure settings that apply to the entire database."},{title:"Audit Log",link:"auditLogs",description:"A list of all events audited by the system."},{title:"Import Database",link:"databaseImport",description:"Import data from a different database."},{title:"Export Database",link:"databaseExport",description:"Export this data to a new database."},{title:"Radio Downloaders",link:"radioDownloaders",description:"Work with all the radio downloaders for this database."}]},{title:"About",link:"about",description:"View the application's version and license details."}]}],[{icon:"geotabIcons_marketplace_logo",link:"MarketplaceLink",title:"Marketplace",children:[{icon:"geotabIcons_marketplace_logo",link:"marketplace",title:"Home"},{icon:"geotabIcons_marketplace_search",link:"marketplace/search",title:'<input placeholder="Search" class="marketplaceSearchBox" type="text"/>',custom:!0,dataAttr:{link:"marketplace/search"}},{icon:"geotabIcons_marketplace_addins",link:"marketplace/mygeotab-add-ins",title:"MyGeotab Add-Ins"},{icon:"geotabIcons_marketplace_addons",link:"marketplace/hardware-add-ons",title:"Hardware Add-Ons"},{icon:"geotabIcons_marketplace_mobile",link:"marketplace/mobile-apps",title:"Mobile Apps"},{icon:"geotabIcons_marketplace_solutions",link:"marketplace/integrated-software-solutions",title:"Integrated Software Solutions"},{icon:"geotabIcons_marketplace_reports",link:"marketplace/custom-reports",title:"Custom Reports"},{icon:"geotabIcons_marketplace_beta",link:"marketplace/beta-solutions",title:"Beta Solutions"},{icon:"geotabIcons_marketplace_free",link:"marketplace/free-solutions",title:"Free Solutions"},{icon:"geotabIcons_marketplace_popular",link:"marketplace/popular-solutions",title:"Popular Solutions"},{icon:"geotabIcons_marketplace_categories",link:"marketplaceCategoriesLink",title:"Categories",children:[{link:"marketplace/asset-tracking",title:"Asset Tracking"},{link:"marketplace/bi-data-analytics",title:"BI & Data Analytics"},{link:"marketplace/cameras",title:"Cameras"},{link:"marketplace/driver-feedback-training",title:"Driver Feedback & Training"},{link:"marketplace/eld-ifta-dvir",title:"ELD & IFTA & DVIR"},{link:"marketplace/field-service-workflow",title:"Field Service & Workflow"},{link:"marketplace/fleet-asset-management-software",title:"Fleet & Asset Management Software"},{link:"marketplace/fuel-management",title:"Fuel Management"},{link:"marketplace/remote-workers",title:"Remote Workers"},{link:"marketplace/roadside-assistance",title:"Roadside Assistance"},{link:"marketplace/routing-scheduling",title:"Routing & Scheduling"},{link:"marketplace/solution-integrator",title:"Solution Integrator"},{link:"marketplace/substance-spreaders",title:"Substance Spreaders"},{link:"marketplace/tire-pressure-monitoring-system",title:"Tire Pressure Monitoring System"},{link:"marketplace/vehicle-equipment-electronics",title:"Vehicle Equipment & Electronics"},{link:"marketplace/vehicle-maintenance",title:"Vehicle Maintenance"}]},{link:"marketplace/productivity",icon:"geotabIcons_marketplace_productivity",title:"Productivity Solutions"},{link:"marketplace/safety",icon:"geotabIcons_marketplace_safety",title:"Safety Solutions"},{link:"marketplace/fleet-optimization",icon:"geotabIcons_marketplace_fleet-optimization",title:"Fleet Optimization Solutions"},{link:"marketplace/compliance",icon:"geotabIcons_marketplace_compliance",title:"Compliance Solutions"},{link:"marketplace/expandability",icon:"geotabIcons_marketplace_expandability",title:"Expandability Solutions"}]}]);t.getMenuTree=f;t.cloneMenu=e})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.modules.mainMenu.mainMenuTree"),geotab.commonjs.generateExport("geotab.checkmate.ui.modules.mainMenu.mainMenuTree"));self.geotab && geotab.declare("geotab.checkmate.ui.modules.mainMenu.mainMenuTree");
typeof rison=="undefined"&&(window.rison={});rison.uri_ok={"~":!0,"!":!0,"*":!0,"(":!0,")":!0,"-":!0,_:!0,".":!0,",":!0,":":!0,"@":!0,$:!0,"'":!0,"/":!0},function(){for(var n,r,i=[],t=0;t<16;t++)for(n=0;n<16;n++)t+n!=0&&(r=String.fromCharCode(t*16+n),/\w|[-_.\/~]/.test(r)||i.push("\\u00"+t.toString(16)+n.toString(16)));rison.not_idchar=i.join("")}();rison.not_idchar=" '!:(),*@$";rison.not_idstart="-0123456789",function(){var n="[^"+rison.not_idstart+rison.not_idchar+"][^"+rison.not_idchar+"]*";rison.id_ok=new RegExp("^"+n+"$");rison.next_id=new RegExp(n,"g")}();rison.quote=function(n){return/^[-A-Za-z0-9~!*()_.',:@$\/]*$/.test(n)?n:encodeURIComponent(n).replace("%2C",",","g").replace("%3A",":","g").replace("%40","@","g").replace("%24","$","g").replace("%2F","/","g").replace("%20","+","g")},function(){var t={"'":!0,"!":!0},n={array:function(t){for(var i=["!("],e,f,o=t.length,r,u=0;u<o;u+=1)r=t[u],f=n[typeof r],f&&(r=f(r),typeof r=="string"&&(e&&(i[i.length]=","),i[i.length]=r,e=!0));return i[i.length]=")",i.join("")},boolean:function(n){return n?"!t":"!f"},"null":function(){return"!n"},number:function(n){return isFinite(n)?String(n).replace(/\+/,""):"!n"},object:function(t){if(t){if(t instanceof Array)return n.array(t);if(typeof t.__prototype__=="object"&&typeof t.__prototype__.encode_rison!="undefined")return t.encode_rison();var i=["("],s,o,u,r,e,f=[];for(u in t)f[f.length]=u;for(f.sort(),e=0;e<f.length;e++)u=f[e],r=t[u],o=n[typeof r],o&&(r=o(r),typeof r=="string"&&(s&&(i[i.length]=","),i.push(n.string(u),":",r),s=!0));return i[i.length]=")",i.join("")}return"!n"},string:function(n){return n==""?"''":rison.id_ok.test(n)?n:(n=n.replace(/(['!])/g,function(n,i){return t[i]?"!"+i:i}),"'"+n+"'")},undefined:function(){throw new Error("rison can't encode the undefined value");}};rison.encode=function(t){return n[typeof t](t)};rison.encode_object=function(t){if(typeof t!="object"||t===null||t instanceof Array)throw new Error("rison.encode_object expects an object argument");var i=n[typeof t](t);return i.substring(1,i.length-1)};rison.encode_array=function(t){if(!(t instanceof Array))throw new Error("rison.encode_array expects an array argument");var i=n[typeof t](t);return i.substring(2,i.length-1)};rison.encode_uri=function(t){return rison.quote(n[typeof t](t))}}();rison.decode=function(n){var t=function(n){throw Error("rison decoder error: "+n);},i=new rison.parser(t);return i.parse(n)};rison.decode_object=function(n){return rison.decode("("+n+")")};rison.decode_array=function(n){return rison.decode("!("+n+")")};rison.parser=function(n){this.errorHandler=n};rison.parser.WHITESPACE="";rison.parser.prototype.setOptions=function(n){n.errorHandler&&(this.errorHandler=n.errorHandler)};rison.parser.prototype.parse=function(n){this.string=n;this.index=0;this.message=null;var t=this.readValue();return!this.message&&this.next()&&(t=this.error("unable to parse string as rison: '"+rison.encode(n)+"'")),this.message&&this.errorHandler&&this.errorHandler(this.message,this.index),t};rison.parser.prototype.error=function(n){return typeof console!="undefined"&&console.log("rison parser error: ",n),this.message=n,undefined};rison.parser.prototype.readValue=function(){var n=this.next(),u=n&&this.table[n],f,t,i,r;return u?u.apply(this):(f=this.string,t=this.index-1,rison.next_id.lastIndex=t,i=rison.next_id.exec(f),i.length>0)?(r=i[0],this.index=t+r.length,r):n?this.error("invalid character: '"+n+"'"):this.error("empty expression")};rison.parser.parse_array=function(n){for(var i=[],t,r;(t=n.next())!=")";){if(!t)return n.error("unmatched '!('");if(i.length)t!=","&&n.error("missing ','");else{if(t==",")return n.error("extra ','");--n.index}if(r=n.readValue(),typeof r=="undefined")return undefined;i.push(r)}return i};rison.parser.bangs={t:!0,f:!1,n:null,"(":rison.parser.parse_array};rison.parser.prototype.table={"!":function(){var i=this.string,t=i.charAt(this.index++),n;return t?(n=rison.parser.bangs[t],typeof n=="function")?n.call(null,this):typeof n=="undefined"?this.error('unknown literal: "!'+t+'"'):n:this.error('"!" at end of input')},"(":function(){for(var r={},n,u=0,t,i;(n=this.next())!=")";){if(u)n!=","&&this.error("missing ','");else{if(n==",")return this.error("extra ','");--this.index}if(t=this.readValue(),typeof t=="undefined")return undefined;if(this.next()!=":")return this.error("missing ':'");if(i=this.readValue(),typeof i=="undefined")return undefined;r[t]=i;u++}return r},"'":function(){for(var u=this.string,n=this.index,r=n,i=[],t;(t=u.charAt(n++))!="'";){if(!t)return this.error('unmatched "\'"');if(t=="!"){if(r<n-1&&i.push(u.slice(r,n-1)),t=u.charAt(n++),"!'".indexOf(t)>=0)i.push(t);else return this.error('invalid string escape: "!'+t+'"');r=n}}return r<n-1&&i.push(u.slice(r,n-1)),this.index=n,i.length==1?i[0]:i.join("")},"-":function(){var t=this.string,i=this.index,f=i-1,r="int",u="-",e={"int+.":"frac","int+e":"exp","frac+e":"exp"},n;do{if(n=t.charAt(i++),!n)break;if(!("0"<=n)||!(n<="9")){if(u.indexOf(n)>=0){u="";continue}r=e[r+"+"+n.toLowerCase()];r=="exp"&&(u="-")}}while(r);return(this.index=--i,t=t.slice(f,i),t=="-")?this.error("invalid number"):Number(t)}},function(n){for(var t=0;t<=9;t++)n[String(t)]=n["-"]}(rison.parser.prototype.table);rison.parser.prototype.next=function(){var i=this.string,n=this.index,t;do{if(n==i.length)return undefined;t=i.charAt(n++)}while(rison.parser.WHITESPACE.indexOf(t)>=0);return this.index=n,t};self.geotab && geotab.declare("js.rison");
(function(n,require,t){"use strict";function i(n){var t,u,r;if(Array.isArray(n))for(t=n.length-1;t>-1;--t)n[t]===undefined?n.splice(t,1):typeof n[t]=="object"&&i(n[t]);else for(u=Object.keys(n||{}),t=u.length-1;t>-1;--t)r=u[t],n[r]===undefined?delete n[r]:typeof n[r]=="object"&&i(n[r]);return n}function u(n){var u="",o="",s="",f,t=i(r.extend(!0,{},n)||{}),e,h;return t.groups.page&&(u=t.groups.page),f=t.groups.groups,f&&Object.keys(f).length&&(o=rison.encode(f),u+=(u!==""?",":"")+o.substr(1,o.length-2)),t.settings&&(t.settings.filter&&typeof t.settings.filter!="function"&&t.settings.filter[0]==="GroupCompanyId"&&delete t.settings.filter,e=t.settings,h=Object.keys(e),h.length&&(s=rison.encode(h.length!==2?e:{settings:e}),u+=(u!==""?",":"")+s.substr(1,s.length-2))),u}function f(n){var t={groups:{},settings:{}},i=function(n){var u=n.split(","),i="",r,f;return u[0].indexOf(":")===-1?(t.groups.page=u[0],i=n.substring(u[0].length+1,n.length)):i=n,i=i[i.length-1]===","?i.substring(0,i.length-1):i,r=rison.decode("("+i+")"),f=r.settings||{},["filter","token"].forEach(function(n){t.settings[n]=r[n]||f[n];delete r[n]}),delete r.settings,t.groups.groups=r.groups?r.groups:r,t};try{return i(decodeURIComponent(n))}catch(r){throw new Error("Invalid URL");}}Object.defineProperty(t,"__esModule",{value:!0});var r=require("../../vanillaExtension/vanilla");require("../../../js/rison");t.clearUndefined=i;t.encode=u;t.decode=f})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.urlCoder"),geotab.commonjs.generateExport("geotab.checkmate.ui.urlCoder"));self.geotab && geotab.declare("geotab.checkmate.ui.urlCoder");
(function(n,require,t){"use strict";function r(n,t){var y={DIV:!0,UL:!0},c={defaultStyle:!0,withIcons:!0,usePopup:!1},u=t?Object.keys(t).reduce(function(n,i){return n[i]=t[i],n},c):c,p=function(n){for(var t=n.nextElementSibling;t&&t.nodeName!=="H3";){if(y.hasOwnProperty(t.nodeName))return t;t=t.nextElementSibling}return null},w=function(n){var t=p(n);return t?b(t):null},b=function(n){return i.addClasses(n,"vanillaAccordionSubMenu"),{element:n,show:function(){i.css(n,{maxHeight:"none"})},hide:function(){i.css(n,{maxHeight:"0"})}}},r,f=function(n){for(var t=0;t<r.length;t++)if(n===r[t].header)return r[t];return null},k=function(){return i.createMultipleIcons([{icon:"arrow-right",className:"accordion-closed"},{icon:"arrow-down",className:"accordion-opened"}],"inline")},o=function(n){n.subMenu&&n.subMenu.show();i.addClasses(n.header,"activeHeader");n.icon&&i.addClasses(n.icon,"geotabActiveIcons")},e=function(n){n.subMenu&&n.subMenu.hide();i.removeClasses(n.header,"activeHeader");n.icon&&i.removeClasses(n.icon,"geotabActiveIcons")},s=function(){var t=n.getElementsByClassName("activeHeader")[0],r=t&&f(t),i=f(this);if(r&&e(r),i&&(t!==this&&o(i),u.onChange))u.onChange(i.header)},h=function(){var t=n.getElementsByClassName("activeHeader")[0],i=t&&f(t),r=f(this);if(i&&e(i),r&&u.onChange)u.onChange(r.header)},d=function(n){return Array.prototype.filter.call(n.children,function(n){return n.nodeName==="H3"}).map(l)},l=function(n){return{header:n,subMenu:w(n),icon:null}},a=function(n){var t;n.subMenu?(i.addClasses(n.header,"vanillaAccordionHeader"),u.defaultStyle&&(t=k(),i.addClasses(n.header,"leftAccordionIcon"),n.header.insertBefore(t,n.header.childNodes[0]),n.icon=t),n.header.addEventListener("click",s,!1)):n.header.addEventListener("click",h,!1)},g=function(n){n.subMenu?(i.removeClasses(n.header,"vanillaAccordionHeader"),u.defaultStyle&&(i.removeClasses(n.header,"leftAccordionIcon"),n.icon&&n.icon.parentNode&&n.icon.parentNode.removeChild(n.icon)),n.header.removeEventListener("click",s,!1)):n.header.removeEventListener("click",h,!1)},v=function(){return n.getElementsByClassName("activeHeader")[0]||null};return r=d(n),i.addClasses(n,"geotabAnimationAccordion"+(u.defaultStyle?" defaultAccordionStyle":"")),r.forEach(a),u.activateTab&&r[u.activateTab-1]&&o(r[u.activateTab-1]),{addTab:function(n){var t=l(n);return a(t),r.push(t),t},removeTab:function(n){var t=f(n);t&&(g(t),r=r.filter(function(n){return n!==t}))},activateTab:function(n){var t=f(n);t&&o(t)},deactivateTab:function(n){var t=n||v(),i=t&&f(t);i&&e(i)},getActiveTab:v,eachTab:function(n){r.forEach(n)},destroy:function(){var t=n.getElementsByClassName("activeHeader")[0],o=t&&f(t);o&&e(o);r.forEach(function(n){n.header.removeEventListener("click",n.subMenu?s:h,!1);i.removeClasses(n.header,"vanillaAccordionHeader leftAccordionIcon");n.subMenu&&i.addClasses(n.subMenu.element,"vanillaAccordionSubMenu");n.icon&&n.header.removeChild(n.icon)});r.length=0;i.removeClasses(n,"geotabAnimationAccordion"+(u.defaultStyle?" defaultAccordionStyle":""))}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("./vanilla");t.default=r})(geotab,geotab.commonjs.generateRequire("geotab.vanillaExtension.vanillaAccordion"),geotab.commonjs.generateExport("geotab.vanillaExtension.vanillaAccordion"));self.geotab && geotab.declare("geotab.vanillaExtension.vanillaAccordion");
(function(n,require,t){"use strict";function u(n,t){var b,rt="top",st="left",ht="bottom_left",ct="bottom_right",lt=ct,o=i.extend({},t),c=function(n,t){n in o&&o[n].apply(a,[t])},g=!1,s=!1,h=!1,nt="popupWindowTrigger",k="popupWindow",at="data-popup-id",u=function(n){return n&&(i.hide(n),i.addClasses(n,k)),n}(o.content),v,d=o.position||"",ut=o.hasOwnProperty("disabled")?o.disabled:!1,vt=function(){var n=u.parentNode,t;if(!y){while(n!==document.body&&n&&n.parentNode){if(t=window.getComputedStyle(n).position||"",t==="relative"||t==="absolute")return n;n=n.parentNode}return n&&n.parentNode?document.body:null}return y},y=vt(),ri=function(n,t,r){if(!i.isVisible(n))return!1;var u=n.getBoundingClientRect();return t>=u.left&&t<=u.right&&r>=u.top&&r<=u.bottom},ui=function(n){var r=n.style.display,i,t=document.activeElement;return n.style.visibility="hidden",n.style.display="block",n.style.top="0",n.style.left="0",i=n.getBoundingClientRect(),n.style.visibility="",n.style.display=r,t&&t.focus&&t.focus(),i},l=function(n){return n+(typeof n=="string"?"":"px")},fi=function(n,t){Object.keys(t).forEach(function(i){n.style[i]=l(t[i])})},yt=function(n){var u=i.isVisible(n)&&n.offsetWidth&&n.offsetHeight,t=i.closest(n.parentNode,"."+k),r=t&&kt(t);return u?n:r?yt(r):null},pt=(b={},b[st]=function(n,t,i,r,u){return{left:n.left+n.width-i.left,top:n.top+(u?-5-i.top:0)}},b[ht]=function(n,t,i,r,u){return{left:Math.max(n.left+n.width-t.width-i.left,0),top:n.top+n.height+(u?-1-i.top:0)}},b[rt]=function(n,t,i){return{left:Math.max(n.left-i.left,0),top:n.top-t.height-1-i.top}},b.def=function(n,t,i,r,u,f){return{left:Math.max(n.left-i.left,0),top:Math.floor(n.top-(u?r.top:0)+n.height+f)}},b),ei=function(n,t,i,r){var f,e;return(u.style.left=l(n.left||0),u.style.top=l(n.top||0),f=u.getBoundingClientRect(),f.top<0)?(o.autoHeight||(u.style.height=l(i.height+f.top)),e=u.offsetHeight,{left:Math.max(t.left-r.left,0),top:Math.max(0,t.top-e-1-r.top)}):n},oi=function(n,t,i,r){var e=document.body.offsetHeight+r-n.top-i.top-t.height;if(e<0&&(n.height=Math.floor(t.height+e),o.minHeight&&n.height<o.minHeight)){var s=o.minHeight-n.height,u=n.top-s,f=Math.abs(i.top);f>Math.abs(u)||u>0?(n.top=u,n.height=o.minHeight):(n.top=Math.max(u,-f),n.height=o.minHeight-(f-u))}return n},si=function(){var n=u.getBoundingClientRect();return!n.width&&!n.height?ui(u):n},hi=function(n){var e=yt(v)||v,h=e.getBoundingClientRect(),w=!!(i.isVisible(e)&&e.offsetWidth&&e.offsetHeight),c=u.parentNode.getBoundingClientRect(),r=(y||(y=vt())||document.body).getBoundingClientRect(),a=y===document.body?y.scrollTop-(window.scrollY||0):(y||document.body).scrollTop,f=si(),t=(pt[d]||pt.def)(h,f,c,r,w,a),s,p;d===rt&&(t=ei(t,h,f,c));s=t.top;p=t.left;o.addAutoScroll?t=oi(t,f,r,a):s+f.height>=r.height&&(t.top=Math.floor(r.height-f.height),t.top<=0&&(t.top=0,t.bottom=0,t.overflowY="auto"));o.calcMaxHeight&&(u.style.maxHeight=l(document.body.offsetHeight-s-r.top));p+f.width>=r.width&&(t.left=Math.floor(r.width-f.width));fi(u,i.extend(t||{},n||{}))},ft=function(){var t={},n;if(!u||u.style.display!=="none"){if(o.calculatePosition){if(n=o.calculatePosition(u,v),!n)return;t=n}o.autoHeight&&(u.style.height="auto");o.calcMaxHeight&&(u.style.maxHeight="none");u.style.bottom="auto";hi(t);d=o.position||""}},wt=function(t){var r=function(){o.closeOnSelect===!0&&ai();g=!1;c("onShowEnd",t);c("onPositionChanged",t)};return u.style.display==="none"&&!ut&&i.isVisible(n)?(u.setAttribute("data-open",Date.now().toString()),g=!0,c("onShow",t),u.style.display="block",ft(),r(),document.body.addEventListener("keypress",et,!1),!1):!0},et=function(n){n.keyCode===27&&p(n)},ci=function(n){n&&u.getAttribute("data-filter")!==n&&u.id!==n||p(null,!1,!0)},tt,p=function(t,r,f){var l=function(){var i;s=!1;c("onHideEnd",t);document.body.removeEventListener("keypress",et,!1);r&&(i=it(n),i&&i.popupWin&&i.popupWin.close(!0,!0));li()},o="popupWindowHiding",h=function(){tt=0;i.removeClasses(u,o);i.hide(u);l()};tt&&clearTimeout(tt);u.removeAttribute("data-open");(bt()||s)&&(s||c("onHide",t),s=!0,e&&!f?(i.addClasses(u,o),tt=setTimeout(h,150)):h())},li=function(){var n=u.getElementsByClassName(nt);return Array.prototype.forEach.call(n,function(n){n.popupWin&&n.popupWin.close()}),null},ai=function(){o.content.addEventListener("click",ot,!1)},vi=function(n){for(var t=n;t;){if(i.hasClass(t,nt)||i.hasClass(t,k))return t;t=t.parentNode}return null},ot=function(n){if(!h){var t=vi(n.target)!==o.content;if(t||s)return!0;n.hideOnSelect=!0;o.content.removeEventListener("click",ot,!1);p(n,!0)}return!1},bt=function(){return i.isVisible(u)},yi=function(){var n=u.getBoundingClientRect();u.scrollHeight>u.offsetHeight&&u.offsetHeight+n.top>window.innerHeight+document.body.scrollTop&&(u.style.height=l(window.innerHeight+document.body.scrollTop-n.top))},pi=function(n){for(var i=u,t=n;t&&t!==i&&t!==document.body;)t=t.parentNode;return t===i},it=function(n){for(var i=function(n){var t=(typeof n.className=="string"?n.className:"").split(" ");return t.indexOf(k)>-1},t=n;t;){if(i(t))return t;t=t.parentNode}return null},kt=function(n){for(var u=n.id,r=document.getElementsByClassName(nt),i,t=0;t<r.length;t++)if(i=r[t],i.getAttribute(at)===u)return i;return null},dt=function(t){for(var i=t.target,r,f;i&&i!==document.body;){if(i===n||i===u)return!0;i=i.parentNode}for(r=it(t.target);r;){if(r===u)return!0;f=kt(r);r=n?it(f):null}return!1},gt=function(n){var t=n,r=Date.now();o.keepVisible||h||!t||dt(t)||setTimeout(function(){var n=!ri(u,t.pageX,t.pageY)&&!pi(t.target),f=i.isVisible(u)&&!s,e=parseInt(u.getAttribute("data-open")||"")<r;n&&f&&e&&p(t,!1,!0)},1)},ni=function(n){h||!i.isVisible(u)||s||dt(n)||a.close()},wi=function(n){for(var t=n;t&&t!==document.body;){if(t.style.display==="none")return!1;t=t.parentNode}return!!t},ti=function(n){var r=n,t;!h&&i.isVisible(u)&&!s&&u.parentNode&&(t=it(v),v&&(wi(v)||t&&!i.isVisible(t))?(c("onWindowResize",r),ft(),c("onPositionChanged",r)):a.close())},a={open:function(){return wt(null),a},close:function(n,t){return p(null,n===!0,t===!0),a},isVisible:bt,resize:function(){!s&&u.parentNode&&(yi(),ft(),c("onPositionChanged"))},isOpening:function(){return g},isHiding:function(){return s},position:function(){return d||lt},disable:function(){ut=!0;p(null)},enable:function(){ut=!1},pause:function(){h||(i.removeClasses(u,k),h=!0)},unpause:function(){h&&(i.addClasses(u,k),h=!1)},getDimensions:function(){return u.getBoundingClientRect()},destroy:function(){w.forEach(function(n){return n()});w.length=0;window.removeEventListener("resize",ti,!1);document.body.addEventListener("keypress",et,!1);o.content.removeEventListener("click",ot,!1);r.unsubscribe(ii)},setOptions:function(n){o=i.extend({},o,n||{})}},bi=function(n){var t=n;h||(s?i.hide(u):g&&i.show(u),i.isVisible(u)?p(t):wt(t))},w=[],ii=f.generateId();return i.addClasses(n,nt),o.addAutoScroll&&i.addClasses(u,"scrollHost touchScrollClass hardwareAccelerationClass"),[rt,st,"right",ht,ct].indexOf(d)===-1&&(d=lt),u.id||(u.id=f.generateId()),u.popupWin=a,n.popupWin=a,n.setAttribute(at,u.id),o.width&&(u.style.width=l(o.width)),o.minWidth&&(u.style.minWidth=l(o.minWidth)),v=o.target?o.target:n,w.push(i.addPassiveListener(n,"click",bi)),r.subscribe(ii,ci),w.push(i.addPassiveListener(document.body,"click",gt)),w.push(i.addPassiveListener(document.body,"mousewheel",ni)),e&&(w.push(i.addPassiveListener(document.body,"touchstart",gt)),w.push(i.addPassiveListener(document.body,"touchmove",ni))),window.addEventListener("resize",ti,!1),a}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../vanillaExtension/vanilla"),f=require("../../utils"),e="ontouchstart"in window,r=function(){var n={},t=function(t,i){n[t]=i},i=function(t){n.hasOwnProperty(t)&&delete n[t]},r=function(t){Object.keys(n).forEach(function(i){n[i](t)})};return{subscribe:t,unsubscribe:i,trigger:r}}();t.default=u;n.declare("geotab.checkmate.ui.popupWindow");n.checkmate.ui.popupWindow=u;u.clearAll=function(n){r.trigger(n)}})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.popupWindow"),geotab.commonjs.generateExport("geotab.checkmate.ui.popupWindow"));self.geotab && geotab.declare("geotab.checkmate.ui.popupWindow");
(function(n,require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=require("./mainMenu_html"),e=require("./mainMenuTree"),u=require("../../../../utils"),o=require("../../urlCoder"),i=require("../../../../vanillaExtension/vanilla"),s=require("../../../../vanillaExtension/vanillaAccordion"),h=require("../../popupWindow"),f=function(){function n(n,t,i,r,u){var f=this;this.currMode="original";this.newPagesHash={};this.modePopups={narrow:[],wide:[]};this.mainMenuClass="verticalMenu";this.activeMenuItem="activeStateButton";this.clickOnceHandler=function(n){var t="/geotab/mygeotabservice/MyGeotabService.exe";n.preventDefault();document.documentMode?window.location.replace(t):window.open(t,"")};this.refreshLink=function(n){var i=n.getAttribute("data-orig"),r=n.getAttribute("data-type"),t=f.filterVal;i&&n.setAttribute("href","#"+o.encode({groups:{page:i,groups:r?{type:r}:undefined},settings:{filter:t&&t.length?t:undefined}}))};this.modes={ORIGINAL:"original",WIDE:"wide",NARROW:"narrow"};this.main=n;this.sub=t;this.pageSecurity=i;this.options=u||{};this.lang=r}return n.prototype.createDependencyItem=function(n){return{inside:[],after:[],item:n}},n.prototype.getPath=function(n){return n.path||""},n.prototype.resolveDependencies=function(n,t){var u=this,r=function(n){return n.hash||n.menuId||""},e=n.reduce(function(n,t){return n[r(t)]=t,n},{}),s=function(n,t,i){for(var f,e,u=n.length-1;u>=0;u--)if(f=n[u],e=f.item&&r(f.item)||"",t[e]&&e!==i)return f;return null},o=function(n,t){var d=n.tree,h=n.hash,c=n.wholeHash,v=i.extend({},t),y=r(v),b,w,k;if(!h[y]){var l=u.createDependencyItem(v),a=u.getPath(v),p=a[a.length-1]==="/",f=p?a.substring(0,a.length-1):a;h[y]=l;c[y]=l;h[f]||(e[f]?o(n,e[f]):(c[f]&&(b=c[f][p?"inside":"after"],w=s(b,c,y),w&&w.item&&(f=r(w.item),v.path=f,p=!1,b.push(l))),h[f]=u.createDependencyItem(null),c[f]=c[f]||h[f],d.push(h[f])));k=h[f];p?k.inside.push(l):k.after.push(l)}return n},f=function(n,t){return t.item&&n.push(t.item),t.inside.reduceRight(f,n),t.after.reduceRight(f,n),n},h=n.reduce(o,{wholeHash:t,hash:{},tree:[]});return h.tree.reduce(f,[])},n.prototype.clear=function(){this.activateClickOnce(!1);this.activeElt=null;this.mode=this.modes.ORIGINAL;this.accordion&&this.accordion.destroy();this.accordion=undefined;i.empty(this.main)},n.prototype.tabToPopup=function(n,t,r,u){var e=this,l=t.parentNode,o,s=function(){var f=n.parentNode,i=n.getAttribute("data-href")||f.getAttribute("data-href"),r=i&&e.searchMenuElementInDOM('*[data-header="'+i+'"]'),t;n.removeEventListener("click",s,!1);r&&(t=r.parentNode,t.style.display="block",o=h.default(n,{content:t,minWidth:200,position:"left",closeOnSelect:!0,onHideEnd:u?function(){window.setTimeout(function(){e.accordion&&e.accordion.deactivateTab(n)},1)}:function(){},calculatePosition:function(){var r=n.getBoundingClientRect(),s=e.sub.getBoundingClientRect(),u=t.getBoundingClientRect(),i=r.left+r.width,f=window.innerWidth,o=i-s.left;return i+u.width>f&&(o-=i+u.width-f),{left:o}},onPositionChanged:function(){var n=t.getBoundingClientRect(),r=e.sub.offsetHeight,i;(i=r-n.top-n.height)<0&&(t.style.top=n.top+i+"px")}}),o.open())},c=i.hasClass(t,"vanillaAccordionSubMenu"),a=n.nextElementSibling===t,f=i.create("DIV",{"class":"verticalMenu verticalSubmenu"},{display:"none"});return r&&(f.style.zIndex=r.toString()),f.appendChild(l.removeChild(t)),n.addEventListener("click",s,!1),c||i.addClasses(t,"vanillaAccordionSubMenu"),{destroy:function(){var e=f.removeChild(t),r=a?n:n.parentNode,u;c||i.removeClasses(t,"vanillaAccordionSubMenu");n.removeEventListener("click",s,!1);o&&(o.close(),o.destroy());u=r.parentNode;r.nextSibling?u.insertBefore(e,r.nextSibling):u.appendChild(e);f.parentNode&&f.parentNode.removeChild(f)},popupElt:f,trigger:n}},n.prototype.createWidePopup=function(n){var i=n.parentNode,r=i.children[0],t=this.tabToPopup(r,n);return this.modePopups.wide.push(t),t.popupElt},n.prototype.setWideMode=function(){var n=this;this.modePopups.wide.length||this.sub.appendChild(this.searchMenuElementsInDOM("*[data-href] > [data-header]").reduce(function(t,i){return t.appendChild(n.createWidePopup(i)),t},document.createDocumentFragment()))},n.prototype.createNarrowPopup=function(n){if(n.subMenu){var t=this.tabToPopup(n.header,n.subMenu.element,10005,!0);return this.modePopups.narrow.push(t),t.popupElt}return null},n.prototype.setNarrowMode=function(){var t=this,n;this.accordion&&(n=document.createDocumentFragment(),this.accordion.deactivateTab(),this.accordion.eachTab(function(i){var r=t.createNarrowPopup(i);r&&n.appendChild(r)}),this.sub.appendChild(n))},n.prototype.destroyPopup=function(n){var t=function(t){return t.trigger===n?(t.destroy(),!1):!0};this.mode!==this.modes.ORIGINAL&&(this.modePopups.wide=this.modePopups.wide.filter(t),this.mode===this.modes.NARROW&&(this.modePopups.narrow=this.modePopups.narrow.filter(t)))},n.prototype.resetMode=function(n){var t=this.modePopups[n]||[];t.forEach(function(n){n.destroy()});t.length=0},n.prototype.generateNewMenu=function(n){var t=n.menuName?typeof n.menuName=="string"?n.menuName:n.menuName[this.lang]||"":"";return{link:u.htmlEscape((n.hash||n.menuId||"").replace(/\//i,"")),icon:n.icon,title:u.htmlEscape(t)||"**Unknown add-in",children:n.menuId?[]:undefined}},n.prototype.generateNewCustomPage=function(n){return{hash:n.children?"":n.link,menuId:n.children?n.link:undefined,path:"",icon:n.icon,menuName:n.title}},n.prototype.findItem=function(n,t){for(var i=0;i<n.length;++i)if(n[i]===t)return i;return-1},n.prototype.getElementsToSearchIn=function(){return[this.sub,this.main]},n.prototype.makeSelector=function(n){var t=this;return Array.isArray(n)||(n=[n]),n.map(function(n){return"."+t.mainMenuClass+" "+n}).join(", ")},n.prototype.searchMenuElementInDOM=function(n){for(var r=this.getElementsToSearchIn(),u=this.makeSelector(n),i,t=0;t<r.length;++t)if(i=r[t].querySelector(u),i)return i;return null},n.prototype.searchMenuElementsInDOM=function(n){for(var r=this.getElementsToSearchIn(),i=[],u=this.makeSelector(n),t=0;t<r.length;++t)i=i.concat(Array.prototype.slice.call(r[t].querySelectorAll(u),0));return i},n.prototype.searchMenuItemInDOM=function(n){var i=n?'="'+n+'"':"",r=["*[data-orig"+i+"]","*[data-href"+i+"]"],t=this.searchMenuElementInDOM(r);return t&&t.getAttribute("data-orig")&&(t=t.parentNode),t},n.prototype.activateClickOnce=function(n){var t=this;n===void 0&&(n=!0);this.searchMenuElementsInDOM("*[data-click-once]").forEach(function(i){n?i.addEventListener("click",t.clickOnceHandler,!1):i.removeEventListener("click",t.clickOnceHandler,!1)})},n.prototype.findNextHeader=function(n){while(n&&n.getAttribute("data-header"))n=n.nextElementSibling;return n},n.prototype.initInsertedPage=function(n,t){var u=this,i,r;n.item.children?n.parent?this.mode!==this.modes.ORIGINAL&&(i=t[0].querySelector("*[data-header]"),i&&this.sub.appendChild(this.createWidePopup(i))):this.accordion&&(r=this.accordion.addTab(t[0]),this.mode===this.modes.NARROW&&this.sub.appendChild(this.createNarrowPopup(r))):t.forEach(function(n){u.refreshLink(n.children[0])})},n.prototype.insertPages=function(n){var t=this;this.resolveDependencies(n,this.newPagesHash).forEach(function(n){for(var g=t.currMenuHash,c=t.currMenuTree,e,l=t.getPath(n),o=l.replace(/\//i,""),u=g[o],nt=!u||u.isRemoved,y=!nt&&l[l.length-1]==="/",tt=l==="/",f=t.generateNewMenu(n),p,w,h,it,b,k,v,d;u&&u.isRemoved;)u=u.parent;if(o=u?u.item.link:"",u?y?(u.item.children&&u.item.children.unshift(f),e={item:f,parent:u,isRemoved:!1}):(p=(u.parent?u.parent.item.children:c)||[],w=t.findItem(p,u.item),w>=0?p.splice(w,0,f):c.push(f),e={item:f,isRemoved:!1,parent:u.parent}):(tt?c.unshift(f):c.push(f),e={item:f,parent:undefined,isRemoved:!1}),g[f.link]=e,t.menu){var s=o&&t.searchMenuItemInDOM(o),rt=!!(s&&e.parent&&(y||nt)),a=i.textToHTML(e.parent&&s?r.makeLevel2Menu(f):r.makeLevel1Menu(f));s&&u?rt?(h=t.searchMenuElementInDOM('*[data-header="'+o+'"]'),it=h&&h.children[0],h&&a.forEach(function(n){var t=h;y?t.insertBefore(n,it):t.appendChild(n)})):(b=t.findNextHeader(s.nextElementSibling),k=s.parentNode,a.forEach(function(n){b?k.insertBefore(n,b):k.appendChild(n)})):(v=t.menu,d=v.firstChild,a.forEach(function(n){tt&&d?v.insertBefore(n,d):v.appendChild(n)}));t.initInsertedPage(e,a)}})},n.prototype.deletePages=function(n){var t=this,i=[];this.resolveDependencies(n||[],{}).reverse().forEach(function(n){var u=n.hash||n.menuId||"",r=t.currMenuHash[u],o=u&&t.searchMenuItemInDOM(u),s,h,c,f,e;delete t.newPagesHash[u];r&&(s=(r.parent?r.parent.item.children:t.currMenuTree)||[],h=t.findItem(s,r.item),r.isRemoved=!0,h>=0&&s.splice(h,1),r.item.children&&r.item.children.length&&(c=r.item.children.map(t.generateNewCustomPage),t.removeItems(c),i=i.concat(c)),delete t.currMenuHash[u]);o&&(f=o,n.menuId&&(t.accordion&&t.accordion.removeTab(o),t.destroyPopup(o),e=t.searchMenuElementInDOM('*[data-header="'+n.menuId+'"]'),e&&e.parentNode&&e.parentNode.removeChild(e)),f&&f.parentNode&&f.parentNode.removeChild(f))});i.length&&(this.insertPages(i),i.length=0)},n.prototype.filterTree=function(n,t){for(var i,u,f,e,r=n.length-1;r>=0;--r)i=n[r],i.children?(i.children=this.filterTree(i.children,t),i.children.length<2&&(u=i.children[0],t[i.link].isRemoved=!0,u?(n.splice(r,1,u),t[u.link].parent=t[i.link].parent,u.icon||(u.icon=i.icon)):n.splice(r,1))):(f=i.dataAttr&&i.dataAttr.href?i.dataAttr.href:i.link,e=i.hasNoWebPage?f:i.link,(!this.pageSecurity.hasAccessToPage(e)||this.options.removeClickOnceLinks&&i.hasNoWebPage)&&(n.splice(r,1),t[f].isRemoved=!0));return n},n.prototype.build=function(){var n=e.cloneMenu(),t=n.tree,i=n.hash;this.clear();this.currMenuHash=i;this.currMenuTree=this.filterTree(t,this.currMenuHash);this.main.innerHTML=r.makeMainMenu(this.currMenuTree);this.menu=this.main.firstChild;this.activateClickOnce();this.accordion=s.default(this.menu,{defaultStyle:!1})},n.prototype.removeItems=function(n){this.menu&&this.deletePages(n)},n.prototype.addItems=function(n){this.menu&&this.insertPages(n)},n.prototype.activateItem=function(n,t){var u=t?n+"_"+t:n,f,r;this.active!==u&&(f=t?'[data-type="'+t+'"]':"",r=this.searchMenuElementInDOM('*[data-orig="'+n+'"]'+f),this.activeElt&&i.removeClasses(this.activeElt,this.activeMenuItem),r&&(i.addClasses(r,this.activeMenuItem),this.activeElt=r),this.active=u)},n.prototype.getFullPath=function(n){for(var i=[],t=this.currMenuHash[n];t;)i.push(t.item.title),t=t.parent;return i},Object.defineProperty(n.prototype,"filter",{get:function(){return this.filterVal},set:function(n){var t=this.searchMenuElementsInDOM("*[data-orig]");this.filterVal=n;Array.prototype.forEach.call(t,this.refreshLink)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mode",{get:function(){return this.currMode},set:function(n){if(this.currMode!==n){this.currMode=n;switch(this.currMode){case this.modes.ORIGINAL:this.resetMode(this.modes.NARROW);this.resetMode(this.modes.WIDE);break;case this.modes.WIDE:this.resetMode(this.modes.NARROW);this.setWideMode();break;case this.modes.NARROW:this.setWideMode();this.setNarrowMode()}}},enumerable:!0,configurable:!0}),n}();t.MainMenu=f;n.declare("geotab.checkmate.ui.modules.mainMenu");n.checkmate.ui.modules.mainMenu.mainMenu=f})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.modules.mainMenu.mainMenu"),geotab.commonjs.generateExport("geotab.checkmate.ui.modules.mainMenu.mainMenu"));self.geotab && geotab.declare("geotab.checkmate.ui.modules.mainMenu.mainMenu");
(function(n,require,t){"use strict";function i(){var t=r.Html5Storage(function(){u().forEach(function(i){t.setItem(n+i,t.getItem(n+i),!0)})}),n="sTokens_",u=function(){return t.listItems().filter(function(t){return t.indexOf(n)===0}).map(function(t){return t.slice(n.length)})},i=function(i){var r=i?i.toLowerCase():"";return t.hasItem(n+i)?i:u().map(function(n){return(n||"").toLowerCase()}).filter(function(n){return n===r})[0]||null};return{getItem:function(r){var u=i(r);return t.getItem(n+u)},setItem:function(r,u,f){var e=i(r),o=e||r;return t.setItem(n+o,u,f)},removeItem:function(r){var u=i(r);u&&t.removeItem(n+u)},isPermanent:function(r){return t.isPermanent(n+(i(r)||r))},listItems:u}}Object.defineProperty(t,"__esModule",{value:!0});var r=require("./html5Storage");t.default=i;n.declare("geotab.checkmate.storage");n.checkmate.storage.tokensCollection=i})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.storage.tokensCollection"),geotab.commonjs.generateExport("geotab.checkmate.storage.tokensCollection"));self.geotab && geotab.declare("geotab.checkmate.storage.tokensCollection");
(function(n,require,t){"use strict";function o(t){var v=u.default(),h=f.default(),y=e.default(),p=function(){var t={};return function(r,u,f){var e=t[r];return e?(e.done(u),e.fail(f)):(e=t[r]=i.default(r,u,f),v.add(e),n.load(r,function(n){e.resolve(n)},function(n){e.reject(n)},r.indexOf("RequiredScripts")!==-1?"POST":"GET")),e.promise()}}(),w=function(t){var i=t.currentUser,f=t.getCurrentPage&&t.getCurrentPage(),r=f&&f.getOriginalPage(),e=r&&r.getMap&&r.getMap(),c=e&&e.getCurrentProviderName(),u=!1,o={},s=function(n){return n.id||n};try{u=!(window.parent===window&&window.top===window)}catch(l){u=!0}return i&&(o={language:i.language,zoneDisplayMode:i.zoneDisplayMode,isMetric:i.isMetric,defaultOpenStreetMapStyle:i.defaultOpenStreetMapStyle,defaultHereMapStyle:i.defaultHereMapStyle,defaultMapEngine:i.defaultMapEngine,companyGroups:(i.companyGroups?i.companyGroups.map(s):[]).join(","),securityGroups:(i.securityGroups?i.securityGroups.map(s):[]).join(","),currentMapProvider:c,startVersion:t.startVersion,isInIframe:u,isInWebView:y.isWebViewApp(),versionOnBrowserStart:n.version?n.version():"NoVersion",sessionVersion:h.getItem("geoSessionVersion"),isLabsEnabled:i.isLabsEnabled,wasUserOnline:t.networkStateMonitor&&!t.networkStateMonitor.isNetworkConnectionLost(),tokens:(h.listItems()||[]).map(function(n){return{database:n,date:h.getItem(n).date}})}),o},b=function(){return[{name:"navigationHistory",location:"geotab.checkmate.address.history"},{name:"requireHistory",location:"geotab.diagnostics.requestLog"}].reduce(function(t,i){var r=n.provide(i.location,n.getGlobalObject());return r&&r.length&&r.push&&(t[i.name]=r.slice()),t},{})},k=function(){var t=document.getElementsByTagName("script"),i={foreignScripts:[].filter.call(t,function(n){return n.src&&n.src.indexOf(location.host)<0}).map(function(n){return n.src}),notLoadedScripts:n.missedResources.toString(),loadedES6Modules:n.commonjs._getListOfModules().join(","),currentURLWithHash:r.clearUrlFromPrivateInfo(window.location.href),documentMode:window.document.documentMode};return["oscpu","platform","userAgent"].reduce(function(n,t){return navigator[t]&&(n[t]=navigator[t]),n},i)},s={},d=4,g=function(n,t){var r="",i,u,f=t||0,e=function(n){for(var t in s)if(s.hasOwnProperty(t)&&s[t]===n)return t;return!1};for(i in n)n.hasOwnProperty(i)&&typeof n[i]!="function"&&n[i]&&(typeof n[i]=="object"&&f<d?(u=e(n[i]))?r+="{"+i+" === "+u+"}, ":n[i]&&n[i].nodeName?r+=i+"=<"+n[i].nodeName+(n[i].id?" id="+n[i].id:"")+">, ":(s[i]=n[i],r+=i+":{"+g(n[i],f+1)+"}, "):r+=i+"="+n[i]+", ");return r.substr(0,r.length-2)},c=document.getElementsByTagName("script"),nt=function(n,t,i,r,u){var f=function(t,i,r){var u=t.split("\n"),e=function(n){return n.replace(/(\s|\t)/gi,"")},s,h,c=350,f=u[i-1]?e(u[i-1]):null,o="",l=function(n){for(var t=n?f.substr(r):f.substr(0,r),c=i-1,a=n?1:-1,h=0,l=50,s,o="";l>h;)if(s=l-h,t.length>s){o=n?o+t.substr(r,s):t.substr(r-s,s)+o;break}else o=n?o+t:t+o,h+=t.length,c+=a,t=e(u[c]);return o};return f?f.length>c&&u>1?r>0&&(o=l(!1)+l(!0)):(s=u[i-2]?e(u[i-2]):"",h=u[i]?e(u[i]):"",s.length<c&&h.length<c&&(o+=s+f+h)):o="Can't find script include by the url given:"+n,o},e=function(n,t,i){for(var o=n.split("\n"),f=t-1,r,u,e=0,s=function(n,t){var r=n.slice(0,t),i=/.*[{|}|;|,]\s*/g;return i.exec(r),i.lastIndex||1};f<o.length;){if(r=o[f],f===t-1&&(r=r.slice(s(r,i))),u=/declare\s*\(\s*"([\w|\.|_]+)"\s*\)/.exec(r),u&&u[1])return e+=r.indexOf(u[0])+1,{name:u[1],offset:e};e+=r.length+2;f++}return null},o=!1;Array.prototype.forEach.call(c,function(s){var l=function(n){return n.getAttribute("src")||n.text&&n.text.indexOf("//http")===0&&(n.text.split("\n")[0]||"").slice(2).replace("\r","")},h=l(s),c;(h&&h===n||(c=n.indexOf(h))!==-1)&&h.length+c===n.length&&(o=!0,s.text?r(f(s.text,t,i),e(s.text,t,i)):p(h,function(n){r(f(n,t,i),e(n,t,i))},function(n){u(n)}))});o||u(new Error("Can't find script include by the url given:"+n))},tt=function(){return Array.prototype.filter.call(c,function(n){return!n.getAttribute("src")}).reduce(function(n,t,i){return n+(i+1+') "'+(t.innerHTML.length>400?t.innerHTML.substring(0,400):t.innerHTML).replace(/(\s|\t)/gi,"")+'";\n\t')},"")},l=function(n,t,i,r){return"lineNumber"in r||(r.lineNumber=t),i?r.column=i-1:i=1,r.module=n,r.moduleOffset=0,nt(n,t,i,function(n,t){r.source=n;t&&(r.module=t.name,r.moduleOffset=t.offset)},function(t){r.source=n===location.href?tt():"Content unavailable. "+t.toString()}),r},it=function(n,t){var i={},u=1,f=function(n,t,r){return i[n]||(i[n]="url#"+u++),l(n,t,r,{url:i[n]})};return n.stack&&(t.stack=n.stack.toString().split("\n").map(function(n){var e=/(http[s]?:\/\/[\w\d\.\(\):\/#,!]+)/img,o,s,i,r=n.search(e),t,u,h=r!==-1?n.substr(r,n.length-r):null,l=function(n){var t;return t=/at\s[a-zA-Z0-9\s\.\]\[]*\(http[s]?/img.exec(n),t&&t[0]?t[0].substr(3,t[0].length-10):null},c;return e.lastIndex=0,h?(t=h.split(":"),t[t.length-2].search(/\D/img)===-1&&(o=parseInt(t.pop(),10)),s=parseInt(t.pop(),10),c=t.join(":"),i=f(c,s,o),i&&(u=l(n),u&&(i.at=u)),i):null}).filter(r.echo),t.sources=Object.keys(i||{}).map(function(n){var t;return t={},t[i[n]]=n,t})),t},rt=function(n,t){n.serviceOfflineManager&&(t.clientSettings.currentVersion=n.serviceOfflineManager.checkVersion().done(function(n){t.clientSettings&&(t.clientSettings.currentVersion=n)}))},ut=function(n){return n.message||a(n)},a=function(n){return n.data?n.data.type:n.name||"Unknown error object (body parser)"},ft=function(t){var f=n.getSharedVariable("default"),u={message:ut(t),name:a(t),timeStamp:(new Date).toISOString(),lineNumber:t.line||t.lineNo||t.lineNumber||0,columnNumber:t.columnNumber||0,flags:Object.keys(t||{}).filter(function(n){return n.match(/(is).*(Exception)/ig)&&t[n]}),url:r.clearUrlFromPrivateInfo(t.href||""),database:"",userName:""},e={general:u,ajax:t.ajax||undefined,tasks:i.default.history?i.default.history.slice():[],history:b(),browser:k()||{},clientSettings:w(f),sources:undefined,stack:undefined,isSerious:!0,originalError:t};return f.connection&&f.connection.token&&(u.database=f.connection.token.database,u.userName=f.connection.token.userName),u.url&&u.lineNumber&&l(u.url,u.lineNumber,u.columnNumber||0,u),rt(f,e),it(t,e)},o=ft(t);return o.toString=function(){var r={},t,i=[];for(t in o)if(o.hasOwnProperty(t)&&typeof o[t]!="function")try{i.push(n.json.stringify(o[t]));r[t]=i[i.length-1]}catch(u){r[t]="Failed to stringify object. "+u.toString()}try{return n.json.stringify(r)}catch(u){try{return"Can't stringify error object! "+u.toString()+"\n"+i.join("\n")}catch(u){return"Can't stringify error object neither in full form nor in compact. "+u.toString()}}},o}Object.defineProperty(t,"__esModule",{value:!0});var u=require("../tasks"),i=require("../task"),f=require("../storage/tokensCollection"),e=require("../browser"),r=require("../../utils");t.default=o})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.exceptions.errorBodyParser"),geotab.commonjs.generateExport("geotab.checkmate.exceptions.errorBodyParser"));self.geotab && geotab.declare("geotab.checkmate.exceptions.errorBodyParser");
geotab.declare("geotab.checkmate.components.errorReporter").reportError_html = "<div class=\"reportError\">\\
    <div class=\"reportError-title\"></div>\\
    <div class=\"reportError-control\">\\
        <div class=\"reportError-counter\"></div>\\
        <button class=\"reportError-report geotabButton\">Report</button>\\
        <div class=\"reportError-closeHolder\">\\
            <svg class=\"reportError-close svgIcon geotabButtonIcons\"><use xlink:href=\"#close-cross\"></use></svg>\\
        </div>\\
    </div>\\
</div>";

(function(n,require,t){"use strict";function f(t,f){var e=[],c=t?t.translateKey:function(n){return n},o,l=function(n){n&&n.parentNode&&n.parentNode.removeChild(n)},s=i.extend({container:document.body,errorShowPeriod:1e4},f||{}),a=function(){var n=i.textToHTML(u)[0],t=n.getElementsByClassName("reportError-report")[0],r=n.getElementsByClassName("reportError-counter")[0],f=n.getElementsByClassName("reportError-close")[0],e=n.getElementsByClassName("reportError-title")[0];return i.addClasses(n,"errorMessage"),i.show(n),t.textContent=c("Report"),{container:n,title:e,button:t,counter:r,closeCross:f}},v=function(){var t,n;return function(u,f,o,h){var v=function(){clearTimeout(t);o?o(e):f()},c=function(){clearTimeout(t);n&&(n.button.removeEventListener("click",v,!1),n.closeCross.removeEventListener("click",c,!1),l(n.container),n=undefined,e=[])},y,p;return e=u,n&&n.container.parentNode||(n=a(),i.toggle(n.button,!h),h||n.button.addEventListener("click",v,!1),n.closeCross.addEventListener("click",c,!1),s.container.appendChild(n.container)),n.counter.textContent=e.length.toString(),i.toggle(n.counter,e.length>1),y=e.map(function(n){return n.general.message}).filter(r.echo),p=/127\.0\.0\.1/.test(location.host),i.toggleClasses(n.container,"fullMessage",p),n.title.innerHTML=r.unique(y).map(r.htmlEscape).join("<br/>"),clearTimeout(t),t=setTimeout(c,s.errorShowPeriod),{element:n,destructor:c}}}(),h=function(i,u,f){var l=!1,e=setTimeout(function(){c(!1)},5e3),a,s,y=u?function(n){return l=!0,a.button.disabled=!0,u(n,p,p),!0}:r.NOOP,p=function(n,t){s.destructor();t&&t.length&&h(t,u,f)},c=function(n){if(!l){e&&clearTimeout(e);e=0;var t=n?o.reportingDialog:null;s=v(i,y,t,f);a=s.element}};o?c(!0):n.lazyRequire(["geotab.checkmate.components.errorReporter.errorReporter"],function(i,r){return r&&r.length||(o=n.commonjs.require("geotab.checkmate.components.errorReporter.errorReporter").ReportError(y,t),e&&c(!0)),!0})};return{displayError:function(n,t,i){if(n===null||n===undefined)throw new Error("EmptyExceptionParam");else h(n,t,!!i)}}}var i,r,u;Object.defineProperty(t,"__esModule",{value:!0});i=require("../../../vanillaExtension/vanilla");r=require("../../../utils");require("./reportError[html]");u=n.getContent("geotab.checkmate.components.errorReporter.reportError[html]");t.default=f})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.components.errorReporter.reportError"),geotab.commonjs.generateExport("geotab.checkmate.components.errorReporter.reportError"));self.geotab && geotab.declare("geotab.checkmate.components.errorReporter.reportError");
geotab.declare("geotab.checkmate.ui").notifier_html = "<div class=\"notification\">\\
    <div class=\"notification-iconHolder notification-typeIcon\"></div>\\
    <h2 class=\"notification-title\"></h2>\\
    <div class=\"notification-control\">\\
        <div class=\"notification-counterContainer noTranslate\" style=\"display:none\"><span>(</span><span class=\"notification-counter\">1</span><span>)</span></div>\\
        <div class=\"notification-dismissButtonHolder\" style=\"display:none\">\\
            <button class=\"geotabButton notification-dismissButton ellipsis\"></button>\\
        </div>\\
    </div>\\
    <div class=\"notification-iconHolder\">\\
        <svg class=\"svgIcon geotabButtonIcons notification-icon notification-closeButton\"><use xlink:href=\"#close-cross\"></use></svg>\\
    </div>\\
</div>";

(function(n,require,t){"use strict";function o(t,o){var d=n.getContent("geotab.checkmate.ui.notifier[html]"),a=t?t.translateKey:function(n){return n},c=i.extend({separated:!1,container:document.body,popupMessagePeriodMultiplier:1e3},o||{}),s=c.separated?u():e,v={warning:"notification-warning",info:"notification-info",news:"notification-news"},g=function(n){n&&n.parentNode&&(k.forEach(function(t){var i=n.getElementsByClassName(t.className)[0];i&&i.removeEventListener("click",t.handler,!1)}),n.parentNode.removeChild(n))},nt=["message","name"],tt=function(n){return nt.reduce(function(n,t){return n[t]=r.htmlEscape(n[t]),n},n)},it=/([^\s]{55,})/gi,rt=function(n){var t=(n.message||"").replace(it,function(n,t){for(var u=t.length,i=0,r=[];i<=u;)r.push(t.substring(i,i+55)),i+=55;return r.join(" ")}),i=n.url?"<a title='"+a("ReadNotification")+"' href='"+n.url+"' class='notification-message-link'>"+t+"<\/a>":t;return""+(n.name?n.name+": ":"")+i+" "},ut=function(n){return n.type?v[n.type]:v.info},ft=function(n){return"<svg class='svgIcon geotabButtonIcons notification-icon'><use xlink:href=\"#"+(n.type==="warning"?"attention":"info-circled")+'"><\/use><\/svg>'},y=function(n){var t=p(n.target);n.target.removeEventListener("click",y,!1);t&&f.together(t.notifications.map(function(t){return t.button&&t.button.click&&t.button.click(n)||f.resolved()})).then(function(){t&&t.hide()})},et=function(n,t){var u=t.button,r;u&&(r=n.getElementsByClassName("notification-dismissButton")[0],i.show(r.parentNode),r.textContent=u.title||a("Dismiss"))},ot="{LINK}",p=function(n){var t=i.closest(n,"*[data-notification-key]"),r=t&&t.getAttribute("data-notification-key");return r&&s.get(r)},st=function(n){var t=p(n.target);t&&(t.notifications.forEach(function(t){t.link&&t.link.click(n)}),t&&t.hide())},ht=function(n,t,i){var f=i.link,r,u;f&&f.click&&!i.url?(r=document.createElement("A"),r.href="javascript:void(0);",r.className="notification-link",r.textContent=f.name,u=t.split(ot),n.appendChild(document.createTextNode(u.shift()||"")),n.appendChild(r),u.length>0&&n.appendChild(document.createTextNode(u.join()))):n.innerHTML=t},w=function(n){var t=i.closest(n.target,"*[data-notification-key]");t&&b(t)},l=function(n){var t=s.get(h(n)),r;if(t)t.notifications.push(n),r=t.container.getElementsByClassName("notification-counter")[0],r.textContent=t.notifications.length.toString(),i.show(r.parentNode);else return ct(n);return t},b=function(n){var i=n.getAttribute("data-notification-key")||"",t=s.get(i);t&&(g(t.container),t.notifications.forEach(function(n){n.dismiss&&n.dismiss()}),s.remove(i))},k=[{className:"notification-link",handler:st},{className:"notification-dismissButton",handler:y},{className:"notification-closeButton",handler:w},{className:"notification-message-link",handler:w}],ct=function(n){var t=i.textToHTML(d)[0],o=ut(n),u=h(n),f=function(){return b(t)},l={hide:f,key:u,container:t,notifications:[]},r,e;return i.addClasses(t,o+" logpopup"),t.setAttribute("data-notification-key",u),n.group&&t.setAttribute("data-group",n.group),c.container.appendChild(t),r=t.querySelector(".notification-typeIcon"),r&&(r.innerHTML=ft(n)),e=t.getElementsByClassName("notification-title")[0],ht(e,rt(n),n),et(t,n),k.forEach(function(n){var i=t.getElementsByClassName(n.className)[0];i&&i.addEventListener("click",n.handler,!1)}),n.seconds&&setTimeout(f,n.seconds*c.popupMessagePeriodMultiplier),s.add(n,l)},h=function(n){var t=n.message||"";return n.group?t=n.group:(n.url||n.button||n.link||n.unique)&&(t=(n.message||"")+r.generateId()),t.trim()};return{displayWarning:function(n){return l({message:r.htmlEscape(n).trim(),type:"warning"})},displayInfo:function(n,t){return l({message:n,seconds:t,unique:!0})},displayPopupNotification:function(n){return l(tt(n))},hideMessage:function(n){var i=typeof n=="string"?n.trim():h(n),t=s.get(i);t&&t.hide()},hasMessage:function(n){var t=typeof n=="string"?n.trim():h(n);return!!s.get(t)}}}var u,e;Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../vanillaExtension/vanilla"),r=require("../../utils"),f=require("../deferred");require("./notifier[html]");u=function(){var n={};return{add:function(t,i){var r=i.key;return n[r]=n[r]||i,n[r].notifications.push(t),i},get:function(t){return n[t]},remove:function(t){delete n[t]}}};e=u();t.default=o;n.declare("geotab.checkmate.ui");n.checkmate.ui.notifier=o})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.notifier"),geotab.commonjs.generateExport("geotab.checkmate.ui.notifier"));self.geotab && geotab.declare("geotab.checkmate.ui.notifier");
(function(n,require,t){"use strict";function f(n){return JSON.stringify(n)}function i(n){try{return JSON.stringify(n)}catch(t){var i=t.toString();if(i.toLowerCase().indexOf("circular reference")>=0)try{return u(n)}catch(t){return"Can't stringify object: "+t.toString()}else return"Can't stringify object: "+i}}function r(n){var t=n||"",f=function(n,t){var e="******",o=t.substr(n),s=n+1,r=(o.match(/(sessionId|password)(\\?"\s*):(\s*\\?")/i)||[])[0];if(r){for(var u=o.substr(r.length),i=u.indexOf('"'),f=r.length;i>=0&&u[i-1]==="\\";)f+=i+1,u=u.substr(i+1),i=u.indexOf('"');f+=i;t=t.substr(0,n)+r+e+t.substr(n+f);s=n+r.length+e.length}return{origStr:t,index:s}},r,i=/(sessionId|password)(\\?"\s*):(\s*\\?")/gi;for(i.lastIndex=0;r=i.exec(t);){var u=f(r.index,t),e=u.origStr,o=u.index;t=e;i.lastIndex=o}return t}function e(n){var t=i(n);try{return r(t)}catch(u){return t}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(n){return n<10?"0"+n:n}var i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r=[],f=function(n){return i.lastIndex=0,i.test(n)?'"'+n.replace(i,function(n){var t=e[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'},u=function(n,i){var h,c,s,l,o,e=i[n],a=function(n){for(var t=0,i=r.length;t<i;t++)if(n===r[t])return!0;return r.push(n),!1};switch(typeof e){case"string":return f(e);case"number":return isFinite(e)?String(e):"null";case"boolean":return String(e);case"object":if(!e)return"null";if(e.constructor===Date)return isFinite(e)?e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z":null;if(a(e))s='"'+Object.prototype.toString.apply(e)+'"';else{if(o=[],Object.prototype.toString.apply(e)==="[object Array]"){for(l=e.length,h=0;h<l;h+=1)o[h]=u(h,e)||"null";return o.length===0?"[]":"["+o.join(",")+"]"}for(c in e)Object.hasOwnProperty.call(e,c)&&(s=u(c,e),s&&o.push(f(c)+":"+s));s=o.length===0?"{}":"{"+o.join(",")+"}"}return s}};return u("",{"":n})};t.stringify=f;t.tryStringify=i;t.sanitizeJsonString=r;t.tryStringifySanitized=e;n.json=n.commonjs.require("geotab.json");n.declare("geotab.json")})(geotab,geotab.commonjs.generateRequire("geotab.json"),geotab.commonjs.generateExport("geotab.json"));self.geotab && geotab.declare("geotab.json");
(function(n,require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=require("../vanillaExtension/vanilla"),u=require("../utils"),s=require("./deferred"),f=require("./exceptions/errorBodyParser"),e=require("./components/errorReporter/reportError"),h=require("./eventHandler"),c=require("./browser"),l=require("./ui/notifier"),i=require("../json"),a=require("./storage/html5Storage"),r=[],v=function(n){return r.reduce(function(n,t){for(var i=0;i<n.length;i++)if(t.message===n[i].message){n[i].dates.push(t.errorTimeSpan);break}return i===n.length&&(t.dates=[t.errorTimeSpan],n.push(t)),n},[]).map(function(n,t){return t+1+". "+n.message+(n.isExternal?" (external script error)":"")+(n.isSevere?"":" (is not severe) ")+" at: "+n.dates.join(", ")+";\r\n"}).join(n||"\r\n")},y=function(){var p,w=l.default(),y,k=c.default(),d=k.isOldBrowser(),b=a.Html5Storage(),t=function(){var n=[],t=function(n){return function(t){return t.general.message===n.general.message}},i=function(n){return(n||[]).map(function(n){return(n.module||"")+": Source: "+n.source}).join(", ")},r=function(n,t){return n&&n.general?t+1+") "+(n.general&&n.general.message)+"; Stack: "+i(n.stack)+";\n":""};return{getErrors:function(){return n.slice(0)},addError:function(i){n.some(t(i))||n.push(i)},toString:function(){return n.map(r).filter(u.echo).join("")},clear:function(i){i?n=n.reduce(function(n,r){return i.some(t(r))||n.push(r),n},[]):n.length=0}}}(),g=function(c,l){var p=c,a=l,ot=function(){var t=function(n){return"\r\n//======"+n+"=======\r\n"},r=function(n){return n.stack?t("Sources")+i.tryStringify(n.sources)+t("StackTrace")+i.tryStringify(n.stack):""},f=function(n){var r=(n.stack&&n.stack.length&&n.stack[0].module?n.stack[0].module:n.general.module)||"undefined module",u=(n.stack&&n.stack.length?n.stack[0].moduleOffset:n.general.moduleOffset)||0,f=n.clientSettings.currentVersion,i,t=n.ajax&&n.ajax.response&&n.ajax.response.error,e;return t?(e=t.data?t.data.type:"",i=(e||"")+t.message+f):r&&u&&(i=r+u+f),i},e=function(r){var u=n.diagnostics.startTime.toISOString();return t("AliveSince")+u+t("History")+i.tryStringifySanitized(r.history)};return function(n,t){return{error:{message:n.general.message,url:n.general.url||u.clearUrlFromPrivateInfo(window.location.href),lineNumber:"lineNumber"in n.general?n.general.lineNumber:-1,stackTrace:r(n),hash:f(n),comment:t,tasks:n.tasks&&n.tasks.length?n.tasks.join("\r\n"):"",timeStamp:n.general.timeStamp||(new Date).toISOString(),clientSettings:i.tryStringifySanitized(n.clientSettings)||"",errorSource:n.general.source||"",previousErrors:v(),user:n.general.userName||p&&p.token.userName||"",database:n.general.database||"",browserProperties:i.tryStringify(n.browser),ajaxCall:n.ajax&&n.ajax.request?i.tryStringifySanitized(n.ajax.request):"",ajaxError:n.ajax&&n.ajax.response?i.tryStringifySanitized(n.ajax.response):"",otherDetails:e(n),tag:n.ajax?"server":"javascript"},comment:t}}}(),k=function(){var n=[],t,i=function(){return(new Date).valueOf()},u=function(){t||(t=i(),n.push({from:t,to:null}));r()},f=function(){t&&(n[n.length-1].to=i(),t=null);r()},e=function(t,u){var f,o,s=u||i(),e;for(r(),o=t||(n.length?n[0].from:i()),f=0;f<n.length;f++)if(e=n[f],e.from>=o&&(!e.to||e.to<=s))return!0;return!1},r=function(){var t=(new Date).valueOf()-6e5;n=n.filter(function(n){return!n.to||n.to>=t})};return{setConnectionLost:u,setConnectionFound:f,isUnstableInPeriod:e,toString:function(){return n.reduce(function(n,t){return n+(n?"; ":"")+new Date(t.from).toISOString()+"-"+new Date(t.to).toISOString()},"")}}}(),st=function(n,i,r){var u=t.getErrors(),e=u.slice(0),f=function(o){var s=ot(o,n);p&&p.call("AddClientError",s).beginInvoke(function(n){u.length?f(u.shift()):(w.displayInfo(a.translateKey("ErrorReported"),5),t.clear(e),i&&i.apply(this,[n,t.getErrors()]))},function(n){r&&r(n);nt.apply(this,arguments)})};p&&u.length&&f(u.shift())},rt="addin-",ut="i=AddIns.",ft={},ht=function(){return Array.prototype.filter.call(document.getElementsByTagName("script"),function(n){return n.src&&n.src.indexOf(location.host)<0})},it=!1,g=h.default(),ct=function(n){var i=n&&n.method==="ExecuteMultiCall",t={Add:"WarningFailedAdd",Set:"WarningFailedSet",Remove:"WarningFailedRemove",Get:"WarningFailedGet"},r=function(n){var t=n&&n.params;return t&&(t.typeName!=="Audit"||n.method!=="Add")};return Object.keys(((i?n.params.calls:[n])||[]).filter(r).reduce(function(n,i){return n[t[i.method]||t.Get]=!0,n},{}))},lt=function(n){var t=[{flag:"isInvalidOperationException",phrases:["outside user data scope","id is not in the system"]},{flag:"isRelationViolatedException",phrases:[]}],r=function(n){for(var i=0;i<t.length;++i)if(n[t[i].flag])return t[i].phrases;return null},i=r(n),u=function(t){return(n.message||"").toLowerCase().indexOf(t)>-1};return i&&(!i.length||i.some(u))&&k.isUnstableInPeriod()},at=[{check:function(n){return n.isNotSupportedException},subdue:function(n){return n.ignore=!!b.getItem("SecurityGroupChanged"),n.isSevere=!1,n.message=a.translateKey("CurrentUserSecurityGroupsChangeWarning"),n},isBugAsync:function(){var t=s.Deferred(),r=n.getSharedVariable("default"),u=b.getItem("SecurityGroupChanged"),f=u&&new Date(u),e=new Date,i=r&&r.currentUser;return!p||f&&e-f<=6e4?t.resolve(!1):i?p.call("Get",{typeName:"User",search:{id:i.id}}).beginInvoke(function(n){t.resolve(n[0]&&n[0].securityGroups[0].id===i.securityGroups[0].id)},function(){t.resolve(!0)}):t.resolve(!0),t.promise()}}],vt=["__gCrWeb","Expected ')'","fidoCallback"],yt=function(n){return vt.some(function(t){return n.toLowerCase().indexOf(t.toLowerCase())>-1})},nt=function(i){var c=i.message,o="",e,s=function(){return p&&p.token&&!(p.token.database===""&&p.token.userName===""&&p.token.sessionId==="")},h=function(n){var i=f.default(n);i.browser.isNetworkStable=!k.isUnstableInPeriod();i.browser.isNetworkStable||(i.browser.periods=k.toString());t.addError(i);setTimeout(function(){y&&y.displayError(t.getErrors(),st,!s())},0)},l=function(n){setTimeout(function(){w.displayWarning(n)},0)},nt=function(t,i,r){var e="#"+rt,o=window.location.hash||"",c=o.indexOf(e)>-1,s=((c?o:i||"").split(",")[0]||"").replace(e,""),l=i.indexOf("/AddIns/")>-1,h=i.indexOf(ut)>-1,u,f;return t.isAddin=!0,h&&(u=Object.keys(n.customButtons||{}).filter(function(t){return i.indexOf(n.customButtons[t].hash)>-1}),u.length>0&&(s=u[0])),!i||r||l||h||location.href.indexOf(i)>-1?(t.isSevere=!1,t.message=a.translateKey("AddinErrorWarning").replace("{0}",s)):(f=i.replace("RequiredScripts?","").split("&").filter(function(n){return!n.indexOf("i=")}).map(decodeURIComponent).filter(function(n){return n.search(/http[s]?:\/\//i)!==-1}),f.length&&(t.isSevere=!1,t.message=a.translateKey("AddinErrorWarning").replace("{0}",f[0].split("/").pop()||""))),t},ot=function(t,i,r){var e=window.location.hash||"",f,u;return!ht().length||r||ft[i]?t.ignore=!0:(f=(e.split(",")[0]||"").substring(1),u=Object.keys(n.customButtons||{}).filter(function(t){return n.customButtons[t].page===f}),t.isSevere=!1,u.length?(t.isAddin=!0,t.message=a.translateKey("AddinErrorWarning").replace("{0}",u.join(", "))):(i&&(ft[i]=!0),t.message=a.translateKey("scriptErrorWarning")+" (with "+(i?i:"unknown")+" url)")),t},at=function(n){return n.href||n.url||""},vt=function(n){return(n.message||"").indexOf("Access is denied")>=0},kt=function(t){var i=t,r=at(i),f=i.linenumber||i.lineNumber,e=window.location.hash||"",u=et(r),o=i.isAddin||e.indexOf(rt)!==-1||r.indexOf(ut)>-1,s=i.message||i.customMessage||"Unknown error without message";switch(!0){case n.isOldVersion||yt(i.message)||i.isAborted||vt(i):i.ignore=!0;break;case i.message==="Error loading script":i.ignore=tt;break;case d:i.isSevere=!1;i.message=a.translateKey("OldBrowserVersionError");break;case o:i=nt(i,r,u);break;case pt(i.message):i.ignore=i.ignore||r.indexOf("RequiredScripts")>=0;break;case s.indexOf("Script error")>=0&&!f||u||bt(i):i=ot(i,r,u);break;case i.isOutOfMemory:i.isSevere=!1;i.isOutOfMemoryException=!0;i.message=a.translateKey("HugeAmountOfDataInRequestWarning");break;case i.isCacheBusyException:i.isSevere=!1;i.message=a.translateKey("CacheBusyWarning");break;case lt(i):i.isSevere=!1;i.message=a.translateKey("RelationEntityWarning")}return i},v=function(n){return n.data?n.data.type:n.name||""},dt=function(n){var t=typeof n=="object"?n:{message:n&&n.toString?n.toString():"",url:"",lineNumber:0};return t.message||(t.customMessage=v(t)||"Unknown unhandled error (error handler)"),t=t.isHandled?t:kt(t),gt(t)},gt=function(n){if(!s()){var t="{0}. Please contact support.",i=function(){var n="Error";return a?a.translateKey(n):n};t=a?a.translateKey(t):t;n.message=t.replace("{0}",n.message||i())}return n},ni=function(n){n.isAddin&&console.error&&(e=new Error(n.message),n.data&&(o+=n.data.join("\n")+"\n"),e.message!==c&&(o+="Actual error message: '"+c+"'\n"),e.stack=(n.stack||"").replace(/.*(RequiredScripts|geotab\.js)[^\n]*/gim,"").replace(/[\n]{2}/mig,""),console.error(o,e))},u=dt(i),b;r.push({isExternal:et(u.href||u.url||""),isSevere:u.isSevere!==!1&&!u.ignore,message:u.customMessage||u.message,errorTimeSpan:(new Date).toISOString()});ni(u);u.isNetworkException?(u.isTimeout?(u.message="This page is not responding",it||wt(u.requestStartTimeSpan)||u.ignore||(k.isUnstableInPeriod(u.requestStartTimeSpan,new Date)?ct(u.ajax&&u.ajax.request).forEach(function(n){w.displayWarning(a.translateKey(n))}):h(u))):u.method==="Authenticate"&&v(u)==="UnknownError"||u.xhrStatus===500?h(u):n.DEBUG&&console.log(u),g&&g.fireEvent&&g.fireEvent("networkError",u)):u.isSevere!==!1&&s()?u.message&&u.message.indexOf("Cannot modify properties of a WrappedNative")!==-1||u.ignore||h(u):u.isOutOfMemoryException?l(u.message):u.ignore||(b=f.default(u),l(b.general.message))},pt=function(n){return n?["Unexpected token","Unexpected end of input","Unexpected identifier"].some(function(t){return n.indexOf(t)>=0}):!1},wt=function(n){var i=(new Date).getTime(),t=p&&p.timeoutInMilliseconds;return n&&t?i-n-600>t:!1},tt=!1,et=function(n){return n&&n.split("?")[0].indexOf(window.location.hostname)===-1&&n.indexOf("RequiredScripts")===-1},bt=function(n){for(var i=new RegExp(location.protocol+"//[^/]*?/","ig"),u=location.hostname,r=(n.stack||"").toString(),t=i.exec(r);t;){if(t[0].indexOf(u)===-1)return!0;t=i.exec(r)}return!1},kt=function(n){switch(n.keyCode){case 116:tt=!0;break;case 27:tt=!0;setTimeout(function(){tt=!1},1e3)}},dt=function(n){var t=n,i=t&&at.filter(function(n){return n.check(t)})[0];i&&p?i.isBugAsync().then(function(n){n||(t=i.subdue(t));nt(t)}):nt(t)};return window.onerror=function(n,t,r,u,f){var o=function(t,r,u,f){var e={},o,s=f||0;return typeof t=="object"&&t.constructor===Event?(o=n.target?n.target:n.srcElement,e={message:n.type+"(A script hasn't loaded)",lineNumber:0,href:o&&o.getAttribute("src")?o.getAttribute("src"):"UnknownUrl",columnNumber:s},e.isNetworkException=!0):e=typeof n!="object"?{message:n,lineNumber:u,href:r,columnNumber:s}:{ignore:!Object.keys(t).length,message:i.tryStringify(t),name:"Unknown error with Object instead of message",href:r,lineNumber:u,columnNumber:s},e},e;return e=f&&typeof f=="object"?f:o(n,t,r,u),e.href=e.href||t||"",e&&nt(e),!!e},window.addEventListener("keydown",kt,!0),a&&(y=e.default(a)),o.extend({errors:r,handleError:dt,setConnection:function(n){p=n},connectionLost:function(){it=!0;k.setConnectionLost()},connectionFound:function(){it=!1;k.setConnectionFound()},setLocalizer:function(n){a=n;y=e.default(a)}},g)};return n.showErrorBar=function(){var n=t.getErrors();n.length&&y?y.displayError(n):console.log("there are no errors")},{getAllErrors:function(){return t.getErrors()},getAllErrorsString:function(){return t.toString()},getInstance:function(n,t,i){return p=p||g(n,t),i||(p.setLocalizer(t),p.setConnection(n)),p}}}();t.default=y})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.errorHandler"),geotab.commonjs.generateExport("geotab.checkmate.errorHandler"));self.geotab && geotab.declare("geotab.checkmate.errorHandler");
(function(n,require,t){"use strict";function o(n){var o=f.extend({method:"POST",timeout:t.defaultTimeout,headers:{Accept:"application/json;","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},n||{}),c=o.success||r.NOOP,u=o.error||r.NOOP,h={json:function(n){var t={success:null,error:null};try{t.success=JSON.parse(n)}catch(i){t.error=i}return t},def:function(n){return{success:n,error:null}}},l=function(n){return typeof n=="string"?n:Object.keys(n||{}).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(n[t])}).join("&")},a=function(n){try{return n.responseText}catch(t){u(n,t.message,new e.OutOfMemory)}return""},v=function(n){var f=n.method==="GET",r=new XMLHttpRequest,e=f&&n.data?"?"+i(l(n.data)):"";return r.open(n.method,n.url+e,!0),Object.keys(n.headers||{}).forEach(function(t){r.setRequestHeader(i(t),i(n.headers[t]))}),r.onreadystatechange=function(){if(r.readyState===4){if(r.status===200){var i=h[n.type||"def"]||h.def,t=i(a(r));t.success?c(t.success):u(r,"parseerror",t.error)}else u(r,"",{});r.onreadystatechange=null;r.ontimeout=null;r.onerror=null}},r.timeout=n.timeout,r.ontimeout=function(n){u(r,"timeout",n)},r.onerror=function(n){u(r,"Error during request",n)},r.send(!f&&n.data?n.data:null),t.requests.add(n.data),r},s,y=setTimeout(function(){s=v(o)},1);return{abort:function(){clearTimeout(y);s&&s.abort()}}}var u,i;Object.defineProperty(t,"__esModule",{value:!0});var f=require("../vanillaExtension/vanilla"),r=require("../utils"),e=require("./exceptions/commonExceptions");t.defaultTimeout=18e4;t.requests=function(){var t=[];return{add:function(i){n.TEST_MODE&&t.push(typeof i=="string"?i:JSON.stringify(i))},get:function(){return t.slice()}}}();u=/(%0d|%0a|\n|\r)]/gi;i=function(n){return function(t){return(t||"").replace(n,"")}}(u);t.default=o})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.transport"),geotab.commonjs.generateExport("geotab.checkmate.transport"));self.geotab && geotab.declare("geotab.checkmate.transport");
(function(n,require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=require("./vanillaExtension/vanilla"),u=require("./checkmate/browser"),f=require("./checkmate/storage/html5Storage"),r=function(){var a=function(n){n.performance||(n.performance={});var r=(new Date).getTime(),i=function(){var n=[],t=function(n,t,i,r){this.name=n;this.entryType=t;this.startTime=i;this.duration=r},i=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"];return{getItems:function(t){var r,u,i,e=[],f;if(!t)return n;for(r=0;r<n.length;r++){u=n[r];f=!0;for(i in t)if(t.hasOwnProperty(i)&&t[i]&&u[i]!==t[i]){f=!1;break}f&&e.push(u)}return e},setItems:function(t){n=n.concat(t)},addItem:function(r,u,f,e){if(i.indexOf(r)>-1)throw Error("'"+r+"' is part of the PerformanceTiming interface, and cannot be used as a mark name.");var o=new t(r,u,f,e);n.push(o)},clear:function(t){var i,r,u=[];if(t){for(i=0;i<n.length;i++)r=n[i],r.entryType!==t&&u.push(r);n=u}else n=[]},removeEntry:function(t,i){for(var f=[],r,u=0;u<n.length;u++)r=n[u],(i&&r.name!==i||r.entryType!==t)&&f.push(r);n=f}}}(),t=function(t,i){n.performance[t]||(n.performance[t]=i)};t("timing",{navigationStart:r});t("now",function(){return(new Date).getTime()-r});t("getEntries",function(n){return i.getItems(n)});t("getEntriesByName",function(t,i){return n.performance.getEntries({name:t,entryType:i})});t("getEntriesByType",function(t){return n.performance.getEntries({entryType:t})});t("setEntries",function(n){return i.setItems(n)});t("mark",function(t){var r=t||"mark_"+Math.floor(Math.random()*1e7),u=n.performance.now();i.addItem(r,"mark",u,0)});t("clearMarks",function(n){i.removeEntry("mark",n)});t("measure",function(t,r,u){var c=r===undefined,l=u===undefined,o=i.getItems({name:r}),s=i.getItems({name:u}),h=n.performance.now(),f=0,e=0;if(c)f=0;else if(o.length)f=o[0].startTime;else throw new Error("The mark '"+r+"' does not exist.");if(l)e=h;else if(s.length)e=s[0].startTime;else throw new Error("The mark '"+u+"' does not exist.");i.addItem(t,"measure",h,e-f)});t("clearMeasures",function(n){i.removeEntry("measure",n)});t("clearResourceTimings",function(){i.clear()})};a(window);var t=window.performance,nt=u.default(),v=f.Html5Storage(),y=n.location.hostname,p=n.location.database,tt=function(n){return Object.prototype.toString.call(n)!=="[object Date]"?!1:!isNaN(n.getTime())},it=function(){var t=n.getSharedVariable("default").connection;return t?t.token.userName:"anonymous"},e=function(n,t){var r=!n||isNaN(n)?0:parseFloat(n),u=!t||isNaN(t)?0:parseFloat(t),i=u-r;return i<0?0:Math.ceil(i)},r={connectionIdlePeriod:6e4,recordsPushOnIdleLimit:100,recordsPushImmediateLimit:300,maxDuration:9999999,localDebug:!1,localHosts:["localhost","127\\.0\\.0\\.1","192\\.168\\.(.*)","10\\.(.*)"]},h,o=t.timing.navigationStart,c={},w=function(n){var t=function(){var r=n.getBrowserId(),u=n.isMobile()?"mobile ":"",t,i=/MSIE\s([\d|\.]+)/i;return r==="ie"&&(t=i.exec(navigator.userAgent),t||(i=/rv\:([\d|\.]+)/i,t=i.exec(navigator.userAgent)),t=t?" "+(t&&t[1]?t[1]:""):""),u+r+(t||"")},i=function(){return n.isWindows()?"Windows":n.isMac()?"Mac":n.isLinux()?"Linux":"Other"};return{browser:t(),OS:i()}}(nt),rt=/[-[\]{}()*+?.,\\^$|#\s]/g,b=function(n){return n.replace(rt,"\\$&")},ut=new RegExp("^((?!("+(r.localDebug?"":r.localHosts.join("|")+"|")+"google|gstatic.com|apiv)).)*$"),ft=new RegExp("(http(.?)://)?("+b(y)+"(/)?)?("+b(p)+"(/)?)?","i"),et=/\.ttf|\.otf|\.woff/,ot=/\.html|\[html\]/,st=/(.*)\?/i,ht={types:[/^((?!(img)).)*$/],names:[ut]},s={navigationStart:{desc:"Navigation Started",order:0},navigation:{desc:"Navigation",order:1},connectionEstablish:{desc:"Connection Establishment",order:2},responseWaiting:{desc:"Response Waiting (TTFB)",order:3},responseGetting:{desc:"Response Getting",order:4},domParsing:{desc:"DOM Parsing",order:5},contentLoading:{desc:"Content Loading",order:6}},l=function(){var t,f,s=function(i){f=setInterval(function(){var u=[];t.getIdlePeriod()>r.connectionIdlePeriod&&(u=n(),e(u,i))},1e4)},o=function(){clearInterval(f);f=null},n=function(){return v.getItem("performance")},u=function(n){n===void 0&&(n=[]);try{v.setItem("performance",n,!0)}catch(t){}},l=function(t){var i=n()||[];i.push(t);u(i)},a=function(){var t=n()||[];return t.length?t.pop():!1},y=function(i,o,h,c,v){var b=a()||{},w,y=n();t=i;h&&b.startNav===h||c();w=p(o);w.every(function(n){try{l(n)}catch(t){return e(y,v),u(w),!1}return!0});y=n();y.length>=r.recordsPushImmediateLimit?e(y,v):t&&!f&&y.length>=r.recordsPushOnIdleLimit?(s(v),v&&v(!1)):v&&v(!1)},p=function(n){var u=[],t=i.extend(!1,{},c);return t.type="page",t.name=n.page,t.duration=n.loadingTime,t.startNav=n.time,u.push(t),Object.keys(n.entries).forEach(function(f){var e=n.entries[f];e.forEach(function(n){var e=i.extend(!1,{},t),o=n.duration||0,s=n.connectionEstablish||0,h=n.responseWaiting||0;e.type=f;e.name=n.name;e.duration=o>r.maxDuration?r.maxDuration:o;e.connection=s>r.maxDuration?r.maxDuration:s;e.ttfb=h>r.maxDuration?r.maxDuration:h;u.push(e)})}),u},e=function(i,r){var f=new Date,e=f.getTime()-(h?h.getTime():0);u();t&&i&&e>6e4&&(h=f,t.call("AddWebPerformanceLogs",{logs:i}).beginInvoke(function(){o();r&&r(!0)},function(t){try{t.isTimeout||t.isNetworkException||t.isConnectionInterruptedException?u(i.concat(n())):o()}finally{r&&r(!1)}}))};return{get:n,addEntry:y,clear:function(){u()}}}(),ct=function(n){var i=n,r=function(n){return n?i.slice(0,n):i},u=function(n){return i=r(n),this},f=function(n,t,r){var s=0,o,e,h=[],u,f,c=i;if(r||(r={}),n&&n.length){for(;s<c.length;s++){for(u=c[s],e=!1,o=0;!e&&o<n.length;){if(f=n[o],!f||!u[t]){e=!0;break}e=r.isRegExp?f.test(u[t]):r.comparator===1?u[t]>=f:r.comparator===-1?u[t]<=f:u[t]===f;o++}e&&h.push(u)}i=h}return this},o=function(){return i=i.sort(function(n,t){return n.duration<t.duration?1:-1}),this},s=function(n){var u={time:(new Date).toISOString(),page:n.pageName,loadingTime:Math.ceil(n.loadingTime),entries:{}},f=function(n){return et.test(n)},o=function(n){return ot.test(n)},r=function(n,t){u.entries[n]||(u.entries[n]=[]);u.entries[n].push(t)};return i.forEach(function(n){var u=parseInt(n.startTime)>0?parseInt(n.startTime):0,s=new Date(t.timing.navigationStart+u),h=tt(s)?s:new Date,i={navigationStart:h,connectionEstablish:e(u,n.connectEnd),responseWaiting:e(n.connectEnd,n.responseStart),responseGetting:e(n.responseStart,n.responseEnd),duration:Math.ceil(isNaN(n.duration)||n.duration<0?0:n.duration),name:n.name.replace(ft,"")};switch(n.initiatorType){case"script":r("script",i);break;case"link":r("style",i);break;case"iframe":r("html",i);break;case"css":f(n.name)?r("font",i):r("other",i);break;case"xmlhttprequest":o(n.name)&&(i.name=n.name.replace(st,""),r("html",i));break;default:r("other",i)}}),i=u,this};return{get:r,filterBy:f,sort:o,limit:u,format:s}},lt=function(){var n={db:p,server:y,browser:w.browser,os:w.OS,userName:it(),type:"page",name:null,duration:null,connection:null,ttfb:null,startNav:null};c=n},k=function(n,i){var u=!1,f,r;try{i||(u=!0,i="now",t.mark(i));r=n+" - "+i;t.measure(r,n,i);f=t.getEntriesByName(r)[0];t.clearMeasures(r);u&&t.clearMarks(i)}catch(e){}return f},at=function(n){return n===void 0&&(n="generated_mark_"+Math.floor(Math.random()*1e6)),t.mark?t.mark(n):console.error("performance.mark is undefined"),{name:n,end:function(){return d(n)}}},d=function(n){var i;return t.getEntriesByName(n).length?(i=k(n),t.clearMarks(n),i):null},vt=function(){var n=t.timing;return n.fetchStart?{navigationStart:new Date(o),navigation:e(o,n.fetchStart),connectionEstablish:e(n.fetchStart,n.connectEnd),responseWaiting:e(n.requestStart,n.responseStart),responseGetting:e(n.responseStart,n.responseEnd),domParsing:e(n.domLoading,n.domInteractive),contentLoading:e(n.domContentLoadedEventStart,n.domComplete)}:{navigationStart:new Date(o)}},g=function(n,r){var e=t.getEntriesByType("resource"),s=ct(e),f,u=i.extend(n||{},ht),h=u.from&&!isNaN(u.from.getTime())?u.from.getTime()-o:null,c=u.to&&!isNaN(u.to.getTime())?u.to.getTime()-o:null;return f=s.filterBy(u.names,"name",{isRegExp:!0}).filterBy(u.types,"initiatorType",{isRegExp:!0}).filterBy([h],"startTime",{comparator:1}).filterBy([c],"responseEnd",{comparator:-1}).sort().limit(u.itemsLimit).format(u).get(),r&&t.clearResourceTimings(),f};return{navStart:o,now:function(){return t.now()},showTimings:function(){var n=vt(),t=Object.keys(s).sort(function(n,t){return s[n].order>s[t].order?1:-1});return t.reduce(function(t,i){return typeof n[i]!="undefined"&&t.push(s[i].desc+": "+n[i]+"ms"),t},[])},logPageEntries:function(n,t,i,u){var f=new RegExp(r.localHosts.join("|"));(r.localDebug||!f.test(location.href)||location.href.indexOf("unitTests")!==-1)&&setTimeout(function(){var r=g(t,i);l.addEntry(n,r,c.startNav,lt,u)},10)},showEntries:function(n){return g(n,!1).entries},clear:function(){l.clear();t.clearResourceTimings()},getEntries:function(){return l.get()},mark:at,markEnd:d,measure:k,__updatePolyfill:function(n){a(n);t=window.performance}}}();n.performance=r;t.default=r})(geotab,geotab.commonjs.generateRequire("geotab.performance"),geotab.commonjs.generateExport("geotab.performance"));self.geotab && geotab.declare("geotab.performance");
(function(n,require,t){"use strict";function r(n,t,i,r){i===void 0&&(i="");r===void 0&&(r="");var u=encodeURIComponent(i),f=encodeURIComponent(r);return"https://docs.google.com/forms/d/"+(h[t]||h.en)+"/viewform?entry.974667310=Grammar/translation+correction&entry.1340886904="+n+"&entry.1623092845="+u+"&entry.1059519235="+f}var f=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),u;Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../vanillaExtension/vanilla"),e=require("../eventHandler"),o=function(){return i.create("DIV",{"class":"top titleHelp"})},s=function(n,t){Array.prototype.forEach.call(n,t)},h={en:"1v7ETn3AfOwb67qdIXCwGxK47Ov4M4KR39zBvUvTq3WQ",de:"1zkP6UrGNYJWbzwQZhr0GF2CnqbfXdVCNNqgN4dsEJ-8",fr:"1WlyOyadxoCNKn2DLXFFZuY_qIolP9MmKfiLKWDCnkFk",es:"16hfXzOkNBFrtO6bo3axFoEXznKehqypaO5KAHm8ZvX8",ja:"1bO4GBgjCViF4ptsOHF--Lfjy1wcbfvCP3FjulFden64",pl:"1m2ReQ39oyTtYQ6BVouYs3oeJExfLdwr3if0gtkf06AI","pt-BR":"1O27byHVatKh-D2mBzHDI15UiofmMcvhf919sNMygls0",nl:"19zNjGboK2gtE1mZBWiaLwvbRY-6UPSXULhmfIQUVqD4",it:"10HX1dJzPJAAUt2XlEHVCVmako99cl2uJjZ0iHLT_j7k","zh-Hans":"14pauZZLketACY5OsG_xZ2Qakpkls85BRX_amKeG9vmo"};t.createLink=r;t.pageTooltipHelpFactory=function(n,t,i){return n?new u(n,t,i):new c};u=function(n){function t(t,r,u){var f=n.call(this)||this,o,e;return f.checker=t,o=t.id,e=o&&t.parentElement&&t.parentElement.querySelector('[for="'+o+'"]'),e&&e.children.length===0&&e.appendChild(i.createIcon("question-mark")),f.container=r,f.editHandler=f.buildHandler(),f.checker&&(f.checker.addEventListener("click",function(){f.shown=f.checker.checked},!1),f.editForm=new l(u.pageName,u.language,u.formLinkText),f.editButton=new a(f.checker,u.pageName,u.language)),f}return f(t,n),t.prototype.buildHandler=function(){var n=this;return function(t){var i=t.target,r=i.parentNode,u=i.nextElementSibling&&i.nextElementSibling.textContent||"";n.editForm.add(r,u)}},t.prototype.toggleHelpElements=function(n){s(this.container.getElementsByClassName("showToolTipHelp"),function(t){t.style.display=n?"block":"none"})},t.prototype.toggleTooltipHelpElement=function(n,t){var r;i.toggleClasses(n,"titleHelp",t);t?(r=n.getElementsByClassName("geotabButtonIcons")[0],r||(r=i.createIcon("pencil-icon"),r.addEventListener("click",this.editHandler,!1),n.children&&n.children.length>0?n.insertBefore(r,n.children[0]):n.appendChild(r))):(r=n.getElementsByClassName("geotabButtonIcons")[0],r&&(r.removeEventListener("click",this.editHandler,!1),n.removeChild(r)))},t.addTooltip=function(n){if(!i.hasClass(n,"ignoreHelpToolTip")){var t=o(),r=void 0,u=n.parentNode;return r=i.create("DIV"),r.textContent=n.title,t.appendChild(r),u.appendChild(t),t}return null},Object.defineProperty(t.prototype,"shown",{get:function(){return this.checker.checked},set:function(n){var e=this,u,f,r;if(n)this.editButton.added=!0,s(this.container.querySelectorAll(".checkmateField [title], .checkboxCheckmateField[title], .addToolTipHelp[title], .tooltipHelp"),function(n){var f=n.parentNode&&n.parentNode.children||[],u=f[f.length-1],r=n,s=i.hasClass(n,"tooltipHelp"),h=i.hasClass(n.parentNode,"helpToolTipGroup"),o=u&&i.hasClass(u,"titleHelp");s||o&&!h?u&&o&&(r=null):r=t.addTooltip(n);r&&e.toggleTooltipHelpElement(r,!0)});else for(u=this.container.getElementsByClassName("titleHelp"),f=u.length,this.editButton.added=!1,this.editForm.remove();f--;)r=u[0],this.toggleTooltipHelpElement(r,!1),!r.hasAttribute("data-leave")&&r.parentNode&&r.parentNode.removeChild(r);this.checker.checked!==n&&(this.checker.checked=n);this.toggleHelpElements(n);this.fire("change",{shown:n})},enumerable:!0,configurable:!0}),t.prototype.refresh=function(){this.shown&&(this.shown=!0)},t}(e.SimpleEventHandler);t.PageTooltipHelp=u;var c=function(n){function t(){return n.call(this)||this}return f(t,n),Object.defineProperty(t.prototype,"shown",{get:function(){return!1},set:function(){},enumerable:!0,configurable:!0}),t.prototype.refresh=function(){return},t}(e.SimpleEventHandler),l=function(){function n(n,t,u){var e=this,f=i.create("A",{"class":"geotabButton",target:"blank"});this.tooltip=o();this.editor=i.create("TEXTAREA",{"class":"newTitleHelp checkmateFormEditField"});f.textContent=u;f.addEventListener("click",function(){f.href=r(n,t,e.editor.getAttribute("data-old")||"",e.editor.value);setTimeout(function(){return e.remove()},1)},!1);this.tooltip.appendChild(this.editor);this.tooltip.appendChild(f)}return n.prototype.add=function(n,t){this.remove();this.editor.value=t;this.editor.setAttribute("data-old",t);var i=n.parentNode;i.appendChild(this.tooltip);this.previous=i.removeChild(n)},n.prototype.remove=function(){this.tooltip.parentNode&&(this.previous&&!this.previous.parentNode&&(this.tooltip.parentNode.appendChild(this.previous),this.previous=null),this.tooltip.parentNode.removeChild(this.tooltip))},n}(),a=function(){function n(n,t,u){var f=this,e=i.createIcon("pencil-icon");this.link=i.create("a",{"class":"geotabButton emptyButton checkmateButtonHelp helpEditLink",target:"blank"});this.link.appendChild(e);this.link.addEventListener("click",function(){f.link.href=r(t,u)},!1);this.button=n}return Object.defineProperty(n.prototype,"added",{get:function(){return!!this.link.parentNode},set:function(n){n&&!this.link.parentNode?this.button.parentNode&&this.button.parentNode.appendChild(this.link):!n&&this.link.parentNode&&this.link.parentNode.removeChild(this.link)},enumerable:!0,configurable:!0}),n}()})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.feedback.pageTooltipHelp"),geotab.commonjs.generateExport("geotab.checkmate.feedback.pageTooltipHelp"));self.geotab && geotab.declare("geotab.checkmate.feedback.pageTooltipHelp");
(function(n,require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../vanillaExtension/vanilla"),r=require("./pageTooltipHelp"),u={dashboard:!0,helpguide:!0,helpsupport:!0},f=function(n){return'<a class="feedback" style="display: none" target="_blank">\n                <svg class="svgIcon geotabButtonIcons bigger feedback-icon"><use xlink:href="#mail"><\/use><\/svg>\n                <span class="feedback-title">'+n+"<\/span>\n            <\/a>"},e=function(){function n(n,t,r){this.feedbackHtml=i.textToHTML(f(t))[0];this.parent=n;this.parent.appendChild(this.feedbackHtml);this.lang=r}return n.prototype.showOnPage=function(n){n===void 0&&(n="");u[n.toLowerCase()]&&(i.show(this.feedbackHtml),this.feedbackHtml.href=r.createLink(n,this.lang))},n.prototype.hide=function(){i.hide(this.feedbackHtml)},n}();t.Feedback=e})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.feedback.feedback"),geotab.commonjs.generateExport("geotab.checkmate.feedback.feedback"));self.geotab && geotab.declare("geotab.checkmate.feedback.feedback");
(function(n,require,t){"use strict";function i(n,t){var u,r="UnknownError",f="Unknown error (default message)",s={},h=t,e=n.error,i=e.data||{},o;if(e&&(f=e.message,r=i.type||"",o=i.info,o))try{s=JSON.parse(o)}catch(c){}return i.hasOwnProperty("requestIndex")&&t&&t.params.calls&&(h=t.params.calls[i.requestIndex]),u={name:r,message:f,data:s,ajax:{request:t,response:n,failedRequest:h,requestIndex:i.hasOwnProperty("requestIndex")?i.requestIndex:null},toString:function(){return r+":"+f},isAuthenticationException:["LoginException","DbUnavailableException","SqlLoginFailedException","DbUnavailable","InvalidUser","InvalidUserException","InvalidMyAdminUserException","TokenExpired","DatabaseVersionOldException"].some(function(n){return n===r}),isServerException:!0},u["is"+r]=!0,u}Object.defineProperty(t,"__esModule",{value:!0});t.default=i})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.exceptions.serverException"),geotab.commonjs.generateExport("geotab.checkmate.exceptions.serverException"));self.geotab && geotab.declare("geotab.checkmate.exceptions.serverException");
(function(n,require,t){"use strict";function o(n,t,u,f){var h=function(n){try{var t=n.responseText;return!t||t===""}catch(i){return!0}},o=function(n,t,i){return{name:n,ajax:i,message:t}},a=function(n,r,u,s){switch(r){case 200:try{var c=JSON.parse(s);return c&&c.error?e.default(c,f):o(i.unknownError,t||i.unknownError,{response:s})}catch(l){return h(n)?o(i.internetConnectionReset,""):o(i.parsererror,"Parser Error")}case 12007:return o(i.cannotResolveServerName,u);case 12029:return o(i.internetCannotConnect,u);case 12030:case 12031:return o(i.internetConnectionReset,u);case 12152:return h(n)?o(i.internetConnectionReset,u):o(i.parsererror,u);case 0:return o(i.serverStopped,u);case 400:return o(i.internetCannotConnect,u);case 404:return o(i.internetCannotConnect,u);case 408:return o(i.requestTimeout,u);case 504:return o(i.internetCannotConnect,u);case 503:return o(i.internetCannotConnect,u);case 502:return o(i.serverStopped,u);default:return null}},v=function(n){try{return n?n.status:0}catch(t){return 0}},l=v(n),y=function(n){var e,u,h,r,s;try{e=n.readyState;r=n.status;u=n.statusText;h=n.responseText}catch(s){return null}return!e||e<4?null:(s=a(n,r,u,h),s)?s:r>=12001&&r<=12156?o(i.internetConnectionError,"Connection Error #"+r):r>=500?o(i.internalServerError,t||u,{request:f||""}):u.length>0?o(u+" ("+r+")",u):null},p=function(n){var t,i;return h(n)?"<empty>":(i=(n.responseText||"").replace(/\r/g,"").split("\n"),t=i[0].slice(0,100),i.length>1&&(t+="...",t+=i[Math.floor(i.length/2)].slice(0,100),t+="..."),t)},w=u instanceof Error,s=w?u:n&&y(n),c;return s||(t?t===i.parsererror&&n&&h(n)?s=o(i.internetConnectionReset,i.parsererror):t===i.timeout?(s=o(i.timeout,i.timeout),s.isTimeout=!0):s=o(t,t):s=o(i.unknownError,"")),c=t===i.parsererror,r.extend(s,c?{isParserException:!0}:{isNetworkException:!0,isConnectionInterruptedException:t===i.error&&l!==500},{ajax:r.extend({request:f,response:c&&n?p(n):""},s.ajax||{}),xhrStatus:l})}var f=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),u;Object.defineProperty(t,"__esModule",{value:!0});var r=require("../../vanillaExtension/vanilla"),e=require("./serverException"),i={internalServerError:"InternalServerError",internetCannotConnect:"InternetCannotConnect",internetConnectionReset:"InternetConnectionReset",internetConnectionError:"InternetConnectionError",cannotResolveServerName:"CannotResolveServerName",serverStopped:"ServerStopped",timeout:"timeout",parsererror:"parsererror",error:"error",unknownError:"UnknownError",requestTimeout:"RequestTimeout"};t.default=o;u=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.message=i.parsererror,t}return f(t,n),t}(Error);t.ParseException=u})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.exceptions.networkException"),geotab.commonjs.generateExport("geotab.checkmate.exceptions.networkException"));self.geotab && geotab.declare("geotab.checkmate.exceptions.networkException");
(function(n,require,t){"use strict";function h(n){return n===void 0&&(n=""),{database:n,userName:"",sessionId:""}}function a(t,a,v){var p=function(n){return n===null||n===undefined||n.error||n.result&&n.result.error},w=function(n,t,i){return n?l.default(n,i):s.default(t,null,null,i)},b=function(t,e,h,c){var a=t,l=e,v=function(){return f.extend(!0,{},l||{})},d=function(){return typeof h=="boolean"?h:!0},g=function(n){n.secure&&(n.params.credentials=c.token)},nt=function(n){var t=f.extend(!0,{},n),i,r;if(g(t),delete t.secure,r=t.params&&t.params.calls,r)for(i=0;i<r.length;i++)delete r[i].secure;return encodeURIComponent(JSON.stringify(t))},b=function(){var n=v();return n.credentials&&delete n.credentials.sessionId,{url:c.url,timeout:c.timeoutInMilliseconds,method:a||"",params:n}},k=function(n,t){var i=function(n,t){var i=function(n){var t=n.search||n.value||n.entity;return t?t.id?t.id:"...":""};return n+"<"+(t.typeName?t.typeName:"??")+">("+i(t)+")"},r=function(n,t){var i=3,f=function(n){return k(n.method,n.params)},r=t.calls.slice(0,i).map(f),u=t.calls.length-i;return u>0&&(u===1?r.push(f(t.calls[i])):r.push(u+" more...")),n+"("+r.join(", ")+")"};return["Get","Set","Remove","GetCountOf"].indexOf(n)!==-1?i(n,t):n===u?r(n,t):n};return{method:a||"",params:v(),secure:d(),toString:function(){return k(this.method,this.params)},beginInvoke:function(t,u){var e,h,a=(new Date).getTime(),f=o.generateId(),v=this.toString(),k=function(o){var s;p(o)?(u(w(o,e,b())),n.DEBUG&&(r?r.requestError(f):i.push({id:f,status:"error"}))):(y.fireEvent("requestSucceeded",y),s=o.hasOwnProperty("result")?o.result:o,t(s),n.DEBUG&&(r?r.requestSuccess(f,(new Date).getTime()-a,s):i.push({id:f,status:"success",time:(new Date).getTime()-a,response:s})))},d=!1,tt=function(n,t,i){return s.default(n,t,i,b())},it=function(t,e,o){var h,s;return d||(s=tt(t,e,o),s.requestStartTimeSpan=a,h=u(s),y.fireEvent("requestFailed",y,s),n.DEBUG&&(r?r.requestError(f):i.push({id:f,status:"error"}))),h||s},g=function(n){return function(){n.apply(null,arguments);setTimeout(function(){e=null},1e3)}};return n.DEBUG&&(r?r.addRequest(f,c.url,v,l||{}):i.push({id:f,status:"pending",url:c.url,taskName:v,params:l||{}})),!this.secure||c.token&&c.token.sessionId?(e=y.transport({url:c.url,method:"POST",data:"JSON-RPC="+nt(this),type:"json",timeout:c.timeoutInMilliseconds,success:g(k),error:g(it)}),h={abort:function(){d=!0;h.abort=o.NOOP;e&&e.abort()}}):k({error:{message:"Db Unavailable Exception",data:{type:"DbUnavailableException"}}}),h},isMultiCall:function(){return u===this.method},andAlso:function(n,t,i){var r=typeof n=="object"?n:c.call(n,t,i),f;return this.isMultiCall()?l.calls.push(r):(f=c.call(this.method,this.params,this.secure),this.method=a=u,this.params=l={calls:[f,r]}),this}}},y=f.extend(!0,{url:t||"/apiv1",timeoutInMilliseconds:typeof a=="number"?a:e.defaultTimeout,transport:e.default,token:v||h(),call:function(n,t,i){return b(n,t,i,this)}},c.default());return y}var r,i,u;Object.defineProperty(t,"__esModule",{value:!0});var c=require("./eventHandler"),e=require("./transport"),f=require("../vanillaExtension/vanilla"),o=require("../utils"),s=require("./exceptions/networkException"),l=require("./exceptions/serverException");t.createToken=h;i=[];n.DEBUG&&n.lazyRequire(["geotab.checkmate.debug.debugTool"],function(){var t;for(r=n.checkmate.debug.debugTool(),t=0;t<i.length;t++)switch(i[t].status){case"pending":r.addRequest(i[t].id,i[t].url,i[t].taskName,i[t].params);break;case"success":r.requestSuccess(i[t].id,i[t].time,i[t].response);break;case"error":r.requestError(i[t].id)}});u="ExecuteMultiCall";t.default=a})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.connection"),geotab.commonjs.generateExport("geotab.checkmate.connection"));self.geotab && geotab.declare("geotab.checkmate.connection");
(function(n,require,t){"use strict";function i(n,t,i){var r=i||[];return(t||Object.keys(n)).reduce(function(n){return function(t,i){return r.indexOf(i)===-1&&Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:function(){return n[i]},set:function(t){n[i]=t}}),t}}(n),{})}Object.defineProperty(t,"__esModule",{value:!0});t.default=i})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.proxyObject"),geotab.commonjs.generateExport("geotab.checkmate.proxyObject"));self.geotab && geotab.declare("geotab.checkmate.proxyObject");
(function(n,require,t){"use strict";function f(n,t){if(!n||typeof n.beginGetToken!="function")throw new Error("WrongTokenReceiver");var h=t||{},f=e.default(h.url||"",h.timeoutInMilliseconds,h.token),l,w,b=!1,k,a=!1,d=(new Date).getTime(),p=function(t,i,r){var u=function(n){l.token=n;a=!1;i.apply(this,arguments)};a||(a=!0,t?n.beginGetTokenWithUI(f,t,u,r):n.beginGetToken(f,u,r))},v=[],y=[],g=function(n,t){var i=[].slice.apply(arguments,[2]);for(t.length=0;n.length;)n.shift().apply(this,i)},nt=!1,tt=function(){nt=!0;n&&typeof n.lockToken=="function"&&f.token&&n.lockToken(f.token)};return w=function(n,t,i){var r=function(n){var t;return a=!1,t=i(n),g(y,v),t};return function(u){u&&c(u)?(v.push(function(){n.beginInvoke(t,i)}),y.push(i),p(null,function(){g(v,y)},r)):r(u)}},h.token&&h.token.sessionId&&n&&n.cacheToken&&n.cacheToken(r.extend({},h.token),h.token.rememberMe||!1),l=r.extend(s.default(f,["url","timeoutInMilliseconds","transport","token","attachEvent","detachEvent"]),{setTimeoutInMilliseconds:function(n){this.timeoutInMilliseconds=n},shutdown:function(n,t){b=!0;k=r.extend(new Error(n||"UnknownReason"),{isConnectionShutDownException:!0,innerException:t})},call:function(){var n=f.call.apply(f,arguments),t=n.beginInvoke;return d=(new Date).getTime(),n.beginInvoke=function(i,r){if(!r)throw new Error("beginInvoke requires an errorCallback");var e,f=u.default(n.toString()),o,s=function(){return!nt&&n.secure&&tt(),f.resolve.apply(f,arguments)};return o=f.andThen(i).fail(function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];n[0]&&n[0].name===n[0].message&&n[0].name==="abort"&&(n[0].isAborted=!0);r.apply(f.promise(),n)}),b?f.reject(k):(e=function(){var i,r=function(){setTimeout(function(){i=null},1e3)};f.fail(function(n){n&&n.isAborted&&i&&i.abort&&(i&&i.abort(),r())});f.always(r);i=t.call(n,s,w(n,s,function(){f.reject.apply(f,arguments)}))},a&&n.secure?(f.suspend(),v.push(e),y.push(function(){var t=r,n=null;return r=function(){return n=t.apply(f.promise(),arguments)},f.reject.apply(f,arguments),n})):(f.isSuspended()&&f.resume(),e())),o},n},invalidateToken:function(t,f,e,s,h,c){if(!n.beginGetTokenWithUI)throw new Error("NotSupported");n.clearCachedToken();var a=r.extend({destroy:i.NOOP,setDialogData:i.NOOP,showErrorMessage:i.NOOP,lockCredentials:i.NOOP,setSavedTokens:i.NOOP,setEnabledState:i.NOOP,showWaiting:i.NOOP,hideWaiting:i.NOOP,show:i.NOOP,close:i.NOOP,getLanguage:i.NOOP,beginGetCredentials:function(n,i){var r={database:f,userName:t,password:e};typeof s=="boolean"&&(r.rememberMe=s);i(r)}},o.default()),l=u.default("Invalidating token for current user");return p(a,function(n){l.resolve(n);h(n)},function(n){l.reject(n);c(n)}),l.promise()},requestToken:function(n,t){var i=l.token;return p(null,function(){var t=l.token;l.token=i;n(t)},t)},setTransport:function(n){this.transport=n},getTransport:function(){return this.transport},getIdlePeriod:function(){return Date.now()-d},getCredentials:function(){return{database:this.token.database,userName:this.token.userName,sessionId:this.token.sessionId}},getBasicConnection:function(){return f}})}Object.defineProperty(t,"__esModule",{value:!0});var e=require("./connection"),u=require("./task"),o=require("./eventHandler"),s=require("./proxyObject"),r=require("../vanillaExtension/vanilla"),i=require("../utils"),h=["isAuthenticationException","isExpiredPasswordException"],c=function(n){return h.some(function(t){return n[t]})};t.default=f;n.declare("geotab.checkmate");n.checkmate.interactiveConnection=f})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.interactiveConnection"),geotab.commonjs.generateExport("geotab.checkmate.interactiveConnection"));self.geotab && geotab.declare("geotab.checkmate.interactiveConnection");
(function(n,require,t){"use strict";function i(n,t){for(var r,u={},f=t||l.echo,e=n.length,i=0;i<e;i++)n[i]&&(r=n[i].id?n[i]:{id:n[i]},u[r.id]=f(r));return u}function w(n){return n.reduce(function(n,t){return s(t,null,n)},{})}function b(n,t){var i=n||[],r=Array.isArray(i),u=r?o:y,f=r?i:Object.keys(i);f.forEach(u(i,t))}function k(n,t){return n.length!==t.length?!1:(n.sort(function(n,t){return n.id.localeCompare(t.id)}),t.sort(function(n,t){return n.id.localeCompare(t.id)}),n.every(function(n,i){return n.id===t[i].id}))}function d(n){return h(n,null,{})}function g(n){return n.map(function(n){return{id:n.id}})}function nt(n,t){var u=t||function(n){return e.extend({},n,{parent:undefined})},r=n.reduce(function(n,t){return n[t.id]=u(t),n},{}),i=n.reduce(function(n,t){var i=r[t.id];return i.children=(t.children||[]).map(function(t){var u=r[t.id];return u&&(u.parent=i),n[t.id]&&(n[t.id]=undefined),u}),i.parent===undefined&&(n[i.id]=i),n},{});return Object.keys(i).filter(function(n){return i[n]!==undefined}).map(function(n){return i[n]})}function tt(n,t,r){var u=[],s=r||function(n,t){return!!f[t.id]},f,e=function(n){s(t,n)&&u.push(n);n.children&&n.children.forEach(e)},o;return r||(o=Array.isArray(t)?t:[t],f=i(o)),n.forEach(e),u}function it(n){return n.filter(function(n){return n&&n.id})}function rt(n){var u=[],t,f,i,e,r,o;if(f=n.length,f)for(i=0,e=f;i<e;i+=1)if(t=n[i],Array.isArray(t))for(o=t.length,r=0;r<o;r+=1)u.push(t[r]);else u.push(t);return u}function r(n,t,r){for(var s=Array.isArray(r)?i(r):r,h=n?n.length:0,f,o,e=0;e<h;e++)if(f=s[n[e].id],f&&(o=f.children?"children":"groups",f&&f[o]&&(u(t,f[o],s)||f.id===t)))return n[e].id;return null}function c(n,t,r){var o=Array.isArray(r)?i(r):r,f=o[n],e,s=[],c=t?t.length:0,h=f&&f.children?"children":"groups";if(f&&f[h])for(e=0;e<c;e++)u(t[e].id,f[h],o)&&s.push(t[e].id);return s}function ut(n,t,u){var f=Array.isArray(u)?i(u):u,e=r(t,n.id,f)||c(n.id,t,f);return p(t,e,n)}function ft(n,t,u){var o=Array.isArray(u)?i(u):u,s={},h=f(n),e;return h||f(t)?h?t:n:(e=n.filter(function(n){var i=r(t,n.id,o);return i&&(s[n.id]=!0),!!i}),e.push.apply(e,t.filter(function(t){return s[t.id]?!1:!!r(n,t.id,o)})),e)}function et(n,t){for(var u="",i,r=0;r<n.length;r++)for(i=0;i<t.length;i++)n[r].id===t[i].id&&t[i].name&&(u+=(u?", ":"")+t[i].name);return u}function ot(n,t,i){return f(i)?n:n.filter(function(n){var u=n.groups;return u.some(function(n){var u=r(i,n.id,t);return i.some(function(t){return u===t.id||n.id===t.id})})})}function st(n,t){return n[0].id==="GroupCompanyId"&&t[0].id!=="GroupCompanyId"?t:n}Object.defineProperty(t,"__esModule",{value:!0});var e=require("../vanillaExtension/vanilla"),l=require("../utils"),a=new Date(Date.UTC(1986,0,1)),v=new Date(Date.UTC(2050,0,1)),o=function(n,t){return function(i,r){var u=t(i);u&&(n[r]=u)}},y=function(n,t){var i=o(n,t);return function(t){i(n[t],t)}},s=function(n,t,i){var r,u=n.children||n.groups;if(n.parent=t,i[n.id]=n,u)for(r=0;r<u.length;++r)s(u[r],n,i);return i},u=function(n,t,i){for(var f=[],e,r=0,o=t.length;r<o;r++){if(t[r].id===n)return!0;e=i[t[r].id].children||i[t[r].id].groups;e&&e.length&&(f=f.concat(e))}return f.length?u(n,f,i):!1},h=function(n,t,i){var s,u,r,f,o;for(s in n)if(r=n[s],r&&(u=r.id,f=e.extend({},r,{parent:t}),i[u]=f,o=r.children||r.groups,o&&h(o,f,i),u==="GroupCompanyId"))break;return i},p=function(n,t,i){var r,u=typeof t=="string"?[t]:t;return u.forEach(function(t){for(r=n.length-1;r>=0;r--)if(n[r].id===t){n.splice(r,1);break}}),n.push(i),n},f=function(n){return!n||!n.length||n.length===1&&n[0].id==="GroupCompanyId"};t.MinDate=a;t.MaxDate=v;t.entityToDictionary=i;t.treeToDictionary=w;t.iterateEntities=b;t.compareEntityArrays=k;t.populateParentNodes=d;t.slimNodes=g;t.createLinkedTree=nt;t.findGroupsInTree=tt;t.removeSystem=it;t.unwrapEntities=rt;t.findParentForGroup=r;t.findChildrenOfParent=c;t.addNewGroupToArray=ut;t.getIntersection=ft;t.getEntityGroupsNames=et;t.filterEntitiesByGroups=ot;t.getFilterValue=st;n.declare("geotab.checkmate");n.checkmate.entityUtilities=function(){return n.commonjs.require("geotab.checkmate.entityUtilities")}})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.entityUtilities"),geotab.commonjs.generateExport("geotab.checkmate.entityUtilities"));self.geotab && geotab.declare("geotab.checkmate.entityUtilities");
(function(n,require,t){"use strict";function u(n){var u=function(n){return n.reduce(function(n,t){return n[t.securityIdentifier]=t,n},{})},f=function(n,t){var f=n.map(function(n){return i.extend({},n)}),e;if(t&&t.length)for(var o=u(f),r=void 0,s=function(){var n=t[r];if(n.securityIdentifier==="Everything")return{value:f.map(function(t){return i.extend({},t,{isAdd:n.isAdd})})};o[n.securityIdentifier]&&(o[n.securityIdentifier].isAdd=n.isAdd)},r=0;r<t.length;r++)if(e=s(),typeof e=="object")return e.value;return f},e=function(n){for(var i=n[0].securityFilters,t=1;t<n.length;t++)i=f(i,n[t].securityFilters);return i},t=r.populateParentNodes(r.createLinkedTree(n.map(function(n){return i.extend({},n)}))),o=function(n){for(var t=n,i=[];t;)i.push(t),t=t.parent;return i=i.reverse(),e(i)},s=function(n){var r=t[n.id]&&i.extend({},t[n.id]);return r?o(r):[]};return{getUiConfiguration:function(n){var t={acl:[],containsAny:!1,hasAccessTo:function(n){var i=t.acl;return!!(i.length&&i.indexOf(n)>-1)}};return s(n).forEach(function(n){n.isAdd&&(t.acl.push(n.securityIdentifier),t.containsAny=!0)}),t}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../vanillaExtension/vanilla"),r=require("./entityUtilities");t.default=u})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.securityCalculator"),geotab.commonjs.generateExport("geotab.checkmate.securityCalculator"));self.geotab && geotab.declare("geotab.checkmate.securityCalculator");
(function(n,require,t){"use strict";function r(){var n=function(n){return!!(n.database&&n.sessionId&&n.userName)},t=function(t){return!!(t.tokenHostname&&t.securityToken&&n(t.securityToken))};return{clear:function(){window.name=""},getItem:function(){var r={token:{}},n;if(window.name!==""){try{n=JSON.parse(window.name);t(n)&&(r.token={database:n.securityToken.database||"",origin:"https://"+(n.loginHostname||""),sessionId:n.securityToken.sessionId||"",userName:i.htmlEscape(n.securityToken.userName)||"",rememberMe:n.securityToken.rememberMe||!1})}catch(u){r=null}return window.name="",r}return null},setItem:function(n,t,r){t&&r&&n.database&&(window.name=JSON.stringify({loginHostname:t,loginDatabase:i.htmlEscape(n.database),securityToken:{database:i.htmlEscape(n.database),userName:i.htmlEscape(n.userName),sessionId:i.htmlEscape(n.sessionId),rememberMe:!!n.rememberMe},tokenHostname:r}))}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../utils");t.default=r})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.storage.redirectionTokenStorage"),geotab.commonjs.generateExport("geotab.checkmate.storage.redirectionTokenStorage"));self.geotab && geotab.declare("geotab.checkmate.storage.redirectionTokenStorage");
(function(n,require,t){"use strict";function c(t,c,l,a){var k=!1,d="ThisServer",g=c?function(){var n=c.getItem(l);return n===null&&l.indexOf("%")>-1&&(n=c.getItem(decodeURI(l))),n}:function(){return null},it=function(n){return n&&{database:n.database,sessionId:n.sessionId,userName:n.userName}},y=c?function(n,t){var i=t||c.isPermanent(l);c.setItem(n.database,r({},n,{rememberMe:undefined,date:n.date||new Date}),i)}:i.NOOP,nt=c?function(){return c.removeItem(l)}:i.NOOP,tt=c?function(){return c.isPermanent(l)}:i.NOOP,rt=function(n){return["DatabaseVersionOld","DbUnavailable","InvalidUser"].some(function(t){return t===n})},ut=function(n){return["OverLimit"].some(function(t){return t===n})},p,v,w=null,ft=function(n,t){return n+(n[n.length-1]==="/"?"":"/")+t+"/"},et=function(n){return ft(window.location.protocol+"//"+window.location.host,n)},ot=function(n,t){var i=o.Deferred(),r=t.database||n.token.database||"",u=i.promise();return t&&r&&t.userName&&t.verificationToken?n.call("VerifyUser",{userName:t.userName,verificationToken:t.verificationToken,database:r},!1).beginInvoke(function(){i.resolve(!0)},function(n){i.reject(n)}):i.reject(undefined),u},st=function(n){for(var f=new Date,e=n.length,i=[],o=function(n,t){return n.activePeriod-t.activePeriod},s=function(n,t){return{name:n,activePreiod:t,href:et(n)}},t=0;t<e;t++){var r=n[t],h=c.getItem(r),u=f.getTime()-new Date(h.date).getTime();u<12096e5?i.push(s(r,u)):c.removeItem(r)}return i.sort(o),i.splice(0,3)},ht=function(n){setTimeout(function(){window.location.replace(n+window.location.hash)},1)},b=h.default(),ct=function(){var t=!0,n=undefined;return function(){return t?(t=!1,b.isWebViewApp()||b.isIFrameHosted()):(n===undefined&&(n=b.isWebViewApp()),n)}}();if(!t)throw new Error("WrongUIParam");return p=f.extend(s.default(),{getTokenFromStorage:g,clearCachedToken:function(){nt()},lockToken:function(n){v=n.userName},cacheToken:function(n,t){y(n,t)},beginGetToken:function(n,i,r){p.beginGetTokenWithUI(n,t,i,r)},setExpiredSessionCallback:function(n){w=n},beginGetTokenWithUI:function(t,i,o,s){var vt=function(n,t){var r=n.name?n.name.replace("Exception",""):n.toString();i.setEnabledState(!0);i.hideWaiting();i.beginGetCredentials(t,at,s);rt(r)?i.showErrorMessage(r):(ut(r)&&(n.isSevere=!1),s(n))},ft=function(n){return n.indexOf("https:")===0?n.split("/")[2]:n},et=function(t,u,f){var s=it(t&&t.credentials),a;if(i.setEnabledState(!0),i.destroy(),t.path&&t.path!==d&&t.path.replace(/^.*\/\//,"").replace(/\/$/,"")!==n.location.host){var h=ft(t.path),c=window.location.href.split("#")[0],v=ft(c),l="https://"+h+"/";y({target:t.path,database:s.database},u);f&&(a=r({},s,{origin:c,target:l,rememberMe:u||!1}),e.default().setItem(a,v,h+"/"));ht(l+s.database)}else y(t.credentials,u),o(s,u)},yt=function(n,t){var i=function(n){return typeof n=="string"?n.toLowerCase():n};return n.userName!==""&&t.userName!==n.userName||n.database!==""&&i(t.database)!==i(n.database)},lt=function(n){var e=t.token?t.token.database:"",r=function(n,i){var r=u.default(n);return t.call(n,i,!1).beginInvoke(function(n){r.resolve(n)},function(n){r.reject(n)}),r};i.showWaiting();i.setEnabledState(!1);t.call("Authenticate",{database:n.database||e,userName:(n.userName||"").trim(),password:n.password},!1).beginInvoke(function(t){var o=function(n){var t=n.user;return t.language===n.newLanguage||t.acceptedEULA?u.default("Resolved task for setting language").resolve():(t.language=n.newLanguage,r("Set",{credentials:n.credentials,typeName:"User",entity:t}))},e=function(){et(t,"rememberMe"in n?n.rememberMe:tt(),!0)},i;n.newUserLanguage?(i=f.extend({newLanguage:n.newUserLanguage},t),r("Get",{credentials:i.credentials,typeName:"User",search:{name:i.credentials.userName}}).andThen(function(n){return{user:n[0],credentials:i.credentials,newLanguage:i.newLanguage}}).andThen(o).always(e)):e()},function(t){vt(t,n)})},h=g(),pt=h&&h.source,wt=ot(t,a),at=function(n){i.showWaiting();i.setEnabledState(!1);wt.then(function(){lt(n)},function(){lt(n)})},b;if(!h||k||yt(t.token,h))if(nt(),v&&w!==null)w();else{if(pt==="ResetPassword"&&p.fireEvent("ResetPassword"),c){if(b=st(c.listItems()),ct()&&b.length===1&&(!l||l==="default.html")){window.location.replace(b[0].href);return}i.setSavedTokens(b,l)}v&&i.lockCredentials&&i.lockCredentials(v);i.beginGetCredentials(t.token,at,s)}else k=!0,et({credentials:h,path:h.target||d},tt(),!1)}})}var r=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};Object.defineProperty(t,"__esModule",{value:!0});var e=require("./storage/redirectionTokenStorage"),u=require("./task"),o=require("./deferred"),s=require("./eventHandler"),f=require("../vanillaExtension/vanilla"),i=require("../utils"),h=require("./browser");t.default=c})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.dialogTokenReceiver"),geotab.commonjs.generateExport("geotab.checkmate.dialogTokenReceiver"));self.geotab && geotab.declare("geotab.checkmate.dialogTokenReceiver");
(function(n,require,t){"use strict";function i(t,i,r){var u={active:0,inactive:1,establishing:2,disconnecting:3},e,s=typeof t=="function"?t:function(){return["dataupdate",t.token.database].join("|")},l=function(n){h.isKnownHash(n.senderId)||(r&&(n=r(n)),c(n,n.data))},a=function(){i.subscribe(s(),l);e=u.active},v=function(){i.unsubscribe(s());e=u.inactive},y=function(){var n=Object.keys(f).length;n&&[u.active,u.establishing].indexOf(e)===-1?a():n||[u.inactive,u.disconnecting].indexOf(e)!==-1||v()},c=function(n,t,i){var r=f[n.type],u=r&&r[n.verb],e={type:n.type,verb:n.verb,data:t},o=function(n,t){n.forEach(function(n){n.subscriber!==i&&n.handler(t)})};r&&(u&&o(u,e),o(r,e))},h=function(){var t=[],i=[];return{getHashKey:function(r){var f=t.indexOf(r),u;return f!==-1?i[f]:(u=n.generateElementId(),t.push(r),i.push(u),u)},getObjectByHash:function(n){var r=i.indexOf(n);return t[r]||null},isKnownHash:function(n){return this.getObjectByHash(n)!==null}}}(),f={},o=function(n){return(n||"").split(",").reduce(function(n,t){var i=t.split("."),r=(i[0]||"").trim(),u=(i[1]||"").trim();return r&&n.push({type:r,verb:u||null}),n},[])};return{attachEvent:function(n,t,i){if(!n)throw new Error("Empty events names are not allowed yet!");if(!i||typeof i!="function")throw new Error("Event handler must be a function");if(!t)throw new Error("Subscriber parameter is mandatory");o(n).forEach(function(n){var r,u,e={subscriber:h.getHashKey(t),handler:i};n.type&&(r=f[n.type]||(f[n.type]=[]),n.verb&&(u=r[n.verb]||(r[n.verb]=[])),(u||r).push(e))});y()},hasEvent:function(n,t){return o(n).every(function(n){var i=f[n.type],r=i&&i[n.verb];return r&&r.some(function(n){return n.handler===t})})},fireEvent:function(n,t,r,u){var e=o(n),f=e[0],l=h.getHashKey(t);if(e.length!==1||!f.type||!u&&!f.verb)throw new Error("Event must include only one event type and one verb! Instead got: "+(n||"empty"));u||i.notify(s(),{type:f.type,verb:f.verb,senderId:l,data:r});c(f,r,l)},detachEvent:function(n,t,i){o(n).forEach(function(n){var r=f,t="type",u;n[t]&&r[n[t]]&&(u=r[n[t]],n.verb&&(t="verb",r=u,u=r[n[t]]),i?r[n[t]]=(u||[]).filter(function(n){return i!==n.handler}):delete r[n[t]])})}}}Object.defineProperty(t,"__esModule",{value:!0});t.NotificationCenter=i})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.notificationCenter"),geotab.commonjs.generateExport("geotab.checkmate.notificationCenter"));self.geotab && geotab.declare("geotab.checkmate.notificationCenter");
(function(n,require,t){"use strict";function r(n,t,r,f,e,o){o===void 0&&(o=!1);var a={},g=function(n){var u=n.result?n.result.messages:n.messages,t,f,i,r;if(u)try{for(r=0;r<u.length;r++){t=u[r];for(f in s)s.hasOwnProperty(f)&&(i=s[f],t.subscriptionId===i.id&&i.callback&&(t.data.senderId&&a[t.data.senderId]?delete a[t.data.senderId]:i.callback(t.data)))}}finally{}else if(n!==!0)return!1;return!0},nt=function(n){e&&e.error&&e.error("ChannelError "+(n&&n.message))},l,v=function(){l&&(clearTimeout(l),l=null)},y=function(n){v();l=setTimeout(ft,n)},p=!1,tt=function(){c.onSubscriptionsReceive&&c.onSubscriptionsReceive(s);k();p=!1},it=function(n){g(n)||(e&&e.log("subscriptions will be invalidated"),d(!0,function(){return b(!0).catch(w)}))},rt=function(n){var t=n&&n.isAborted;t||(c.onSubscriptionsFail&&c.onSubscriptionsFail(n),f(n));p=!t},ut=function(){et();o||w()},w=function(){Object.keys(s).length&&y(p?5e3:1e3)},h,ft=function(){v();h&&h.isConnected()||(h=t.getConnection(),h.listen(n,tt,it,rt,ut))},k=function(){var n;return function(){n&&clearTimeout(n);n=setTimeout(d,0)}}(),et=function(){e&&e.log("flagging subscriptions as deprecated");Object.keys(s).forEach(function(n){delete s[n].id})},d=function(){var n;return function(t,i){n?n.then(function(){return b(!1)}).catch(i):n=b(t).then(function(){n=null},function(){i&&i();n=null})}}(),b=function(t){var u,h,e;return(t===void 0&&(t=!1),u=Object.keys(s).filter(function(n){return t||!s[n].hasOwnProperty("id")}),h=!1,u.length>0)?(e=i.Deferred(),r.call("Subscribe",{topicIds:u,channelId:n}).beginInvoke(function(n){for(var i,r,t=0;t<u.length;t++)i=s[u[t]],i&&(r=!i.id||i.id<n[t],r&&(i.id=n[t],h=!0));h!==!0?e.reject(new Error("Can't be subscribed")):o||y(1e3);e.resolve(undefined)},function(n){e.reject(n);n.isAborted||f(n)}),e.promise()):i.resolved()},s={},c,ot=function(){y(5e3)},st=function(){return!!l};return c={getChannelId:function(){return n},getSubscriptions:function(){return Object.keys(s)},subscribe:function(n,t){if(s[n])throw new Error("Already subscribed to "+n);return s[n]={callback:t},o||(st()||ot(),k()),!o},unsubscribe:function(n,t,i){var u=s[n],e=function(){delete s[n];t&&t()},h=i?nt:f;if(!u)throw new Error("Not subscribed to "+n);return o||(u.id?r.call("Unsubscribe",{subscriptionIds:[u.id]}).beginInvoke(e,h):e()),!o},notify:function(n,t){o||(a[t.senderId]=!0,r.call("Notify",{topicId:n,data:t}).beginInvoke(u.NOOP,f))},shutdown:function(){c.getSubscriptions().forEach(function(n){return c.unsubscribe(n,undefined,!0)});v();h&&h.isConnected()&&h.disconnect();h=null},suspend:function(){o=!0;c.shutdown()},resume:function(){o=!1;w()},setConnection:function(n){r=n},onSubscriptionsReceive:null,onSubscriptionsFail:null}}Object.defineProperty(t,"__esModule",{value:!0});var u=require("../../utils"),i=require("../deferred");t.default=r;n.declare("geotab.checkmate.channel");n.checkmate.channel.cometChannel=r})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.channel.cometChannel"),geotab.commonjs.generateExport("geotab.checkmate.channel.cometChannel"));self.geotab && geotab.declare("geotab.checkmate.channel.cometChannel");
(function(n,require,t){"use strict";function u(t){var e=document.getElementsByTagName("head")[0],o=0,s=window.location.protocol+"//"+n.location.host+"/apiv1/Comet",f=!1,u=i.resolved();return window.addEventListener("beforeunload",function(){f=!0},!1),{listen:function(n,h,c,l,a){var d="?",p='"',v=document.createElement("script"),y="ncjson"+(new Date).getTime()+"_"+ ++o+"_"+r.generateId(),w=!1,g=function(n){l(n)},k=r.multiplex(function(){return f||(w||(b(),w=!0,g()),u.reject()),!1},100),nt=setTimeout(k,t),b=function(){if(v){clearTimeout(nt);nt=0;v.src="";v.removeEventListener("error",k,!1);v&&v.parentNode&&v.parentNode.removeChild(v);for(var n in v)v.hasOwnProperty(n)&&delete v[n]}window[y]&&delete window[y]},it=function(n){try{w||(w=!0,h(),c(n))}finally{b()}},tt;d+=encodeURIComponent("channelId")+"="+encodeURIComponent(p+n+p)+"&";v.addEventListener("error",k,!1);v.setAttribute("id","geotabComet_"+y);v.src=s+d+"JSONP="+p+y+p;v.async=!0;window[y]=function(n){try{u.resolve(JSON.parse(decodeURIComponent(n)))}catch(t){u.reject();g({message:t.message+" (Comet request failed. Returned data: "+n+")",type:t.type})}};u=i.default("cometRequestTask"+y,it,b);e.appendChild(v);tt=u.abort;u.abort=function(){tt.call(u);b()};u.always(a)},disconnect:function(){u.abort()},isConnected:function(){return!u.isDone()}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../task"),r=require("../../utils");t.default=u})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.channel.jsonp"),geotab.commonjs.generateExport("geotab.checkmate.channel.jsonp"));self.geotab && geotab.declare("geotab.checkmate.channel.jsonp");
(function(n,require,t){"use strict";function i(t,i,r){r===void 0&&(r=!0);var f=!1,u,o=function(){u&&(i&&i.warn("It seems like device was asleep."),u.send("PING"))},e=function(){f&&(f=!1,u&&u.close(),t&&t.unsubscribe(o),i&&i.warn("Closing websocket."))},s=function(u,s,h,c,l){var v=(r?"wss":"ws")+"://"+n.location.host+"/?channelId="+u,y=function(n){try{h(JSON.parse(n.data))}catch(t){c(t)}},p=function(n){i&&i.log("WebSocket Error");c(n);e()},w=function(){i&&i.log("WebSocket Close");l();e()},a=null;i&&i.log("opening web socket: "+v);try{a=new WebSocket(v)}catch(b){c(new Error(b.message+". WebSocket threw an error on "+v))}return a&&(f=!0,a.onopen=s,a.onmessage=y,a.onerror=p,a.onclose=w,t&&t.awaken(o)),a};return{listen:function(n,t,r,e,o){f?i&&i.warn("websocket is already opened"):u=s(n,t,r,e,o)},disconnect:function(){u&&f&&(u.close(),u=null,e())},isConnected:function(){return f}}}Object.defineProperty(t,"__esModule",{value:!0});t.default=i;n.declare("geotab.checkmate.channel");n.checkmate.channel.webSocket=i})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.channel.webSocket"),geotab.commonjs.generateExport("geotab.checkmate.channel.webSocket"));self.geotab && geotab.declare("geotab.checkmate.channel.webSocket");
(function(n,require,t){"use strict";function f(t){var f=function(n){return isNaN(+n)?r:u};return{log:function(r){return t?t.call(f(r.value),r).beginInvoke(n.NOOP,n.NOOP):i.rejected()}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("./deferred"),r="TraceText",u="TraceNumber";t.default=f})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.bigDataLogger"),geotab.commonjs.generateExport("geotab.checkmate.bigDataLogger"));self.geotab && geotab.declare("geotab.checkmate.bigDataLogger");
(function(n,require,t){"use strict";function e(t){var o=5,s="WebSocketFailure",e=0,h=r.default(),c=f.default(t);return{monitor:function(r){var p=i.Deferred(),v=!1,f=function(){var i=10,t=0,n;return{increment:function(){t++;n&&(n(),n=null)},reset:function(){t=0;n=null},isTooBig:function(){return t>i},onNextIncrement:function(t){n=t},count:function(){return t}}}(),b=1e3,l=!0,y,k=function(){y.listen=r.listen;y.disconnect=r.disconnect},w=function(t,i){var r;if(i===void 0&&(i=!1),r=t&&t.target?t.target.url:window.location.host,l&&++e,t&&l&&(n.DEBUG||!u.isLocalUrl(r))&&e<=o){var v=t.code||0,y=h.getBrowserId(),p=Math.ceil(n.performance.now()),f=t.reason||"",w=t.message||(i?(f?'Reason: "'+f+'". ':"")+('WebSocket is closed with code "'+v+'" on '+r):"WebSocket threw an error on "+r);a.push(function(){c.log({key:s,value:p+","+y+","+w})})}l=!1},a=[];return y={listen:function(n,i,u,e,o){var h=Date.now(),s=!1;return r.listen(n,function(){s||(l=!0);s=!0;f.reset();a&&a.forEach(function(n){n()});a=[];i.apply(r,arguments)},u,function(n){w(n);e.call(r,n)},function(n){w(n,!0);var i=Date.now();!s&&i-h<b&&navigator.onLine&&(f.increment(),f.isTooBig()&&!v&&(v=!0,t.call("GetVersion",null).beginInvoke(function(){f.onNextIncrement(function(){setTimeout(function(){k();p.resolve(undefined)},0)})},function(){v=!1;f.reset()})));o.call(r,n)})},disconnect:function(){r.disconnect()},isConnected:function(){return r.isConnected()},onPermanentFail:function(n){p.done(n)}}}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../deferred"),r=require("../browser"),u=require("../../utils"),f=require("../bigDataLogger");t.default=e})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.channel.webSocketConnectionStabilityMonitor"),geotab.commonjs.generateExport("geotab.checkmate.channel.webSocketConnectionStabilityMonitor"));self.geotab && geotab.declare("geotab.checkmate.channel.webSocketConnectionStabilityMonitor");
(function(n,require,t){"use strict";function r(){return u}Object.defineProperty(t,"__esModule",{value:!0});n.declare("geotab.checkmate.debug");var i=/\d+\.\d+\.\d+\.\d+/.test(n.location.host)&&n.checkmate.debug.onScreenLogger,u=typeof i=="function"?i():n.getGlobalObject().console;t.default=r;n.checkmate.debug.console=r})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.debug.console"),geotab.commonjs.generateExport("geotab.checkmate.debug.console"));self.geotab && geotab.declare("geotab.checkmate.debug.console");
(function(n,require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(n){this.callbacks=[];this.logger=n||null}return n.prototype.tick=function(){var t=this;this.from=Date.now();this.timerId=setTimeout(function(){if(t.to=Date.now(),(t.to-(t.from||0))/n.durationInMs>n.deviationAllowed)try{t.callbacks.forEach(function(n){return n()})}catch(i){t.logger&&t.logger.error("One of sleep mode detector listeners has thrown an error. It won't break anything, but WHY?? "+i)}t.tick()},n.durationInMs)},n.prototype.awaken=function(n){this.callbacks.push(n);this.timerId||this.tick()},n.prototype.unsubscribe=function(n){for(var t=0;t<this.callbacks.length;t++)this.callbacks[t]===n&&(this.callbacks.splice(t,1),t--);this.timerId&&!this.callbacks.length&&clearTimeout(this.timerId);this.timerId=null},n.durationInMs=5e3,n.deviationAllowed=1.2,n}();t.default=i;n.declare("geotab.checkmate.channel");n.checkmate.channel.SleepModeDetector=i})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.channel.sleepModeDetector"),geotab.commonjs.generateExport("geotab.checkmate.channel.sleepModeDetector"));self.geotab && geotab.declare("geotab.checkmate.channel.sleepModeDetector");
(function(n,require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=require("./jsonp"),r=require("./webSocket"),u=require("./webSocketConnectionStabilityMonitor"),f=require("../debug/console"),e=require("./sleepModeDetector"),o=function(){function t(t){this.logger=n.DEBUG?f.default():null;this.currentTransport=null;this.connection=t}return t.prototype.getConnection=function(){var n=this,t,f;return this.currentTransport===null&&(t=function(){return i.default(4e4)},f=function(){var f=r.default(new e.default(n.logger),n.logger,window.location.protocol!=="http:"),i=u.default(n.connection).monitor(f);i.onPermanentFail(function(){console.error("webSockets are shutdown permanently. Switching to JSONP");n.currentTransport=t()});return i},this.currentTransport=typeof WebSocket!="undefined"?f():t()),this.currentTransport},t}();t.default=o})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.channel.channelTransportFactory"),geotab.commonjs.generateExport("geotab.checkmate.channel.channelTransportFactory"));self.geotab && geotab.declare("geotab.checkmate.channel.channelTransportFactory");
(function(n){if(typeof exports=="object"&&typeof module!="undefined")module.exports=n();else if(typeof define=="function"&&define.amd)define([],n);else{var t;t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this;t.uuidv4=n()}})(function(){return function n(t,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!t[f]){if(h=typeof require=="function"&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){var i=t[f][1][n];return u(i?i:n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var e=typeof require=="function"&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(require,n){function r(n,t){var r=t||0,u=i;return u[n[r++]]+u[n[r++]]+u[n[r++]]+u[n[r++]]+"-"+u[n[r++]]+u[n[r++]]+"-"+u[n[r++]]+u[n[r++]]+"-"+u[n[r++]]+u[n[r++]]+"-"+u[n[r++]]+u[n[r++]]+u[n[r++]]+u[n[r++]]+u[n[r++]]+u[n[r++]]}for(var i=[],t=0;t<256;++t)i[t]=(t+256).toString(16).substr(1);n.exports=r},{}],2:[function(require,n){(function(t){var i,r=t.crypto||t.msCrypto,u,f;r&&r.getRandomValues&&(u=new Uint8Array(16),i=function(){return r.getRandomValues(u),u});i||(f=new Array(16),i=function(){for(var n=0,t;n<16;n++)(n&3)==0&&(t=Math.random()*4294967296),f[n]=t>>>((n&3)<<3)&255;return f});n.exports=i}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],3:[function(require,n){function r(n,r,u){var o=r&&u||0,f,e;if(typeof n=="string"&&(r=n=="binary"?new Array(16):null,n=null),n=n||{},f=n.random||(n.rng||t)(),f[6]=f[6]&15|64,f[8]=f[8]&63|128,r)for(e=0;e<16;++e)r[o+e]=f[e];return r||i(f)}var t=require("./lib/rng"),i=require("./lib/bytesToUuid");n.exports=r},{"./lib/bytesToUuid":1,"./lib/rng":2}]},{},[3])(3)});self.geotab && geotab.declare("js.uuid");
(function(n,require,t){"use strict";function r(){return i()}Object.defineProperty(t,"__esModule",{value:!0});require("../js/uuid");var i=window.uuidv4;t.default=r})(geotab,geotab.commonjs.generateRequire("geotab.uuid"),geotab.commonjs.generateExport("geotab.uuid"));self.geotab && geotab.declare("geotab.uuid");
(function(n,require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=require("../eventHandler"),r=require("./cometChannel"),u=require("./channelTransportFactory"),f=require("../debug/console"),e=require("../exceptions/networkException"),o=require("../../uuid"),s=function(){function t(t,s,h){var c=this,l=o.default(),a=new u.default(t);this.console=f.default();this.eventHandler=i.default();this.cometChannel=r.default(l,a,t,function(n){s(e.default(null,"ChannelConnectionFailed",n,null))},this.console,h);n.getGlobalObject().addEventListener("unload",function(){c.destroy()},!1);this.console.log("WebSocketChannel initialized.")}return t.prototype.isActive=function(){return!!this.cometChannel},t.prototype.getChannelId=function(){return this.cometChannel?this.cometChannel.getChannelId():""},t.prototype.subscribe=function(n,t){var i=this;this.cometChannel&&(this.cometChannel.getSubscriptions().indexOf(n)===-1?(this.cometChannel.subscribe(n,function(r){i.console.log("Received notification for "+n);t(r)}),this.console.log("Subscribing to "+n)):this.console.log("Already subscribed to "+n))},t.prototype.unsubscribe=function(n){var t=this;this.cometChannel&&this.cometChannel.getSubscriptions().indexOf(n)!==-1&&this.cometChannel.unsubscribe(n,function(){t.cometChannel&&!t.cometChannel.getSubscriptions().length&&t.cometChannel.shutdown()},!0)},t.prototype.notify=function(n,t){this.cometChannel&&this.cometChannel.notify(n,t)},t.prototype.destroy=function(){this.cometChannel&&(this.console.warn("shutting comet down: "+this.getChannelId()),this.cometChannel.suspend(),this.cometChannel=null)},t.prototype.attachEvent=function(n,t){this.eventHandler.attachEvent(n,t)},t.prototype.fireEvent=function(n,t,i){this.eventHandler.fireEvent(n,t,i)},t.prototype.attachToAll=function(n){this.eventHandler.attachToAll(n)},t}();t.default=s})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.channel.WebSocketChannel"),geotab.commonjs.generateExport("geotab.checkmate.channel.WebSocketChannel"));self.geotab && geotab.declare("geotab.checkmate.channel.WebSocketChannel");
(function(n,require,t){"use strict";function r(n,t,r){return new i.default(n,t,!!r)}Object.defineProperty(t,"__esModule",{value:!0});var i=require("./WebSocketChannel");t.default=r})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.channel.channel"),geotab.commonjs.generateExport("geotab.checkmate.channel.channel"));self.geotab && geotab.declare("geotab.checkmate.channel.channel");
(function(n,require,t){"use strict";function i(n,i,r){var u={desktopQuota:function(){return i||t.defaultQuotas.desktop},mobileQuota:function(){return r||t.defaultQuotas.mobile},routesQuota:function(){return t.defaultQuotas.routes},notificationsQuota:function(){return t.defaultQuotas.notifications},desktopSpeedPointsQuota:function(){return t.defaultQuotas.desktopSpeedPoints},mobileSpeedPointsQuota:function(){return t.defaultQuotas.mobileSpeedPoints},currentQuota:function(){return n?u.mobileQuota():u.desktopQuota()}};return u}Object.defineProperty(t,"__esModule",{value:!0});t.defaultQuotas={desktop:500,mobile:150,routes:100,notifications:400,desktopSpeedPoints:1e3,mobileSpeedPoints:100};t.default=i;n.declare("geotab.checkmate");n.checkmate.requestQuotas=i;n.checkmate.requestQuotas.defaults=t.defaultQuotas})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.requestQuotas"),geotab.commonjs.generateExport("geotab.checkmate.requestQuotas"));self.geotab && geotab.declare("geotab.checkmate.requestQuotas");
(function(n,require,t){"use strict";function i(){var t="checkmate-alarm",n=[],i=function(){var r=document.getElementById(t);r&&(n.length?(r.src="",r.src=n.shift()||""):(r.removeEventListener("ended",i,!1),document.getElementsByTagName("body")[0].removeChild(r)))};return{play:function(r){var u=document.getElementById(t);n=r;u?(u.pause(),u.src="",u.src=n.shift()||""):document.getElementsByTagName("body")[0].appendChild(function(){return u=document.createElement("audio"),u.id=t,u.src=n.shift()||"",u}());u.addEventListener("ended",i,!1);u.play()}}}Object.defineProperty(t,"__esModule",{value:!0});t.default=i})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.sound"),geotab.commonjs.generateExport("geotab.checkmate.sound"));self.geotab && geotab.declare("geotab.checkmate.sound");
(function(n,require,t){"use strict";function f(t,f,e,o,s,h,c){var nt=2,w=u.default(e),et=r.default(),b=[],rt={},y={},l={},a={},ot={exception:"Exception"},k={exception:h("ExceptionsReport"),trips:h("DisplayMap")&&h("TripsActivityReport")},v={urgent:{desktop:undefined,web:undefined},popup:{web:undefined}},d=!1,p=function(n){return Object.keys(n).length},st=function(n){return l.hasOwnProperty(n)?a.hasOwnProperty(n)?"individualUrgent":"urgent":y.hasOwnProperty(n)?"popup":null},ht=function(n){for(var i,t=0;t<n.length;t++)n[t].type==="Info"?(b.push(n[t]),i="Info: "+n[t].info,w.displayPopupNotification({name:e.translateKey("Notifications"),message:i,seconds:5,dismiss:function(){setTimeout(function(){for(var n=0;n<b.length;n++)o(b[n]);b=[]},1)}})):y[n[t].id]={dateTime:n[t].dateTime,deviceId:n[t].deviceId};Object.keys(y).length&&ft()},ct=function(n){n.forEach(function(n){var t=rt[n.id];t&&t.hasBeenDisplayed||(w.displayPopupNotification({type:"news",message:e.translateKey(n.info),url:s("notification",{id:n.id},!1,!1),button:{click:function(){var t=i.Deferred();return o(n,function(){t.resolve(null)}),t.promise()}}}),rt[n.id]={hasBeenDisplayed:!0})})},lt=function(n,t){var r=[];n.forEach(function(n){var h,b="",u=i.Deferred(),v,y;if(t)l[n.id]={dateTime:n.dateTime,deviceId:n.deviceId};else{if(p(a)>=nt){d=!0;l[n.id]={dateTime:n.dateTime,deviceId:n.deviceId};return}h=n.type===ot.exception;h?i.together([f.exceptionEvents.getItemById(n.exceptionEvent.id)]).done(function(t){var r=t[0],e=n.recipient;c.isDefault(e)?i.together([f.devices.getItemById(r.device.id),f.rules.getItemById(r.rule.id)]).done(function(n){var t=n[0],i=n[1];u.resolve(c.localize(e,t.name,i.name))}):u.resolve(n.fullInfo)}):(b=n.source?e.translateKey("UrgentNotificationFrom")+" "+e.getNotificationSource(n.source):e.translateKey("UrgentNotification"),u.resolve(b));(!h||k.exception)&&(v=s("notification",{id:n.id},!1,!1));y=g(n);y&&(!h||k.trips)&&(v=s("tripsHistory",y,!1,!1));l[n.id]={haveBeenDisplayed:!0};u.done(function(t){p(a)>=nt?l[n.id]={dateTime:n.dateTime,deviceId:n.deviceId}:a[n.id]={web:w.displayPopupNotification({type:"warning",name:e.translateKey("Notifications"),message:t,url:v,button:{click:function(){var t=i.Deferred();return o(n,function(){t.resolve(null)}),t.promise()}},dismiss:function(){l[n.id]={dateTime:n.dateTime,deviceId:n.deviceId};delete a[n.id]}})}});r.push(u)}});Object.keys(l).length&&i.together(r).done(function(){ut()})},at=function(i){for(var u,f=[],r=0;r<i.length;r++)if(u=i[r].recipient.notificationBinaryFile,u){var e=encodeURIComponent(n.json.stringify({database:t.token.database,userName:t.token.userName,sessionId:t.token.sessionId})),o=encodeURIComponent(n.json.stringify(u)),s="/apiv1/GetNotificationAudioStream?notificationBinaryFile="+o+"&credentials="+e;f.push(s)}et.play(f)},vt=function(){if(p(a)>0){for(var n in l)if(l.hasOwnProperty(n)){if(a.hasOwnProperty(n))continue;delete l[n]}}else l={}},tt=function(n){v.urgent.web&&(v.urgent.web.hide(),v.urgent.web=undefined);v.urgent.desktop&&(v.urgent.desktop.close(),v.urgent.desktop.cancel(),v.urgent.desktop=undefined);n&&vt()},it=function(n){v.popup.web&&(v.popup.web.hide(),v.popup.web=undefined);n&&(y={})},yt=function(){var n=v.urgent.web;return!!(n&&n.container.parentNode)},ut=function(){tt(!1);var n=p(l)-p(a),f,t,i,r,u;if(n>0){if(f=d?n>1?e.translateKey("NumberedMultAdditionalUrgentAlerts").replace("{0}",n.toString()):e.translateKey("NumberedOneAdditionalUrgentAlert"):n>1?e.translateKey("NumberedMultUrgentAlerts").replace("{0}",n.toString()):e.translateKey("NumberedOneUrgentAlert"),t=s("geotab.checkmate.ui.notifications",{},!1,!1),n===1){for(u in l)if(!l[u].haveBeenDisplayed){i=l[u];break}i&&(r=g(i),r&&k.trips&&(t=s("geotab.checkmate.ui.tripsHistory",r,!1,!1)))}v.urgent.web=w.displayPopupNotification({name:e.translateKey("Notifications"),message:f,url:t,type:"warning"})}},pt=function(){var n=v.popup.web;return!!(n&&n.container.parentNode)},ft=function(){it(!1);var t,i,r,n=p(y),u=s("geotab.checkmate.ui.notifications",{},!1,!1);n>0&&(r=n>1?e.translateKey("NumberedMultAlerts").replace("{0}",n.toString()):e.translateKey("NumberedOneAlert"),n===1&&(i=y[Object.keys(y)[0]],t=g(i),t&&k.trips&&(u=s("geotab.checkmate.ui.tripsHistory",t,!1,!1))),v.popup.web=w.displayPopupNotification({name:e.translateKey("Notifications"),message:r,url:u}))},wt=function(n){var u,t,f,r,i;if(p(y)!==0||p(l)!==0){for(p(a)<nt&&(d=!1),u=0;u<n.length;u++){t=n[u].id;f=st(t);switch(f){case"individualUrgent":i=a[t];i.desktop&&(i.desktop.close(),i.desktop.cancel());i.web&&(r=document.getElementById(i.web),r&&r.parentNode&&r.parentNode.removeChild(r));delete a[t];delete l[t];break;case"urgent":delete l[t];break;case"popup":delete y[t]}}yt()&&ut();pt()&&ft()}},bt=function(){a={};v={urgent:{desktop:undefined,web:undefined},popup:{web:undefined}};it(!0);tt(!0)},kt=function(){var n,i,t;it(!0);tt(!0);for(i in a)a.hasOwnProperty(i)&&(t=a[i].desktop,t&&(t.close(),t.cancel()));n=document.querySelector(".notification.logpopup");n&&n.parentNode.removeChild(n);d=!1},g=function(n){var r=n.deviceId?n.deviceId:n.device?n.device.id:null,t=n.dateTime,u,i=new Date(t),f=new Date(t),e=new Date(t);return r&&t&&(f.setMinutes(i.getMinutes()-120),e.setMinutes(i.getMinutes()+120),u={routes:{},devices:[r],tripLogPoint:i.toISOString(),includeHistoricData:!0,dateRange:{endDate:e.toISOString(),startDate:f.toISOString()}}),u||!1};return{showPopup:ht,showUrgentPopup:lt,showNewsPopup:ct,playAlarm:at,reset:bt,notificationDismissed:wt,allNotificationsDismissed:kt,getDeviceData:g}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../deferred"),r=require("../sound"),u=require("./notifier");t.default=f})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.notificationsAlerter"),geotab.commonjs.generateExport("geotab.checkmate.ui.notificationsAlerter"));self.geotab && geotab.declare("geotab.checkmate.ui.notificationsAlerter");
(function(n,require,t){"use strict";function a(n,t,a,v,y,p,w){var pt=y||e.default(n,a),wt=c.default(h.default().isMobile()),ft=wt.notificationsQuota(),nt,bt=function(){var n=!0;return function(){return n&&window.setTimeout(function(){n=!1},1),n}}(),it=!1,b=[],kt=function(n){switch(n){case"StatusDisabled":case"StatusNoDevices":case"StatusUnlocked":case"StatusStopped":case"StatusUserCleared":return"close-cross";case"StatusIdle":case"CacheCleared":case"StatusConnected":case"StatusConnecting":case"StatusServiceManagerConnected":case"StatusRunning":return"check";case"StatusAuthenticationFailed":case"StatusAuthenticationNotSupported":case"StatusAuthenticationSchemeNotProvided":case"StatusDisconnected":case"StatusProxyServerNotFound":case"StatusProxyTimeout":case"StatusUnknownResponseFromServer":case"StatusFTDINotInstalled":case"StatusDatabaseVersionDoesnotMatch":case"StatusRunningNoAidingDataAvailable":case"StatusExceptionOccurred":case"StatusTimeout":case"ThreadFinishTimeout":case"StatusServerNotFound":case"StatusDeviceRegistrationFailed":case"UpdateMessageCountsFailed":case"InvalidOrbcommCustomer":case"Alert":return"attention";case"StatusWaitingForUpgrade":case"StatusTryingToLock":case"CacheBusy":case"StatusDebug":return"info-circled";case"StatusUnknown":case"StatusMissing":return"question-mark";default:return"info-circled"}},et=function(n){return n.dateTimeEnd?new Date(n.dateTimeEnd)<new Date:!1},tt=function(n){nt=null;b=[];g.fireEvent("notificationsUpdated");n||g.detachEvents("notificationsUpdated");k.allNotificationsDismissed()},ot=function(t,i){var r=function(){rt(t);k.notificationDismissed([t]);d.fireEvent("Notification.Dismiss",{},{id:t.id});i&&i()};return n.call("DismissNotification",{notification:{id:t.id}}).beginInvoke(r,function(n){n&&n.isRelationViolatedException?r():a(n)})},dt=function(t){return n.setTimeoutInMilliseconds(9e5),n.call("DismissAllUserNotifications",{}).beginInvoke(function(){n.setTimeoutInMilliseconds(i.defaultTimeout);tt(!0);k.allNotificationsDismissed();d.fireEvent("Notifications.Dismiss",{},{});t&&t()},function(t){n.setTimeoutInMilliseconds(i.defaultTimeout);a(t)})},rt=function(n,t){for(var i=0;i<b.length;i++)if(b[i].id===n.id){b.splice(i,1);t||g.fireEvent("notificationsUpdated");break}k.notificationDismissed([n])},ut=function(n){var t={},i=n.notificationNewsData,r=n.notificationInfoData,u=n.notificationApplicationExceptionData!=null?n.notificationApplicationExceptionData:n.notificationExceptionForUsersData,f=n.notificationExceptionData;return n.state||(t.state=r?r.state:u?u.description:null,t.machineName=r?r.machineName:u?u.machineName:"",t.source=r?r.source:u?u.source:"",t.fullInfo=r?r.info:u?u.info:i?i.info.textFullInfo||i.info.textInfo:v.translateExceptionEvent(f),t.info=i&&i.info.textInfo?i.info.textInfo:t.fullInfo?t.fullInfo.length>200?t.fullInfo.substr(0,200):t.fullInfo:"",t.recipient=n.recipient,t.id=n.id,t.dateTime=n.dateTime,t.dateTimeEnd=n.dateTimeEnd,t.version=n.version,t.htmlInfo=i&&i.info?i.info.htmlInfo:null,f&&f.exceptionEvent&&(t.exceptionEvent=f.exceptionEvent)),r?t.type="Info":u?t.type="ApplicationException":f&&(t.type="Exception",t.state="Alert"),t.icon=kt(t.state),t.isDismissed=et(n),t},st=function(n){var r=n,u={},e=[],o={LogNewsPopup:k.showNewsPopup,LogPopup:k.showPopup,LogUrgentPopup:k.showUrgentPopup,Alarm:k.playAlarm},h=function(n){return n.id&&n.hasOwnProperty("version")&&n.recipient.recipientType&&n.recipient.recipientType!=="Email"},f={},t,i,s,c=bt();if(r&&r.length){for(r.sort(function(n,t){var i,r;return n.dateTime&&t.dateTime?(i=new Date(t.dateTime),r=new Date(n.dateTime),i-r):-1}),i=0;i<b.length;i++)f[b[i].id]=i;for(i=0;i<r.length;i++)t=ut(r[i]),h(t)&&(f&&f.hasOwnProperty(t.id)?(s=f[t.id],b[s]=t):(b.push(t),f[t.id]=b.length-1),!t.isDismissed&&t.recipient.recipientType?(u[t.recipient.recipientType]||(u[t.recipient.recipientType]=[]),u[t.recipient.recipientType].push(t)):e.push(t));Object.keys(o).forEach(function(n){u[n]&&o[n](u[n],c)});k.notificationDismissed(e);nt=r[0]?r[0].version:null;g.fireEvent("notificationsUpdated")}},ht=function(t){return n.call("GetUserNotifications",{startAfterVersion:nt}).beginInvoke(function(n){st(n);nt&&ct(nt).done(function(n){var t=!1;f.iterateEntities(n,function(n){t=t||rt(n,!0)});t&&g.fireEvent("notificationsUpdated")});t&&t()},function(n){g.fireEvent("notificationsUpdateFailed",g,[n])})},gt=function(){var i=[],t,u=function(n){return n.sort(function(n,t){var i,r;return n.dateTime&&t.dateTime?(i=new Date(t.dateTime),r=new Date(n.dateTime),i-r):-1})},r=function(f){n.call("GetUserNotifications",{startAfterVersion:f,resultsLimit:ft,isGetDismissed:!0}).beginInvoke(function(n){var o=null,s,f,e;if(n&&n.length){for(f=u(n),e=0;e<f.length;e++)s=f[e],s.isDismissed=!0,i.push(ut(s));o=f[0]?f[0].version:null;f.length===ft&&o!==null?r(o):t.resolve(i)}else t.resolve(i)},function(n){t.reject(n)})};return{fetch:function(n){return t=o.Deferred(),i=[],r(n||null),t}}},ct=function(n){return gt().fetch(n)},ni=function(n){return!n.type&&!n.verb?{type:"Notifications",verb:"Add",data:n}:n},ti=function(){return["notifications",n.token.database.toLowerCase(),n.token.userName.toLowerCase()].join("|")},d=r.NotificationCenter(ti,pt,ni),lt=function(){var n=[],t;return function(i){t||(t=setTimeout(function(){var i=n.slice(0);n=[];st(i);t=undefined},1500));n.push.apply(n,i.data)}}(),at=function(){tt(!0)},vt=function(n){rt(n.data)},ii=function(){d.attachEvent("Notifications.Add",{},lt);d.attachEvent("Notifications.Dismiss",{},at);d.attachEvent("Notification.Dismiss",{},vt);ht()},ri=function(){d.detachEvent("Notifications.Add",{},lt);d.detachEvent("Notifications.Dismiss",{},at);d.detachEvent("Notification.Dismiss",{},vt)},yt=function(){var n="TextTemplateDefaultExceptionRulePopupId";return{isDefault:function(t){return t&&t.notificationBinaryFile&&t.notificationBinaryFile.id===n},localize:function(n,t,i){return v.translateKey(n.notificationBinaryFile.text).replace("{device}",t).replace("{rule}",i)}}}(),g,k=l.default(n,t,v,ot,p,w,yt);return g=u.extend(s.default(),{isRunning:function(){return it},start:function(){it||(it=!0,tt(),ii())},stop:function(){it=!1;tt();ri()},dismissOne:function(n,t){return ot(n,t)},dismissAll:function(n){return dt(n)},update:function(n){return tt(),ht(n)},getNotifications:function(){return b},getDismissedNotifications:function(n){return ct(n)},getNotificationsCount:function(){return b&&b.length?b.length:0},getTemplateHelper:function(){return yt},isNotificationDismissed:et,getDeviceDataForNotification:k.getDeviceData,processNotification:ut})}Object.defineProperty(t,"__esModule",{value:!0});var r=require("./notificationCenter"),u=require("../vanillaExtension/vanilla"),f=require("./entityUtilities"),e=require("./channel/channel"),o=require("./deferred"),s=require("./eventHandler"),h=require("./browser"),c=require("./requestQuotas"),l=require("./ui/notificationsAlerter"),i=require("./transport");t.NotificationsService=a})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.notificationsService"),geotab.commonjs.generateExport("geotab.checkmate.notificationsService"));self.geotab && geotab.declare("geotab.checkmate.notificationsService");
(function(n,require,t){"use strict";function r(n,t,r){var f={},o={Remove:t||i.NOOP,Set:r||i.NOOP},s=function(n){return function(t){return n.indexOf(t.id||t)!==-1}},e=function(n){var u=n.data||[],i=f[n.type],e=i&&i.data,r,t;e&&(!e.length||u.some(s(e)))&&(r=(n.verb==="Set"?i.setCallback:i.removeCallback)(n.type,u),r!==!1&&(typeof r=="string"&&(t=o[r]),t=t||o[n.verb],t&&t(n.type,u)))},u;return u={lock:function(t,r,o,h,c){var l,v=!1,a=r?Array.isArray(r)?r:[r]:[];f[t]||(v=!0,f[t]={data:[],setCallback:o||i.NOOP,removeCallback:h||i.NOOP});l=f[t];(v||!a.every(s(l.data))||a.length!==l.data.length)&&(l.data.length||(n.attachEvent(t+".Set",c||u,e),n.attachEvent(t+".Remove",c||u,e)),a&&(l.data=l.data.concat(a)),l.setCallback=o||l.setCallback||i.NOOP,l.removeCallback=h||l.removeCallback||i.NOOP)},unlock:function(t,i,r,o){var s=f[t],h=s?s.data.slice():[],l=r||[],c,a=function(){n.detachEvent(t+".Set",o||u,e);n.detachEvent(t+".Remove",o||u,e);s.data.length=0;s.setCallback=null;s.removeCallback=null};s&&(l.length?(c=l.reduce(function(n,t){return n[t]=!0,n},{}),h=h.filter(function(n){return c[n]}),h.length?s.data=s.data.filter(function(n){return!c[n]}):h=null):a(),s.data.length||a(),i&&h&&n.fireEvent(t+"."+i,o||u,h))},change:function(t,i,r,e){var h=f[t],s=h?h.data.slice():[],o=r||[];o.length&&(o=o.filter(function(n){return s.indexOf(n)>-1}),s=o.length?o:null);i&&s&&n.fireEvent(t+"."+i,e||u,s)},fire:function(n,t,i){e({data:i?i.slice():[],type:n,verb:t})},carryLocker:function(n,t,i){var r;return r={lock:function(f,e,o){u.lock(n,f,e||t,o||i,r)},unlock:function(t,i){u.unlock(n,t,i,r)},change:function(t,i){u.change(n,t,i,r)},fire:function(t,i){u.fire(n,t,i)}}}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../utils");t.ResourcesLocker=r})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.resourcesLocker"),geotab.commonjs.generateExport("geotab.checkmate.resourcesLocker"));self.geotab && geotab.declare("geotab.checkmate.resourcesLocker");
(function(n,require,t){"use strict";function r(n,t,r,u,f){var s=function(n,t){var i=function(n){return n.id||n},r=(n[t]||[]).map(i).sort(),f=(u[t]||[]).map(i).sort();return r.length===f.length&&r.join("")===f.join("")},h=function(n){return n.isLabsEnabled!==u.isLabsEnabled},o={},e=function(o){var c=o.data.some(function(n){var t=n.id?n.id:n;return t===u.id});c&&n.call("Get",{typeName:"User",search:{id:u.id}}).beginInvoke(function(u){var o=u[0];o&&o.companyGroups?(t.setCultureInfo(n,o,!0,i.NOOP,f),s(o,"securityGroups")||r.fireEvent("currentUserSecurityGroupsUpdate",e,o,!0),s(o,"companyGroups")||r.fireEvent("currentUserCompanyGroupsUpdate",e,o,!0),h(o)&&r.fireEvent("currentUserFeaturePreviewUpdate",e,o,!0),r.fireEvent("currentUserUpdate",e,o,!0)):r.fireEvent("currentUserCompanyGroupsUpdate",e,o,!0)},f)};return r.attachEvent("User.Set",o,e),u.securityGroups.length&&!t.isSystemGroup(u.securityGroups[0].id)&&r.attachEvent("Group.Set",{},function(n){var t=n.data.some(function(n){var t=n.id?n.id:n;return t===u.securityGroups[0].id});t&&r.fireEvent("currentUserSecurityGroupsUpdate",o,u,!0)}),{stop:function(){r.detachEvent("User.Set",o,e)}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../utils");t.default=r})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.localeSettingsMonitor"),geotab.commonjs.generateExport("geotab.checkmate.localeSettingsMonitor"));self.geotab && geotab.declare("geotab.checkmate.localeSettingsMonitor");
(function(n,require,t){"use strict";function l(n){i.push(n);r||(r=!0,window.addEventListener("hashchange",s,!0))}function a(){window.removeEventListener("hashchange",s,!0);r=!1}function v(n,t){(n||window.location.hash)&&(t?window.location.hash="#"+n.replace(f,""):window.location.replace("#"+n.replace(f,"")));o(!0)}function h(){return window.location.hash.replace(f,"")}Object.defineProperty(t,"__esModule",{value:!0});var c=require("../utils"),e=window.location.hash,i=[],r=!1,u=function(){var t=[];return{add:function(i){t.push({url:c.clearUrlFromPrivateInfo(i),offset:(new Date).getTime()-n.diagnostics.startTime})},all:t}}(),o=function(n){var t;if(e!==window.location.hash)for(e=window.location.hash,u.add(window.location.hash),t=0;t<i.length;t++)i[t](!n)},s=function(){o(!1)},f=/#/;t.change=l;t.destroy=a;t.set=v;t.get=h;t.history=u.all;u.add("#"+h());n.declare("geotab.checkmate");n.checkmate.address=n.commonjs.require("geotab.checkmate.address")})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.address"),geotab.commonjs.generateExport("geotab.checkmate.address"));self.geotab && geotab.declare("geotab.checkmate.address");
(function(n,require,t){"use strict";function s(){var l=function(){var t,i={},r=n||{};for(t in r)i[t]={};return i},a=function(n){var t,i=l();if(!n)return!1;for(t in i)if(!(t in n))return!1;return!0},v=function(){return r.decode(u.get())||{}},n=null,t={},e=function(n){var t=r.encode(n);return t?"#"+t:""},s=function(n,t){var i=typeof n=="string"?n:e(n);u.set(i,t)},y=function(t){var r=function(r){var u={};return u[t]=r||{},i.extend({},n,u)};return{getHash:function(n){return e(r(n))},setHash:function(t,i){n=r(t);s(n,i)}}},p=function(i){var r=n||{};return t[i]||(r[i]=r[i]||{},t[i]=o(i,r[i],y(i))),t[i]},w=function(n){return a(n)||(n=l(),s(n,!1)),n},h="",b=function(){window.location.hash=h},c=function(){var n;try{n=w(v());h=window.location.hash.slice(1)}catch(t){console.log("Invalid url '"+window.location.hash+"'. Stepping back to '#"+h+"'");b();n||(n=c())}return n};return n=c(),u.change(function(i){var r;n=c();r=n||{};Object.keys(r).forEach(function(n){var u=t[n],e=null,o=r[n];u&&(e=u.get(),f.objectsAreEqual(e,o)||u.set(o,!1,i))})}),{getState:p,getHash:function(n){return n?e(n):u.get()},setHash:function(n,t){s(n,t)},encodeUrl:r.encode,decodeUrl:r.decode}}Object.defineProperty(t,"__esModule",{value:!0});var f=require("../../utils"),i=require("../../vanillaExtension/vanilla"),e=require("../eventHandler"),r=require("./urlCoder"),u=require("../address"),o=function(n,t,u){var o=t,s;return s=i.extend({get:function(){return r.clearUndefined(i.extend({},o))},set:function(n,t,r){var e;n=n||{};f.objectsAreEqual(o,n)||(e=i.extend({},o),o=n,r||u.setHash(o,t),s.fireEvent("change",this,[o,e,!!r]))},add:function(n,t,r){var u={},f;typeof n=="string"?u[n]=t:u=n;f=i.extend({},o,u);s.set(f,r)},remove:function(n,t){var r=i.extend({},o);delete r[n];s.set(r,t)},getHash:function(n){return u.getHash(i.extend(!0,{},n||{}))},getName:function(){return n}},e.default())};t.default=s})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.urlState"),geotab.commonjs.generateExport("geotab.checkmate.ui.urlState"));self.geotab && geotab.declare("geotab.checkmate.ui.urlState");
(function(n,require,t){"use strict";function f(t,f){var e=u.default(t,undefined,["call"]),o=f?f:900;return e.call=function(){var u=t.call.apply(t,arguments),e=n.bind(u,u.beginInvoke),f=[],s=function(n,t){for(var r=n.length,e=Math.round(r/t)||1,u=Math.ceil(r/e),f=[],i=0;i<r;)f.push(n.slice(i,i+u)),i+=u;return f};return u.beginInvoke=function(n,h,c){var a=[],l=u.params.calls,v=function(n,t){var u=typeof t=="function"?t:function(){return t},e=n?"resolve":"reject",o=f.map(function(n,t){return n&&n[e].call(n,u(t))}).filter(i.echo);return f.length=0,r.together(o)},y=function(t){var i=v(!0,function(n){return t[n]});return n(t),i},p=function(n){v(!1,n);h(n)},k=function(n){return function(){return y(n)}},w=c||o,b=l&&l.length>w?s(l,w):[];return u.isMultiCall()&&b.length>1?b.reduce(function(n){return function(r,u){var f=function(){var r=t.call().andAlso();return r.params.calls=u,r.beginInvoke(function(t){t.length===1?n.push(t[0]):n.splice.apply(n,[n.length].concat([1]).concat(t))},i.NOOP)};return r&&r.andThen(f)||f()}}(a),null).andThen(k(a)).fail(p):e(i.NOOP,i.NOOP).andThen(function(n){return u.isMultiCall()||(n=[n]),y(n)}).fail(p)},function(n){var t=function(){return f[f.length-1]},i=function(){return f.push(null),t()},u=function(){var n=r.Deferred();return f[f.length-1]=n,n},e=n.andAlso;i();n.andAlso=function(){return i(),e.apply(n,arguments)};n.call=n.andAlso;n.promise=function(){var n=t();return n||(n=u()),n.promise()}}(u),u},e}Object.defineProperty(t,"__esModule",{value:!0});var r=require("./deferred"),i=require("../utils"),u=require("./proxyObject");t.default=f})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.sliceableConnection"),geotab.commonjs.generateExport("geotab.checkmate.sliceableConnection"));self.geotab && geotab.declare("geotab.checkmate.sliceableConnection");
(function(n,require,t){"use strict";function r(n){return function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];return!n.apply(null,i)}}function u(){for(var i,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return i=t.slice(),function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return i.some(function(n){return!!n.apply(null,t)})}}function f(){for(var i,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return i=t.slice(),function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return i.every(function(n){return!!n.apply(null,t)})}}function e(n){return function(){return n}}function o(n){var t=i.take;return n in t||(t[n]=new Function("obj",typeof n=="number"?"return obj["+n.toString()+"];":"return obj."+n+";")),t[n]}function s(n){return function(t){var i={};return i[n]=t,i}}function h(){for(var i,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return i=t.slice(),function(n){return i.reduce(function(n,t){return t(n)},n)}}function c(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return n.apply(null,i.concat(r))}}function l(n){var t=!1,i=undefined;return function(){for(var u=[],r=0;r<arguments.length;r++)u[r]=arguments[r];return t||(i=n.apply(null,u),t=!0),i}}function a(n){return function(t){return t===n}}Object.defineProperty(t,"__esModule",{value:!0});var i={take:{}};t.not=r;t.or=u;t.and=f;t.func=e;t.exec=function(n){return n.apply(null,Array.prototype.slice.call(arguments,1))};t.take=o;t.put=s;t.pipe=h;t.echo=function(n){return n};t.curry=c;t.memoize=l;t.equalsTo=a;n.declare("geotab.checkmate");n.checkmate.functional=n.commonjs.require("geotab.checkmate.functional")})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.functional"),geotab.commonjs.generateExport("geotab.checkmate.functional"));self.geotab && geotab.declare("geotab.checkmate.functional");
(function(n,require,t){"use strict";function u(n){return n&&!n.hasOwnProperty("length")&&(n=Object.keys(n).length?[n]:[]),n||[]}function f(n){return n[0]||null}function i(n){if(n){if(Array.isArray(n))return n.forEach(i),Object.freeze(n);if(typeof n=="object")return e.forEach(function(t){n[t]&&typeof n[t]=="object"&&i(n[t])}),Object.freeze(n)}return n}function r(n){return n&&(Array.isArray(n)?n.forEach(r):typeof n=="object"&&(Object.keys(n).forEach(function(t){r(n[t])}),Object.freeze(n))),n}Object.defineProperty(t,"__esModule",{value:!0});t.toResultArray=u;t.toResultObject=f;var e=["children","details"];t.freeze=i;t.deepFreeze=r;n.declare("geotab.checkmate.entitiesLoaderModules");n.checkmate.entitiesLoaderModules.utils=n.commonjs.require("geotab.checkmate.entitiesLoaderModules.utils")})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.entitiesLoaderModules.utils"),geotab.commonjs.generateExport("geotab.checkmate.entitiesLoaderModules.utils"));self.geotab && geotab.declare("geotab.checkmate.entitiesLoaderModules.utils");
(function(n,require,t){"use strict";function i(n,t,i){var r={},f=i||function(n){switch(n){case null:return"null";case undefined:return"undefined";default:return n.toString()}},u=0,e=function(){u===0&&h()},s=function(){var n=Date.now(),t=Object.keys(r).reduce(function(t,i){return r[i].timestamp<=n?(delete r[i],t):t+1},0);o();t>0&&e()},h=function(){o();u=setTimeout(s,n)},o=function(){u!==0&&(clearTimeout(u),u=0)},c=function(t,i){var u=f(t);r[u]={timestamp:Date.now()+n,key:u,value:i};e()},l=function(n){var u=f(n),i=r[u];return i?(t&&(i.timestamp=Infinity),i.value):null},a=function(n){var t=f(n),i=r[t]!==undefined;i&&delete r[n];e()},v=function(){r={};o()};return{getItem:l,setItem:c,deleteItem:a,hasItem:function(n){return f(n)in r},keys:function(){return Object.keys(r)},clear:v}}Object.defineProperty(t,"__esModule",{value:!0});t.default=i})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.models.cache"),geotab.commonjs.generateExport("geotab.checkmate.ui.models.cache"));self.geotab && geotab.declare("geotab.checkmate.ui.models.cache");
(function(n,require,t){"use strict";function s(n,t,s,h){var l=+s.milliseconds,a=typeof s.unwrapCollections=="undefined"?!0:!!s.unwrapCollections,c="list_";return{name:n,init:function(n,v,y){var w=(h||o)(t,v),p=[],b=f.default(l||1,!!s.updateTTLOnAccess),tt=b.getItem,d=function(n,t,r){b.setItem(n,r?t:i.resolve(Object.freeze(t)))},k=b.deleteItem,it=function(n){var r=function(n){return n.id!==undefined},u=function(n){return n.id||n},f=function(n){d(u(n),n)},t="__entitiesLoaderCacheOptimized";return!i.isPromise(n)||t in n||(n[t]=!0,n.done(function(i){i.length<e?i.filter(r).forEach(f):n[t]=!1})),n},rt=function(){return b.keys().filter(function(n){return n.indexOf(c)===0})},g=function(){rt().forEach(k)},ut=function(n){if(!n)throw new Error((t||"Item")+" id cannot be empty");return p.indexOf(n)!==-1?i.resolve(null):nt(n,{id:n},r.toResultObject)},ft=function(n,t){return g(),k(n),w.setItem(t)},nt=function(n,t,r,u){var f=tt(n);if(f)if(i.isPromise(f))i.isDone(f)||y(f);else throw new Error("We shouldn't store non-promises in cache");else f=w.getItem(t,u),r&&(f=i.resolve(f).then(r)),d(n,f,!0),f.always(function(){k(n)}),f.done(function(t){d(n,t)});return f};return{getItemById:function(n){return ut(n)},getItemsByValue:function(n,t){var u=c+JSON.stringify(n),i=nt(u,n,r.toResultArray,t),f=function(n){return p.indexOf(n.id)===-1};return a?it(i).then(function(n){return p.length>0?n.filter(f):n.slice()}):i},clearCache:b.clear,setItem:function(n){return p.indexOf(n.id)!==-1?i.reject(new u.NotSevereError("Cannot update item scheduled for removal")):ft(n.id,n)},removeItem:function(n){var r=n.id;return p.indexOf(r)!==-1?i.reject(new u.NotSevereError((t||"Item")+" with id "+r+" is already scheduled for removal")):(p.push(r),k(r),g(),w.removeItem(n).always(function(){var n=p.indexOf(r);n!==-1&&p.splice(n,1)}))},addItem:function(n){return g(),w.addItem(n)},countOf:w.countItem,typeName:t||"Unknown"}}}}Object.defineProperty(t,"__esModule",{value:!0});var f=require("../ui/models/cache"),i=require("../deferred"),r=require("./utils"),u=require("../exceptions/commonExceptions"),e=3e4,o=function(n,t){var r=function(n,i){return t(n,i).promise()},i=function(t){return function(i){return r(t,{typeName:n,entity:i})}};return{getItem:function(t,i){var u={typeName:n};return t&&Object.keys(t).length&&(u.search=t),i&&(u.resultsLimit=i),r("Get",u)},setItem:i("Set"),removeItem:i("Remove"),addItem:i("Add"),countItem:i("GetCountOf")}};t.default=s})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.entitiesLoaderModules.entityModule"),geotab.commonjs.generateExport("geotab.checkmate.entitiesLoaderModules.entityModule"));self.geotab && geotab.declare("geotab.checkmate.entitiesLoaderModules.entityModule");
(function(n,require,t){"use strict";function f(n,t,f){var e=function(n){return function(){throw new r.NotSupported(n);}};return{name:n,init:function(r,o,s){var h=function(n,r){var u=function(n,t){return function(){var u=Array.prototype.slice.call(arguments),f=u[0];return u.length===1&&i.isPromise(f)?(s(f),f):n.apply(t,[{call:function(n,t){return r(n,t).promise()}}].concat(u))}};return["getItem","setItem","addItem","removeItem","countItem"].reduce(function(n,i){return n[i]=i in t?u(t[i],t):e(i),n},{})};return u.default(n,f.typeName||"NONAME",f,h).init(r,o,s)}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../deferred"),r=require("../exceptions/commonExceptions"),u=require("./entityModule");t.default=f})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.entitiesLoaderModules.methodModule"),geotab.commonjs.generateExport("geotab.checkmate.entitiesLoaderModules.methodModule"));self.geotab && geotab.declare("geotab.checkmate.entitiesLoaderModules.methodModule");
(function(n,require,t){"use strict";function u(n,t){var u=function(n,t,i,r){return(n||0).toString()+"_"+(t||0).toString()+"_"+i.toString()+"_"+r.toString()},e=+t.milliseconds,o=function(n){var u={"true":{request:null,promise:null,perAddressPromises:[]},"false":{request:null,promise:null,perAddressPromises:[]}},t=function(n){n.request=null;n.promise=null;n.perAddressPromises=[]};return{getAddress:function(f,e,o,s){var l=i.Deferred(),a={x:e,y:f},h=u[(!!o).toString()],v=h.request&&Object.isFrozen(h.request),y="GetAddresses",w=function(n){var t,i;if(n.isMultiCall()){for(i=n.params.calls,t=0;t<i.length;t++)if(i[t].method===y)return i[t].params.coordinates;return null}return n.params.coordinates},p=function(n,t){n.forEach(function(n){n.reject(t)})},c;return h.request&&!v?w(h.request).push(a):(h.request&&v&&t(h),h.request=n(y,{coordinates:[a],movingAddreses:o,hosAddresses:s}),h.promise=h.request.promise(),h.request.isMultiCall()&&(c=h.request.params.calls,h.request=c[c.length-1]),h.promise.done(function(n){return function(t){t=r.toResultArray(t);t.length!==n.length?p(n,new Error("Amount of given promises and received results is not the same! Something went wrong")):n.forEach(function(n,i){n.resolve(t[i])})}}(h.perAddressPromises)).fail(function(n){return function(t){p(n,t)}}(h.perAddressPromises)).always(function(n,i){return function(){n===i.promise&&t(i)}}(h.promise,h))),h.perAddressPromises.push(l),l}}};return{name:n,init:function(n,s,h){var c=f.default(e||1,!!t.updateTTLOnAccess),a=c.getItem,l=function(n,t,u){c.setItem(n,u?t:i.promisify(r.freeze(t)))},v=c.deleteItem,y=o(s);return{getItemByCoordinates:function(n,t,r,f){f===void 0&&(f=!1);var c=function(n){return function(t){for(var r=0,i=0;i<n.length;i++)if(r=t[n[i]],typeof r!="undefined")return r;return r}},s=typeof n=="object",p=s?c(["latitude","lat","y"])(n):n,w=s?c(["longitude","lng","x"])(n):t,b=!!(s?t:r),o=u(p,w,b,f),e=a(o);return e?i.isDone(e)||h(e):(e=y.getAddress(p,w,b,f),l(o,e,!0),e.always(function(){v(o)}),e.done(function(n){l(o,n)})),e}}}}}Object.defineProperty(t,"__esModule",{value:!0});var f=require("../ui/models/cache"),i=require("../deferred"),r=require("./utils");t.default=u;n.declare("geotab.checkmate.entitiesLoaderModules");n.checkmate.entitiesLoaderModules.addressModule=u})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.entitiesLoaderModules.addressModule"),geotab.commonjs.generateExport("geotab.checkmate.entitiesLoaderModules.addressModule"));self.geotab && geotab.declare("geotab.checkmate.entitiesLoaderModules.addressModule");
(function(n,require,t){"use strict";function r(n,t,r){return{name:n,init:function(e,o,s){var h=f.default(n,t,r).init(e,o,s);return u.extend(h,{warmUp:function(){h.getItemsByValue(null,undefined)},isEntireOrganization:function(n){return!!(n&&(n.id||n)===i)},getRelationshipSummary:function(){return h.getItemsByValue(null,undefined).then(function(n){var u=n.reduce(function(n,t){return t.children.forEach(function(i){n[i.id]=t.id||t}),n},{}),r=function(n,t){var i=u[n];return!!i&&(i===t||r(i,t))},t;return t={isParentOf:function(n,i){return t.isChildOf(i,n)},isChildOf:function(n,t){return n!==i&&n?t===i||r(n,t):!1},isRelativeOf:function(n,i){return n===i||t.isParentOf(n,i)||t.isChildOf(n,i)}}})}})}}}Object.defineProperty(t,"__esModule",{value:!0});var u=require("../../vanillaExtension/vanilla"),f=require("./entityModule"),i="GroupCompanyId";t.default=r;n.declare("geotab.checkmate.entitiesLoaderModules");n.checkmate.entitiesLoaderModules.groupsModule=r})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.entitiesLoaderModules.groupsModule"),geotab.commonjs.generateExport("geotab.checkmate.entitiesLoaderModules.groupsModule"));self.geotab && geotab.declare("geotab.checkmate.entitiesLoaderModules.groupsModule");
(function(n,require,t){"use strict";function r(n){var r=function(n,t){var i=t&&t.length?t.map(e.take("name")):[];return Object.create(n,{tripAddress:{value:i.join(", ")||n.formattedAddress||n.street},isZone:{value:!!i.length},zones:{value:t}})},t,h=function(){var r,u=i.promisify(null),n=null;return function(i){return n?n:(clearTimeout(r),r=setTimeout(function(){n=null},1),n=t?i.groups.getRelationshipSummary():u)}}(),l=function(n,t,i){return n.some(function(n){return t.some(function(t){return i.isRelativeOf(n.id,t.id)})})},c=function(n,t,i){return t&&i?l(n.groups,t,i):!0};return{name:n,init:function(n,e,l){var a=function(t){return n.zones.getItemById(t.id)};if("addresses"in n||(console.warn("No addresses module found in entitiesLoader. Initializing addresses first"),n.initModule(f.default("addresses",{milliseconds:o,unwrapCollections:!1}))),!("exceptionEvents"in n))throw new Error("No exceptionEvents module has been found in entitiesLoader.");return{getItemByCoordinates:function(u,f,e){return n.addresses.getItemByCoordinates(u,f,e).then(function(u){return u.zones&&u.zones.length?l(i.together([i.promisify(t),h(n),i.together(u.zones.map(a))]).then(function(n){var i=n[0],f=n[1],t=n[2],e=(new Date).toISOString();return t=t.filter(function(n){return n&&n.displayed&&n.activeTo>e&&n.mustIdentifyStops}),t=t.filter(function(n){return n&&c(n,i,f)}),r(u,t.slice(0,s))})):r(u,u.zones)})},getItemByTrip:function(u){var o=function(n){var t=new Date(n.stop).getTime(),i=t-1e3,r=new Date(i).toISOString(),u=function(n,t){return n>t?n:t};return u(r,n.start)},s=function(t){return n.exceptionEvents.getItemsByValue({fromDate:o(t),toDate:t.nextTripStart,deviceSearch:{id:t.device.id}})},l=function(t){return t.stopPoint?n.addresses.getItemByCoordinates(t.stopPoint,!1):i.promisify({formattedAddress:""})},a=function(r){var u=i.promisify(t),f=h(n),e=function(n){return i.together([i.promisify(n),u,f]).then(function(n){var t=n[0],i=n[1],r=n[2];return t.filter(function(n){return n&&c(n,i,r)})})};return s(r).then(v).then(y).then(p).then(w).then(b).then(e)},v=function(n){return Object.keys(n.reduce(function(n,t){return n[t.rule.id]=!0,n},{}))},y=function(t){return i.together(t.map(n.rules.getItemById))},p=function(n){return n.filter(k)},w=function(n){return Object.keys(n.reduce(function(n,t){return n[t.condition.zone.id]=!0,n},{}))},b=function(t){return i.together(t.map(n.zones.getItemById))},k=function(n){return n.condition.conditionType==="ZoneStop"},f,e;return f=l(u),e=a(u),i.together([f,e]).then(function(n){var t=n[0],i=n[1];return r(t,i)})},setFilter:function(n){t=u.isEntireOrganization(n)?null:n}}}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../deferred"),u=require("../../utils"),f=require("./addressModule"),e=require("../functional"),o=12e4,s=6;t.default=r;n.declare("geotab.checkmate.entitiesLoaderModules");n.checkmate.entitiesLoaderModules.tripAddressModule=r})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.entitiesLoaderModules.tripAddressModule"),geotab.commonjs.generateExport("geotab.checkmate.entitiesLoaderModules.tripAddressModule"));self.geotab && geotab.declare("geotab.checkmate.entitiesLoaderModules.tripAddressModule");
(function(n,require,t){"use strict";function h(n,t){var i=u(t,f);return n.filter(function(n){return i.belongsToValidPeriod(n.dateTime)})}function c(n,t){var i=u(t,f);return n.reduce(function(n,t,r){if(i.belongsToValidPeriod(t.dateTime))n.push(t);else{var u=n[r-1],f=void 0;f=u?{latitude:u.latitude,longitude:u.longitude}:{latitude:0,longitude:0};n.push(o.extend({},t,f))}return n},[])}function l(n){var t=function(n,t){var i=!t.start||t.start<n,r=!t.end||t.end>n;return i&&r},r=function(n,t,i){return n<=(i.start||0)&&t>=(i.end||0)},i=e(n);return function(n,u){for(var f={isPrivate:!1,isWholePeriodPrivate:!1},e=0,c=i.length;e<c;++e){var o=i[e],s=t(n,o),h=t(u,o);if(s||h||r(n,u,o)){f.isPrivate=!0;f.isWholePeriodPrivate=s&&h;break}}return f}}var i,e;Object.defineProperty(t,"__esModule",{value:!0});var r=require("../../utils"),o=require("../../vanillaExtension/vanilla"),s="Private",u=function(n,t){var i=n.slice().sort(r.getSortByPropertiesArrayCallback("dateTime")),u=function(n){for(var t=i.length-1;t>-1;t--)if(i[t].dateTime<=n)return t;return-1};return{belongsToValidPeriod:function(n){var r=u(n),f=r===-1?i.length-1:r+1;return r!==-1?t(i[r]):f!==-1?!t(i[f]):!0}}},f=function(n){return n.data};t.removeInvalidLogs=h;t.fixInvalidLogs=c;i=function(n,t){return{start:n,end:t}};e=function(n){return n.slice().sort(r.getSortByPropertiesArrayCallback("dateTime")).reduce(function(n,t){var r=n[n.length-1];return t.tripType===s?(!r||r.end)&&n.push(i(t.dateTime,null)):r?r.end||(r.end=t.dateTime):n.push(i(null,t.dateTime)),n},[])};t.isPrivateType=l})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.tripsProcessing.logRecordsProcessor"),geotab.commonjs.generateExport("geotab.checkmate.tripsProcessing.logRecordsProcessor"));self.geotab && geotab.declare("geotab.checkmate.tripsProcessing.logRecordsProcessor");
(function(n,require,t){"use strict";function f(n){var f=function(n){if(!("logRecords"in n))throw new Error("validLogRecordsModule depends on logRecords module which was not initialized");if(!("statusData"in n))throw new Error("validLogRecordsModule depends on statusData module which was not initialized");},e=function(n){return r.extend({},n,{diagnosticSearch:{id:"DiagnosticPositionValidId"}})},t=function(n,t,i){return u.together([n.logRecords.getItemsByValue(t,i),n.statusData.getItemsByValue(e(t),i)])};return{name:n,init:function(n){return f(n),{getItemsByValue:function(r,u){return t(n,r,u).then(function(n){var t=n[0],r=n[1];return i.removeInvalidLogs(t,r)})},getFixedItemsByValue:function(r,u){return t(n,r,u).then(function(n){var t=n[0],r=n[1];return i.fixInvalidLogs(t,r)})}}}}}Object.defineProperty(t,"__esModule",{value:!0});var r=require("../../vanillaExtension/vanilla"),u=require("../deferred"),i=require("../tripsProcessing/logRecordsProcessor");t.default=f})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.entitiesLoaderModules.validLogRecordsModule"),geotab.commonjs.generateExport("geotab.checkmate.entitiesLoaderModules.validLogRecordsModule"));self.geotab && geotab.declare("geotab.checkmate.entitiesLoaderModules.validLogRecordsModule");
(function(n,require,t){"use strict";function e(n,t,i){return{driver:{id:t},comment:n.replace(/[\r\n|\r|\n]+/," "),dateTime:(i||new Date).toISOString()}}function o(n,t){var i=n.translateKey("ChangedRuleSetAnnotation"),r=n.translateKey("hos_"+t);return i.replace("{0}",r).replace("{1}",n.toShortDateTime(new Date))}function s(n,t,i,r,u){return t.dutyStatusLogsWithModifications.getItemsByValue({fromDate:new Date,toDate:new Date,includeBoundaryLogs:!0,statuses:["D","ON","SB","OFF","YM","PC","WT"],userSearch:{id:u}}).then(function(s){var l=[o(n,i),r],c=new Date(Date.now()-l.length),a=l.reduce(function(n,t){return t&&n.push(e(t,u,c)),c.setMilliseconds(c.getMilliseconds()+1),n},[]),h;return s&&s.length>0?(s.sort(function(n,t){return n.dateTime>t.dateTime?-1:1}),h=f.extend({},s[0]),h.annotations=h.annotations||[],a.forEach(function(n){return h.annotations.push(n)}),t.dutyStatusLogs.setItem(h)):t.dutyStatusLogs.addItem({dateTime:new Date,status:"OFF",device:"NoDeviceId",driver:{id:u},origin:"Manual",annotations:a})})}function h(n){return{ON:!0,OFF:!0,D:!0,SB:!0,INT_PC:!0,INT_D:!0,PC:!0,YM:!0,WT:!0,Login:!0,Logoff:!0,Certify:!0}[n]}function c(n){return n&&(n===t.UNKNOWN_DRIVER_ID||n.id&&n.id===t.UNKNOWN_DRIVER_ID)?!0:!1}function l(n,t){return["SB","OFF",""].indexOf(n||"")>-1||(n==="D"||n==="ON")&&i(t)?!0:!1}function r(n){return n&&(n===t.UNKNOWN_DEVICE_ID||n.id&&n.id===t.UNKNOWN_DEVICE_ID)}function a(n,t,u){var f;return(f=i(t)?r(u)?["ON","OFF"]:["D","ON","SB","OFF"]:["ON","SB","OFF"],f.indexOf(n)>-1)?!0:!1}function v(n){return n.status!=="INT_D"&&i(n.origin)&&u(n)?!0:!1}function u(n){return(["Login","Logoff","Certify","PC","INT_PC","INT_D","EnginePowerupPC","EngineShutdownPC","YM","WT","Authority"].indexOf(n.status)>-1)?!1:!0}function i(n){return t.AUTOMATIC_ORIGINS.every(function(t){return n!==t})}function y(n){return t.AUTOMATIC_ORIGINS.some(function(t){return n.origin===t})}function p(n){return n.state&&n.state==="Inactive"?!0:!1}Object.defineProperty(t,"__esModule",{value:!0});var f=require("../../../vanillaExtension/vanilla");t.DRIVER_STATUSES=["ON","OFF","SB","D","YM","PC","WT"];t.DRIVER_STATUSES_WITH_INT=["ON","OFF","SB","D","YM","PC","WT","INT_D","INT_PC"];t.ENGINE_STATUSES=["EnginePowerup","EngineShutdown","EnginePowerupPC","EngineShutdownPC"];t.AUTOMATIC_ORIGINS=["Automatic","Unassigned"];t.UNKNOWN_DRIVER_ID="NoUserId";t.UNKNOWN_DEVICE_ID="NoDeviceId";t.saveExemptAnnotation=s;t.isInlineStatus=h;t.isUnknownDriver=c;t.canEditStatus=l;t.isNoDevice=r;t.canEditToStatus=a;t.canEditDeviceDateTime=v;t.canEditDriver=u;t.isManualLog=i;t.isAutomaticLog=y;t.isInactiveLog=p})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.hosTools.hosUtils"),geotab.commonjs.generateExport("geotab.checkmate.ui.hosTools.hosUtils"));self.geotab && geotab.declare("geotab.checkmate.ui.hosTools.hosUtils");
(function(n,require,t){"use strict";function nt(n,t){t===void 0&&(t=!1);var o=l.default(n),b=!t,r=[],u,f,y=function(){f&&(clearTimeout(f),f=null)},p=function(){var n,t;return u&&(n=u.beginInvoke(h.NOOP,h.NOOP),v.deepFreeze(u),u=null,y()),r=r.filter(a.not(c.isDone)),r.length?(t=d(c.together(r),"Promises resolved"),r.length=0,n?n.andThen(t):t):n||s.resolved()},k=function(){f||(y(),f=setTimeout(function(){f=null;p()},0))},w=function(n,t){return k(),u=(u||o).call(n,t)},nt=function(n,t){return w(n,t).promise()},e=[],i={initModule:function(n){var t=n.init(i,w,function(n){return r.push(n),n});e.push(t);i[n.name]=t},getCredentials:function(){var n=o.token;return n?{database:n.database,sessionId:n.sessionId,userName:n.userName}:null},call:nt,sendRequests:function(){p()},clearCache:function(){Object.keys(i).forEach(function(n){"clearCache"in i[n]&&i[n].clearCache()})},listenToDataMutationEvents:function(n){n.hasEvent(e[0].typeName+".Set",e[0].clearCache)||e.forEach(function(t){var i=t.typeName,r;i&&t.clearCache&&(r=i+".Set,"+i+".Remove,"+i+".Add",n.attachEvent(r,{},t.clearCache))})}};return b&&g.forEach(i.initModule),i}Object.defineProperty(t,"__esModule",{value:!0});var l=require("./sliceableConnection"),s=require("./task"),h=require("../utils"),c=require("./deferred"),a=require("./functional"),v=require("./entitiesLoaderModules/utils"),i=require("./entitiesLoaderModules/entityModule"),e=require("./entitiesLoaderModules/methodModule"),y=require("./entitiesLoaderModules/addressModule"),p=require("./entitiesLoaderModules/groupsModule"),w=require("./entitiesLoaderModules/tripAddressModule"),b=require("./entitiesLoaderModules/validLogRecordsModule"),k=require("./ui/hosTools/hosUtils"),d=function(n,t){var i=s.toTask(n);return i.setName(t||"Requesting entities task"),i},f=0,o=2e4,r=7e4,u=12e4,g=[i.default("devices","Device",{milliseconds:o}),i.default("trailers","Trailer",{milliseconds:o}),i.default("rules","Rule",{milliseconds:r}),i.default("zones","Zone",{milliseconds:r}),i.default("routes","Route",{milliseconds:r}),i.default("logRecordZoneDistance","LogRecordZoneDistance",{milliseconds:r}),i.default("eventRules","EventRule",{milliseconds:r}),i.default("certificates","Certificate",{milliseconds:r}),i.default("eventOccurrences","EventOccurrence",{milliseconds:r}),i.default("eventTypes","EventType",{milliseconds:r}),i.default("statusData","StatusData",{milliseconds:r}),i.default("tripTypeChange","TripTypeChange",{milliseconds:u,unwrapCollections:!1}),i.default("logRecords","LogRecord",{milliseconds:u,unwrapCollections:!1}),i.default("unitsOfMeasure","UnitOfMeasure",{milliseconds:r}),i.default("workTimes","WorkTime",{milliseconds:u}),i.default("exceptionEvents","ExceptionEvent",{milliseconds:r,unwrapCollections:!1}),i.default("exceptionEventsNoCache","ExceptionEvent",{milliseconds:f,unwrapCollections:!1}),i.default("faultData","FaultData",{milliseconds:r}),i.default("engineTypes","EngineType",{milliseconds:r}),i.default("failureModes","FailureMode",{milliseconds:r}),p.default("groups","Group",{milliseconds:o}),i.default("users","User",{milliseconds:o}),i.default("driverChanges","DriverChange",{milliseconds:f}),i.default("trips","Trip",{milliseconds:u,unwrapCollections:!1}),i.default("tripsNoCache","Trip",{milliseconds:f,unwrapCollections:!1}),i.default("deviceStatusInfo","DeviceStatusInfo",{milliseconds:f}),i.default("systemSettings","SystemSettings",{milliseconds:r}),i.default("radioDownloaders","RadioDownloader",{milliseconds:f}),i.default("workHolidays","WorkHoliday",{milliseconds:f}),e.default("setDeviceBlackList",{setItem:function(n,t){return n.call("SetDeviceBlackList",{devices:t.devices,drivers:t.drivers})}},{milliseconds:f}),e.default("timeZones",{getItem:function(n){return n.call("GetTimeZones")}},{milliseconds:u}),e.default("daylightSavingRules",{getItem:function(n,t){return n.call("GetDaylightSavingRules",{timeZoneId:t})}},{milliseconds:u}),i.default("zoneTypes","ZoneType",{milliseconds:r}),i.default("diagnostics","Diagnostic",{milliseconds:u,unwrapCollections:!1}),e.default("recentStatusDiagnostics",{getItem:function(n,t){return n.call("GetRecentStatusDiagnostics",t)}},{milliseconds:u}),i.default("controllers","Controller",{milliseconds:u}),i.default("auditLogs","Audit",{milliseconds:o}),e.default("speedLimitsForReport",{getItem:function(n,t){return n.call("GetRoadMaxSpeedsForDevice",t)}},{milliseconds:u,unwrapCollections:!1}),e.default("nearestRoads",{getItem:function(n,t){return n.call("GetNearestRoad",{coordinate:t})}},{milliseconds:u,unwrapCollections:!1}),e.default("reportSchedules",{getItem:function(n,t){return n.call("GetReportSchedules",t)}},{milliseconds:u,typeName:"CustomReportSchedule"}),i.default("customReportSchedules","CustomReportSchedule",{milliseconds:f}),i.default("notificationBinaryFile","NotificationBinaryFile",{milliseconds:r}),i.default("distributionList","DistributionList",{milliseconds:r}),i.default("reportTemplates","ReportTemplate",{milliseconds:r}),i.default("fuelUpEvents","FuelUpEvent",{milliseconds:r}),i.default("fuelTransaction","FuelTransaction",{milliseconds:r}),i.default("dvirLogs","DVIRLog",{milliseconds:r,unwrapCollections:!1}),i.default("dutyStatusLogs","DutyStatusLog",{milliseconds:r}),e.default("dutyStatusLogsWithModifications",{getItem:function(n,t){return t.includeModifications=!0,n.call("Get",{typeName:"DutyStatusLog",search:t}).then(function(n){var h=[],t,i,r,u,e={},c,f,o,l,s,a;if(n){for(o=0,l=n;o<l.length;o++)t=l[o],u=t.parentId||t.id,e.hasOwnProperty(u)?e[u].push(t):e[u]=[t];for(u in e){if(r=e[u],r.length===1){r[0].state==="Rejected"||k.isInactiveLog(r[0])||h.push(r[0]);continue}for(r.sort(function(n,t){return parseInt(t.version,16)-parseInt(n.version,16)}),i=null,c=[],f=null,s=0,a=r;s<a.length;s++)t=a[s],t.state==="Requested"?f=t:t.state!=="Active"||i?c.push(t):i=t;(i||f)&&(i||(i=i||f,f=null),i.id=u,i.modifications=c,h.push(i));f&&i.modifications.push(f)}}return h})},setItem:function(n,t){return delete t.modifications,t.resolvedEditId&&(t.id=t.resolvedEditId,delete t.resolvedEditId),n.call("Set",{typeName:"DutyStatusLog",entity:t})},addItem:function(n,t){return n.call("Add",{typeName:"DutyStatusLog",entity:t})},removeItem:function(n,t){return n.call("Remove",{typeName:"DutyStatusLog",entity:t})}},{milliseconds:r}),i.default("annotationLogs","AnnotationLog",{milliseconds:r}),i.default("shipmentLogs","ShipmentLog",{milliseconds:r}),i.default("trailerAttachments","TrailerAttachment",{milliseconds:r}),i.default("recipients","Recipient",{milliseconds:r}),y.default("addresses",{milliseconds:o,unwrapCollections:!1,updateTTLOnAccess:!0}),w.default("tripAddresses"),i.default("textMessages","TextMessage",{milliseconds:f}),i.default("textMessagesNoCache","TextMessage",{milliseconds:f,unwrapCollections:!1}),e.default("systemTime",{getItem:function(n){return n.call("GetSystemTimeUtc").then(function(n){return{id:"1",systemTime:n}})}},{milliseconds:f}),i.default("userHosRuleSets","UserHosRuleSet",{milliseconds:r}),b.default("validLogRecords")];t.default=nt})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.entitiesLoader"),geotab.commonjs.generateExport("geotab.checkmate.entitiesLoader"));self.geotab && geotab.declare("geotab.checkmate.entitiesLoader");
(function(n,require,t){"use strict";function i(t,i){var r=function(){return!n.isWhiteLabeled},e=function(){return!!t.isLabsEnabled},h=function(){return!!t.changePassword},o=function(n){return typeof n=="function"?n():i.indexOf(n)!==-1},c=function(n){return n.some(o)},f=function(n){return function(){return c(n)}},l=function(n){return n.every(o)},a=[f(["DeviceAdmin","DeviceAdminAdvanced","DeviceAdminDeleteUnplugReplace"])],v=[f(["DeviceAdminAdvanced","DeviceAdminDeleteUnplugReplace"])],u={helpguide:"ProductGuideClearance",helpresources:["ViewAdvancedHelp",r],helpsupport:"ViewAdvancedHelp",helpforum:["ViewAdvancedHelp",r],videoresources:["ViewAdvancedHelp",r],dashboard:"MileageSummaryDashboard",map:"DisplayMap",devices:"DeviceList",device:a,deviceserialno:v,riskmanagement:"RiskManagementReport",speedprofile:"SpeedProfileReport",driverscongregating:"CongregationReport",timecardreport:"TimeCardReport",workhourdetailedit:"WorkTimeList",deviceinstallhistory:"DeviceInstallHistoryReport",worktimes:"WorkTimeList",worktime:["WorkTimeList","WorkHolidayList"],workholidays:"WorkHolidayList",workholiday:"WorkHolidayList",iftamiles:"FuelTax",dailyusage:["DailyUsageReport",r],logdetails:"AccidentDebugReport",hoslogs:"ViewHOSLogs",hoslog:"ManageHOSLogs",hosviolations:"ViewHOSLogs",hosavailability:"ViewHOSLogs",trailers:"ViewTrailers",trailer:"ManageTrailers",enginecontrollers:"EngineControllerList",enginediagnostics:"EngineDiagnosticList",enginediagnostic:"EngineDiagnosticList",enginetypes:"EngineTypeList",enginetype:"EngineTypeList",fuelusage:"FuelUsageReport",fuelevents:"FuelTransactionList",fuelevent:"FuelTransactionList",fueleventsgraph:"FuelTransactionList",dvirs:"ViewDVIRLogs",dvir:"ManageDVIRLogs",reminderdue:"ReminderReport",maintenancehistory:"ReminderReport",captureevent:"ReminderReport",reminderrules:"ReminderReport",reminderruletypes:["ReminderReport","ReminderRuleList"],reminderruletype:["ReminderReport","ReminderRuleList"],reminderrule:"ReminderReport",zones:"ZoneList",zone:"ZoneAdmin",zonetypes:"ZoneList",zonetype:"ZoneList",importzones:"ImportZones",customervisits:["CustomerVisitsReport","ZoneList"],routeplanactual:"RouteComparisonReport",routesummaryreport:"RouteSummaryReport",unmatchedroute:"UnassignedRouteReport",routes:"RouteList",route:"RouteList",gpstextmessages:"ViewGpsTextMessage",gpstextmessagesend:["ViewGpsTextMessage","SendGpsTextMessage"],messages3:["ViewGpsTextMessage",e],gpstextmessages2:["ViewGpsTextMessage",e],rules:"ExceptionsList",rule:"EditException",exceptions:"ExceptionsReport",groupstree:"NodesList",defectlist:"NodesList",defectlists:"NodesList",customreports:"ViewReportTemplate",customreport:"ManageReportTemplates",users:"UserList",user:"UserAdmin",changepassword:[f(["ChangePassword",h])],systemsettings:"SystemSettings",auditlogs:"AuditLog",serviceperformance:"PerformanceReport",databaseimport:"ImportFromOtherDatabase",databaseexport:"ExportFromOtherDatabase",radiodownloaders:["RadioDownloaderList",r],about:"AboutCheckmate",notifications:"NotificationList",notification:"NotificationList",options:"UserSettings",tripshistory:["TripsActivityReport"],tripssummary:"TripsActivityReport",clearances:"SecurityClearanceList",clearance:"NodesList",group:"NodesList",notificationtemplates:"EditNotificationEmailTemplate",notificationtemplateemail:"EditNotificationEmailTemplate",notificationtemplatewebrequest:"EditNotificationEmailTemplate",notificationtemplatetext:"EditNotificationEmailTemplate",distributionlist:"EditDistributionList",distributionlists:"EditDistributionList",exceptionssummary:"ExceptionsReport",tripsidlingsummary:"TripsActivityReport",fleet:"TripsActivityReport",customerstops:"CustomerVisitsReport",tripsdensity:"TripsActivityReport",enginefaults:"EngineManagementReport",faultdetails:"EngineManagementReport",enginemeasurements:"EngineManagementReport",enginedataprofile:"EngineManagementReport",marketplace:["ViewAdvancedHelp",r]},y=function(n){return(n||"").replace("#","").replace(/\/.*/,"").toLowerCase()},s=function(n){return u[y(n)]},p=function(n){var t=s(n);return Array.isArray(t)?t[0]:t};return{hasAccessToPage:function(n){var t=s(n)||[];return Array.isArray(t)||(t=[t]),l(t)},getCid:p,addCid:function(n,t){n&&t&&!u.hasOwnProperty(n)&&(u[n]=t)},removeCid:function(n){n&&u.hasOwnProperty(n)&&delete u[n]}}}Object.defineProperty(t,"__esModule",{value:!0});t.default=i;n.declare("geotab.checkmate");n.checkmate.pagesSecurity=i})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.pagesSecurity"),geotab.commonjs.generateExport("geotab.checkmate.pagesSecurity"));self.geotab && geotab.declare("geotab.checkmate.pagesSecurity");
(function(n,require,t){"use strict";function i(){return'<div class="vanillaDialogContainer" role="dialog" style="display:none;">\n            <div class="vanillaDialogHeader">\n                <div class="dialogTitle ellipsis"><\/div>\n                <svg class="svgIcon geotabButtonIcons closeVanillaDialogButton" style="display:none;"><use xlink:href="#close-cross"><\/use><\/svg>\n            <\/div>\n            <div class="vanillaDialogCenter"><\/div>\n            <div class="vanillaDialogFooter"><\/div>\n        <\/div>'}Object.defineProperty(t,"__esModule",{value:!0});t.default=i})(geotab,geotab.commonjs.generateRequire("geotab.vanillaExtension.vanillaDialog_html"),geotab.commonjs.generateExport("geotab.vanillaExtension.vanillaDialog_html"));self.geotab && geotab.declare("geotab.vanillaExtension.vanillaDialog_html");
(function(n,require,t){"use strict";function e(){return{attachEvent:i.attachEvent,detachEvent:i.detachEvent}}Object.defineProperty(t,"__esModule",{value:!0});var u=require("./eventHandler"),i=u.default(),f={orientationchange:"resize"},r=function(n){try{i.fireEvent(f[n.type]||n.type,window,[n])}catch(n){throw n;}};window.addEventListener("resize",r,!1);window.addEventListener("orientationchange",r,!1);t.default=e})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.windowObserver"),geotab.commonjs.generateExport("geotab.checkmate.windowObserver"));self.geotab && geotab.declare("geotab.checkmate.windowObserver");
(function(n,require,t){"use strict";function o(t,r,o){var rt={parentNode:document.body,addCloseButton:!0,isModal:!1,buttons:[]},c=t?typeof t=="string"?i.textToHTML(t)[0]:t:i.create("DIV"),g=c&&c.parentNode,h=i.extend(!0,{},rt,r),k=u.default(),s=function(n){var t=i.textToHTML(n)[0],r=t.getElementsByClassName("vanillaDialogHeader")[0];return h.id&&(t.id=h.id),{elem:t,header:{elem:r,title:r.getElementsByClassName("dialogTitle")[0],closeButton:r.getElementsByClassName("closeVanillaDialogButton")[0]},center:{elem:t.getElementsByClassName("vanillaDialogCenter")[0]},footer:{elem:t.getElementsByClassName("vanillaDialogFooter")[0]}}}(e),nt=function(n){return o&&o.translateKey(n)||n},v,l,ut=function(t,r,u){var f=i.create("button",{"class":"geotabButton"+(u?" "+u:""),id:r||n.generateElementId()});return f.textContent=t,f},a=h.isModal?i.create("div",{"class":"vanillaDialogShield"}):null,y=function(){return l.isShown()&&(s.elem.style.display="none",a&&(a.style.display="none"),l.fireEvent("dialogClose",l,v),v=null,k.detachEvent("resize",w),d.enable(),h.closeButtonCallback&&h.closeButtonCallback()),l},p=h.buttons.map(function(n){var t=ut(nt(n.name),n.id,n.className),i=n.click?function(t){n.click&&n.click.call(this,t,v,l)}:y;return t.addEventListener("click",i,!1),s.footer.elem.appendChild(t),{elem:t,handler:i}}),tt=function(n){var t=h.parentNode.getBoundingClientRect().height,r=s.header.elem.getBoundingClientRect().height,u=s.footer.elem.getBoundingClientRect().height;i.css(s.center.elem,{paddingBottom:n?0:"",paddingTop:n?0:"",height:n?t-r-u-2+"px":""});i.css(s.elem,{top:n?"0px":""})},w=function(){tt(!1);var t=h.parentNode.getBoundingClientRect(),r=s.elem.getBoundingClientRect(),f=h.parentNode.scrollTop||window.pageYOffset,n=r.height-t.height,u=(h.top||(t.height-r.height)/2)+f;n=n<=0?0:n;i.css(s.elem,{top:(u>0?Math.round(u):0)+"px",left:(t.width-r.width)/2+"px"});a&&!n?a.style.bottom=-n+"px":n&&tt(!0)},b=function(n,t){var i=t?s.elem:s.center.elem;n&&(i.style[t?"maxWidth":"maxHeight"]=n+"px")},it=function(n,t,i){return{get:function(){return t?t(n.textContent||""):n.textContent||""},set:function(t){n.textContent=i?i(t):t},hide:function(){n.style.display="none"},show:function(){n.style.display="block"}}},ft=function(n){var t=it(n),i=t.get,r=t.set,u=t.hide,f=t.show;return{get:i,set:r,show:f,hide:u,disable:function(){n.disabled=!0},enable:function(){n.disabled=!1}}},d=function(){var n=!0,t=h.parentNode,u=s.elem,f="*[tabindex]:not(:disabled)",e=function(n){for(var t=n;t&&t!==document;){if(t.style.display==="none")return!1;t=t.parentNode}return!0},i=function(){return Array.prototype.filter.call(u.querySelectorAll(f),e)},r=function(n){var t;n.which===9&&(t=i(),t.length?n.target===t[0]&&n.shiftKey?(n.preventDefault(),t[t.length-1].focus()):n.target!==t[t.length-1]||n.shiftKey||(n.preventDefault(),t[0].focus()):n.preventDefault())},o=function(){var u;n&&(u=i()[0],u&&u.focus(),n=!1,t.addEventListener("keydown",r,!1))},c=function(){n||(t.removeEventListener("keydown",r,!1),n=!0)};return{enable:c,disable:o}}();return p.length||(s.footer.elem.style.display="none"),h.addCloseButton&&(s.header.closeButton.style.display="block",s.header.closeButton.addEventListener("click",y,!1),p.push({elem:s.header.closeButton,handler:y})),s.header.title.textContent=h.title||c.getAttribute("title")||nt("Information"),i.toggleClasses(s.header.elem,"hidden",!h.addCloseButton&&h.title===!1),c&&(s.center.elem.appendChild(c.parentNode?c.parentNode.removeChild(c):c),c.style.display="block",h.parentNode.appendChild(s.elem),h.width&&b(h.width,!0),h.height&&b(h.height)),a&&h.parentNode.appendChild(a),l=i.extend({element:s.elem,container:s.center.elem,title:it(s.header.title),buttons:p.map(function(n){return ft(n.elem)}),parentNode:h.parentNode,close:y,show:function(n){return l.isShown()||(s.elem.style.display="block",a&&(a.style.display="block",d.disable()),k.attachEvent("resize",w),w(),v=n,l.fireEvent("dialogShow",l,v)),l},isShown:function(){return s.elem.style.display!=="none"},destroy:function(){if(y(),v=null,p.forEach(function(n){n.elem.removeEventListener("click",n.handler,!1)}),p.length=0,s.elem.parentNode){var n=c.parentNode&&c.parentNode.removeChild(c);g&&n&&g.appendChild(n);s.elem.parentNode.removeChild(s.elem);a&&h.parentNode.removeChild(a)}k.detachEvent("resize",w);d.enable()},resizeTo:function(n,t){b(n,!0);b(t);w()}},f.default())}Object.defineProperty(t,"__esModule",{value:!0});var i=require("./vanilla"),r=require("./vanillaDialog_html"),u=require("../checkmate/windowObserver"),f=require("../checkmate/eventHandler"),e=r.default().trim();t.default=o})(geotab,geotab.commonjs.generateRequire("geotab.vanillaExtension.vanillaDialog"),geotab.commonjs.generateExport("geotab.vanillaExtension.vanillaDialog"));self.geotab && geotab.declare("geotab.vanillaExtension.vanillaDialog");
geotab.declare("geotab.checkmate.ui").ifrLoginDialog_html = "<div id=\"loginDialogId\" class=\"loginDialog\" style=\"display:none\">\\
    <div class=\"loginbrandId\">\\
        <div class=\"companyLogoContainer\"></div>\\
    </div>\\
    <div class=\"loginContainer\">\\
        <div class=\"lineWaiting\" id=\"loginWaiting\">\\
            <div class=\"bg\"></div>\\
        </div>\\
        <form id=\"loginFormId\" action=\"/blank.html\" target=\"loginDialogProxyForm\" autocomplete=\"on\" method=\"post\">\\
            <div class=\"loginFields\">\\
                <label class=\"fieldLabel ellipsis\" for=\"userEmailId\" tabindex=\"-1\">User (Email)</label>\\
                <input id=\"userEmailId\" type=\"text\" name=\"login\" class=\"checkmateFormEditField actionPart\">\\
            </div>\\
            <div class=\"loginFields\">\\
                <label class=\"fieldLabel ellipsis\" for=\"userPasswordId\">Password</label>\\
                <input id=\"userPasswordId\" type=\"password\" name=\"password\" class=\"checkmateFormEditField actionPart\" autocomplete=\"off\">\\
                <a id=\"forgotPassword\" href=\"/resetPassword.html\" class=\"geotabButton\">?</a>\\
            </div>\\
            <input type=\"submit\" id=\"userSubmitButtonId\" style=\"display:none\" value=\"Login\">\\
        </form>\\
         <div class=\"loginFields\" id=\"databaseField\" style=\"display:none\">\\
            <label class=\"fieldLabel ellipsis\" for=\"databaseId\">Database</label>\\
            <input id=\"databaseId\" type=\"text\" name=\"database\" class=\"checkmateFormEditField actionPart\">\\
        </div>\\
        <div class=\"alert alert-error\" style=\"display: none;\">\\
            <label id=\"errorMessageInputId\"></label>\\
        </div>\\
        <div class=\"loginFields\" id=\"loginField\">\\
            <div class=\"fieldLabel savedSessions\">\\
                <div class=\"inlineList\" id=\"savedSessions\" style=\"display: none;\"></div>\\
            </div>\\
            <div class=\"actionPart plusButtonField\">\\
                <button id=\"addDataBaseId\" class=\"geotabButton\">+</button>\\
            </div>\\
            <div class=\"actionPart\">\\
                <button id=\"loginInputId\" class=\"geotabButton loginTranslation\">Log in</button>\\
            </div>\\
        </div>\\
         <div class=\"loginFields smallStaff\">\\
             <!-- loginRegistrationLink id is used for hiding it for some customers in brands folder -->\\
            <div id=\"loginRegistrationLink\" class=\"newCustomerTranslation fieldLabel\">New customer? <a href=\"/registration.html\" id=\"register\" class=\"link\">Register</a></div>\\
            <div class=\"fieldLabel ellipsis rightAlign\">\\
                <input id=\"rememberMeInputId\" name=\"rememberMe\" checked=\"checked\" type=\"checkbox\">\\
                <label for=\"rememberMeInputId\" class=\"rememberMeTranslation ellipsis\">Remember me</label>\\
            </div>\\
        </div>\\
    </div>\\
    <iframe id=\"loginDialogProxyFormId\" src=\"/blank.html\" style=\"display:none;\" name=\"loginDialogProxyForm\"></iframe>\\
</div>";

(function(n,require,t){"use strict";function l(t){var at=t.isClosable||!1,rt=[],ut=[],ei=n.getContent("geotab.checkmate.ui.ifrLoginDialog[html]"),l,a,ft,et,ct,k,v,vt,yt,y,w,ot,pt,wt,d,b,bt=t.localizer||h.LocalizerConstructor(),kt,st=function(n){et&&(et.parentNode.style.display=n?"block":"none")},dt=function(n){y.value=n;y.disabled=!0},oi=function(t,i,r){var u={database:r?r:n.location.database,userName:t,password:i,rememberMe:!!ct.checked,newUserLanguage:kt};if(!t||!i)return gt("InvalidUser"),!1;for(st();rt.length;)rt.shift()(u);return ut=[],!0},si=function(){var r=function(){yt.click()},n=function(n){var t=this,i=this.value;n.keyCode===13&&setTimeout(function(){t.value===i&&r()},1)},t;l=i.textToHTML(ei)[0];v=l.querySelector("#loginFormId");vt=v.querySelector("#forgotPassword");yt=v.querySelector("#userSubmitButtonId");y=v.querySelector("#userEmailId");w=v.querySelector("#userPasswordId");ft=l.querySelector("#loginInputId");et=l.querySelector("#errorMessageInputId");ct=l.querySelector("#rememberMeInputId");k=l.querySelector("#loginWaiting");ot=l.querySelector("#addDataBaseId");pt=l.querySelector("#databaseField");wt=l.querySelector("#loginField");d=l.querySelector("#databaseId");b=l.querySelector("#savedSessions");t=l.querySelector("#register");t.href=lt(tt);ui(t);f.default.getInstance(null,bt,!0);a=u.default(l,{title:!1,width:400,isModal:!0,addCloseButton:at});a.attachEvent("dialogClose",function(){if(!at){while(ut.length)ut.shift()(i.extend(new Error("LoginDialogClosed:AuthenticationRequired"),{isSevere:!1,isAuthenticationRequiredException:!0}));rt=[];p.destroy()}});v.setAttribute("action",window.location.protocol+"//"+window.location.host+v.getAttribute("action"));v.addEventListener("submit",function(){oi(y.value.trim(),w.value.trim(),d.value.trim())},!1);ot.addEventListener("click",function(){i.show(pt);b.childElementCount>0&&i.show(b);i.hide(ot);d.focus()},!1);d.addEventListener("keypress",n,!1);y.addEventListener("keypress",n,!1);w.addEventListener("keypress",n,!1);ft.addEventListener("click",r,!1);ii();st()},gt=function(n){et.textContent=nt.translate(g(),n)||n;st(!0)},g=function(){return bt.getDefaultLanguage()},ni="en",ti=function(n,t,i){ht?(dt(ht),ht="",w.focus()):(y.value=n,w.value=t,y.focus());ct.checked=i!==!1},hi=function(){a&&(d.value="",y.value="",w.value="")},ci=function(){a&&(st(),ii(),kt=g())},ii=function(){var t=g(),i,u=Object.keys(i=nt.get("en")).map(function(n){return i[n]}),n=u.concat(["Remember me","Log in","New customer?","Register","User (Email)","Password","Language:","Forgot password?","Database","Log in to another database"]);t!=="en"?s.default().call("Translate",{sentences:n,language:g()},!1).beginInvoke(function(i){ri(n,i,t)},r.NOOP):ri(n,n,t)},ri=function(n,t,i){var r=n.reduce(function(n,i,r){return n[i]=t[r],n},{});a&&li(a.element,r);nt.set(i,r);ai(r);ni=i},li=function(n,t){var i,r;n.getElementsByClassName("rememberMeTranslation")[0].textContent=t["Remember me"];n.getElementsByClassName("loginTranslation")[0].textContent=t["Log in"];i=n.getElementsByClassName("newCustomerTranslation")[0];i.childNodes[0].textContent=t["New customer?"]+" ";r=i.getElementsByClassName("link")[0];r.textContent=t.Register;n.querySelector("label[for=databaseId]").textContent=t.Database;n.querySelector("label[for=userEmailId]").textContent=t["User (Email)"];n.querySelector("label[for=userPasswordId]").textContent=t.Password;ot.title=t["Log in to another database"];vt.title=t["Forgot password?"];ui(n.querySelector("#register"))},ai=function(n){var t=c.default(),i=nt.get(ni).ResetPasswordExpired,r=nt.get("en").ResetPasswordExpired;n[r]&&t.hasMessage(i)&&(t.hideMessage(i),t.displayWarning(n[r]))},nt=function(){var t={DatabaseVersionOld:"Your database is under maintenance",DbUnavailable:"Unknown Database",InvalidUser:"Invalid user name or password",ResetPasswordExpired:"Your reset password link has expired, please click the '?' button to try again."},n={en:t};return{get:function(t){return n[t]?n[t]:null},set:function(i,r){n[i]||(n[i]=Object.keys(t).reduce(function(n,i){return n[i]=r[t[i]],n},{}))},translate:function(t,i){return n[t]&&n[t][i]}}}(),tt=r.parseVendorHost(window.location.host),lt=function(n,t){t===void 0&&(t="");var i={mysyncupfleet:"sf"},u=[function(n){return n.prefix&&!+n.prefixNumber},function(n){return!n.prefix&&!n.prefixNumber&&n.domain&&i[n.domain]}];return""+(u.some(function(t){return t(n)})?"//"+r.htmlEscape(n.prefix||i[n.domain])+"1."+r.htmlEscape(n.domain)+"."+n.zone:"")+t+"/registration.html"},vi=function(t,i){var r=new e.default(function(r){if(t||i){var u="brands."+t+".registration[html]",f="brands."+i+".registration[html]";n.privateRequire([u,f],function(n){var e=n.getContent(u),o=n.getContent(f),s=e?t:i;r(lt(tt,e||o?"/brands/"+s:""))},null,!1)}else r(lt(tt))});return function(){return r}}(tt.prefix,tt.domain),ui=function(n){vi().then(function(t){n.href=t})},p,fi=function(){a||si()},it,ht="";return t.languageSelector&&t.languageSelector.setOnChange(ci),p=i.extend(o.default(),{setDialogData:ti,show:function(){p.fireEvent("open");fi();a&&a.show();t.languageSelector&&t.languageSelector.show()},close:function(){p.fireEvent("close");p.hideWaiting();a&&a.close();t.languageSelector&&t.languageSelector.hide()},showWaiting:function(){k&&i.show(k)},hideWaiting:function(){k&&i.hide(k)},showErrorMessage:gt,setEnabledState:function(n){it=it||ft;it&&(it.disabled=!n)},lockCredentials:function(n){it=ft;ht=n;dt(n)},setSavedTokens:function(n,t){t===void 0&&(t="");var u,f=n.length,e=function(n,t){var r=i.create("div",{"class":"inlineItem"}),u=i.create("a",{"class":"link",href:t});return u.textContent=n,r.appendChild(u),r},r;for(fi(),i.empty(b),u=0;u<f;u++)r=n[u],!r.name||r.name===t||b.appendChild(e(r.name,r.href));f>0&&(i.show(b),i.addClasses(wt,"activeSessions"))},beginGetCredentials:function(n,t,i){a&&a.isShown()||p.show();n&&ti(n.userName||null,n.password||null,n.rememberMe);rt.push(t);ut.push(i)},destroy:function(){hi();p.close()},getLanguage:g})}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../vanillaExtension/vanilla"),r=require("../../utils"),u=require("../../vanillaExtension/vanillaDialog"),f=require("../errorHandler"),e=require("../../promise"),o=require("../eventHandler"),s=require("../connection"),h=require("../../localizer"),c=require("./notifier");require("./ifrLoginDialog[html]");t.default=l})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.ifrLoginDialog"),geotab.commonjs.generateExport("geotab.checkmate.ui.ifrLoginDialog"));self.geotab && geotab.declare("geotab.checkmate.ui.ifrLoginDialog");
(function(n,require,t){"use strict";function s(n){var t=n.translateKey("ConnectionNotReliable"),i=n.translateKey("Reconnecting1"),r=n.translateKey("Reconnecting2"),u=n.translateKey("Reconnecting3"),s=n.translateKey("Reconnected"),h=e([i,r,u],5e3);return o(f(),t,"state-warning",h,"state-error",s,"state-success")}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../vanillaExtension/vanilla"),r=function(){return'<div class="networkStateMonitor">\n        <span class="networkStateMonitor-message"><\/span>\n    <\/div>'},u=function(){var n,t,i=function(){clearTimeout(t);t=null;n=!1};return{set:function(r){i();n=!0;t=setTimeout(i,r)},reset:i,isSet:function(){return n}}},f=function(){var f=function(){var n=i.textToHTML(r())[0];return document.body.appendChild(n),n},n,t,u=function(){clearTimeout(t);t=null};return{show:function(r,e,o){n||(n=f());u();var s=n.querySelector(".networkStateMonitor-message");s.className="networkStateMonitor-message "+e;s.textContent=r;i.show(n);o&&(t=setTimeout(function(){return n&&i.hide(n)},o))},getDisplayedMessage:function(){return n&&i.isVisible(n)?(n.textContent||"").trim():""},hide:function(){u();n&&i.hide(n)}}},e=function(n,t){var i,r,u=function(){clearTimeout(r);i=0},f=function(){return function(){r||(r=setTimeout(function(){i+=1;i>=n.length&&(i=0);r=null},t))}}();return{next:function(){var t=n[i];return f(),t},reset:u}},o=function(n,t,i,r,f,e,o){var l=2e4,c=5e3,s=u(),h=!1,a=0;return{show:function(){s.reset();h?n.show(r.next(),f,a):(n.show(t,i,l),r.reset(),h=!0)},hide:function(i){var r=h&&n.getDisplayedMessage()!==t&&!i,u=!r&&(!s.isSet()||i);r?(n.show(e,o,c),s.set(c)):u&&(s.reset(),n.hide());h=!1}}};t.default=s})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.networkStateMonitorDisplay"),geotab.commonjs.generateExport("geotab.checkmate.ui.networkStateMonitorDisplay"));self.geotab && geotab.declare("geotab.checkmate.ui.networkStateMonitorDisplay");
(function(n,require,t){"use strict";function e(n,t,e,o){var s=!1,h=u.default(),v=f.default(t),y=!1,w=function(){h.fireEvent("NetworkConnectionFound",h,{wasServiceAlive:c});n.connectionFound()},p=function(){h.fireEvent("NetworkConnectionLost",h,{isServiceAlive:c});n.connectionLost()},l=function(n){s&&w();s=!1;v.hide(!!n)},b=function(){s||p();s=!0;c&&!y&&v.show()},c=!0,a;return v.show(),o&&(o.attachEvent("ServiceStopped",function(){c=!1;l(!0);p()}),o.attachEvent("ServiceStarted",function(){l();c=!0}),o.attachEvent("subscriptionsReceive",function(){l()}),o.attachEvent("subscriptionsFail",function(){o.isActive()||a(null)})),window.addEventListener("beforeunload",function(){y=!0},!1),a=r.multiplex(b,0),n.attachEvent("networkError",a),e.attachEvent("requestFailed",function(n){n.isParserException||a(n)}),e.attachEvent("requestSucceeded",function(){l()}),i.extend(h,{isNetworkConnectionLost:function(){return s}})}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../vanillaExtension/vanilla"),r=require("../../utils"),u=require("../eventHandler"),f=require("./networkStateMonitorDisplay");t.default=e})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.networkStateMonitor"),geotab.commonjs.generateExport("geotab.checkmate.ui.networkStateMonitor"));self.geotab && geotab.declare("geotab.checkmate.ui.networkStateMonitor");
(function(n,require,t){"use strict";function o(n){var et=document.body,g=!1,ot="toolbarSeparatedBlock",st={A:!0,INPUT:!0,BUTTON:!0},h={},y=function(n){return n.nodeName&&st[n.nodeName]||n.className&&n.className.indexOf(ot)>-1},ht=function(t){var o=function(){var n=this;return this.buttonControl||(this.buttonControl=["hide","show","toggle","isShown","disable","enable","click","change","mouseover","mouseout","isDisabled","resize"].reduce(function(t,i){return t[i]=n.control[i]||n[i],t},{}),this.buttonControl.elem=this.elem,this.buttonControl.checker=this.checker,this.buttonControl.shownElem=this.shownElem),this.buttonControl},r=function(n){return n.shownElem||n.elem},f=function(n){return function(t){this.isItBlock||(this.shownElem||this.elem).addEventListener(n,t,!1)}},i={isInToolbar:!0,control:null,size:0,buttonsParent:undefined,resizible:t.hasAttribute("data-toolbar-resizible"),getFacade:o,resize:function(){var n=r(this);i.size=s(n,n.parentNode)||i.size},hide:function(){r(this).style.display="none";c()},show:function(){r(this).style.display=i.isInToolbar?"inline-block":"block";i.size=i.size||s(r(this));c()},isShown:function(){return r(this).style.display!=="none"},toggle:function(n){return n?this.show():this.hide()},click:f("click"),change:f("change"),mouseover:f("mouseover"),mouseout:f("mouseout"),elemId:t.id},e;return t.nodeName==="A"||t.nodeName==="BUTTON"||t.nodeName==="INPUT"&&t.getAttribute("type")!=="checkbox"&&t.getAttribute("type")!=="radio"?i.elem=t:n&&t.nodeName==="INPUT"&&t.id?(e=n.querySelector("label[for='"+t.id+"']"),i.elem=[t,e],i.checker=t,i.shownElem=e):(i.elem=t,i.isItBlock=!0),i.control=u.createButtonSwitcher(r(i)),i},ct={visibility:"hidden",display:"block"},lt={display:"none",visibility:"visible"},at=function(n){for(var i=[],t=n;t&&t!==et;)t.style.display==="none"&&i.push(t),t=t.parentNode;return i},p=function(n,t){i.css(n,ct);t();i.css(n,lt)},nt=function(n,t){var i=at(n);i.length?i.reduce(function(n,t){return function(){p(t,n)}},t)():t()},vt=function(){var n=0;return function(t){var r=Array.isArray(t)?t[1]:t,i;return!n&&r&&(i=window.getComputedStyle(r),n=parseInt(i.marginRight||"")+parseInt(i.marginLeft||"")),n}}(),s=function(n,t){var i=function(i){var r=0,f=i.style.display,u=t&&t.style.display;return(f==="none"||u==="none")&&p(u==="none"?t:i,function(){r=n.offsetWidth}),r};return n.offsetWidth||i(n)},yt=function(n){var t=0;return nt(n,function(){t=s(n)}),t},a=function(n,t){for(var e=y(n)?[n]:n.childNodes,r,o=e.length,i,f=[],u=0;u<o;u++)r=e[u],y(r)?(i=ht(r),i.size=s(i.shownElem||i.elem),i.buttonsParent=t?n:undefined,f.push(i)):r.childNodes.length&&(f=f.concat(a(r,!0)));return f},pt=function(n){for(var i=0;i<t.length;i++)if(n===t[i].shownElem||n===t[i].elem)return t[i];return null},w=function(i,r){var o=function(n){for(var i,u=0;u<t.length;u++)i=t[u],n&&n!==i.shownElem&&n!==i.elem||(i.size=(r?0:i.size)||s(i.shownElem||i.elem,i.buttonsParent))},e="auto",u;n&&(u=i&&pt(i),u?u.isInToolbar?u.size=s(u.shownElem||u.elem,u.buttonsParent):p(f,function(){e!==f.style.left&&(f.style.left=e,f.offsetWidth);u&&(u.size=s(u.shownElem||u.elem,u.buttonsParent))}):nt(n,o))},f=function(){return i.create("DIV",{"class":"geotabPopupToolbar popupWindowCover"},{display:"none"})}(),o=function(){var n=i.create("button",{"class":"popupToolbarButton geotabButton geotabButton-multiIcons toolbarOptionsButton"},{display:"none"});return n.innerHTML='<svg class="svgIcon geotabButton-svgIcon toolbarOptionsIcon"><use xlink:href="#cog"><\/use><\/svg>&nbsp;<svg class="svgIcon geotabButton-svgIcon toolbarOptionsIcon"><use xlink:href="#arrow-down"><\/use><\/svg>',n}(),l,b=0,wt=15,t,bt=function(n){var t=n.shownElem||n.elem;t.style.display==="inline-block"&&(t.style.display="block")},v=function(n,t,i){var r;n.length?(v(n[1],t,i),v(n[0],t,n[1])):(r=n.parentNode?n.parentNode.removeChild(n):n,i&&i.parentNode===t?t.insertBefore(r,i):t.appendChild(r))},tt=function(){return!t.some(function(n){return!n.isInToolbar&&n.isShown()})},kt=function(){var n=!tt(),t=o.style.display==="none";n&&t?o.style.display="inline-block":n||t||(o.style.display="none",l&&l.close())},c=function(){var u,r,k=t.length,a=0,y=0,e=-1,p=!1,h=function(n,t){if(v(n.elem,f,t?null:f.childNodes[0]),bt(n),n.isInToolbar=!1,n.buttonsParent&&!n.buttonsParent.children.length){var i=n.buttonsParent.parentNode;i&&i.removeChild(n.buttonsParent)}d(n.elemId+"resize")},g=function(n){return n.isShown()?n.resizible?s(n.shownElem||n.elem,n.buttonsParent):n.size+vt(n.elem):0},w,i,c;for(b=b||s(o),w=u=yt(n)-wt,r=0;r<k;r++)i=t[r],c=g(i),u-=c,u<0&&i.isInToolbar?(h(i,p),p=!0):u>=0&&!i.isInToolbar&&(i.buttonsParent&&!i.buttonsParent.parentNode&&n&&n.insertBefore(i.buttonsParent,o),v(i.elem,i.buttonsParent||n,i.buttonsParent?null:o),i.isInToolbar=!0,d(i.elemId+"resize")),i.isInToolbar?(a+=c,e=r):y++;if(y&&e>-1&&w-a<b){for(r=e;r&&!t[r].isShown();--r)h(t[r]);h(t[r])}l&&tt()&&l.close();kt()},it=function(n){if(isNaN(n)){for(var i=0;i<t.length;i++)if(t[i].elemId===n)return i}else return n;return null},rt=function(){n&&n.appendChild(o);n&&n.appendChild(f);l=e.default(o,{content:f,position:"bottom",closeOnSelect:!1,calculatePosition:function(n){var i,r=n.style.display!=="none";for(n.style.left="",r||(n.style.display="block"),n.offsetWidth<o.parentNode.offsetWidth-o.offsetLeft&&(n.style.left=o.offsetLeft+"px"),i=t.length-1;i>=0;i--)if(t[i].isInToolbar)break;else d(t[i].elemId+"resize")}});ft()},ut=function(i){!n&&i&&(n=i,t=a(n),rt())},k=!1,ft=function(){n&&(r.attachEvent("resize",c),k&&(c(),k=!1))},dt=function(){r.detachEvent("resize",c);k=!0;l&&l.close()},gt=function(t,i,r){var e=t[0],u,s=[];if(i&&(n||f)){var c=r?"label":"checker",h=i.buttonsParent||i.control&&i.control[c]||i.elem,l=i.isInToolbar&&n?n:f;u=l.insertBefore(e,r?h.nextSibling:h)}else f.childNodes.length?u=f.appendChild(e):n&&(u=n.insertBefore(e,o));return u&&s.push(u),t.slice(1).reduce(function(n,t){var i=n[n.length-1];return i.parentNode&&(i.nextSibling?i.parentNode.insertBefore(t,i.nextSibling):i.parentNode.appendChild(t),n.push(t)),n},s).filter(y)[0]},d=function(n,t){h.hasOwnProperty(n)&&h[n].forEach(function(n){n(t)})};return t=n?a(n):[],n&&rt(),{add:function(n,r,u){var h=typeof n=="string"?i.textToHTML(n):Array.isArray(n)?n:[n],f=r&&it(r),e,o,s;return ut(this.toolbar),e=!isNaN(f)&&t[f],o=gt(h,e,u),o&&(s=a(o),e?t.splice.apply(t,[f+(u?1:0),0].concat(s)):t=t.concat(s),g&&(w(null,!1),c())),t[isNaN(f)?t.length-1:f+(u?1:0)].getFacade()},get:function(n){var i=it(n);return typeof i=="number"?t[i].getFacade():null},addEvent:function(n,t){h.hasOwnProperty(n)?h[n].push(t):h[n]=[t]},removeEvent:function(n,t){var i,r;if(h.hasOwnProperty(n))if(i=h[n],t){for(r=0;r<i.length;r++)if(i[r]===t){i.splice(r,1);break}}else i.length=0,delete h[n]},toolbar:n,resize:function(t,i){i===void 0&&(i=!0);t&&w(t,!0);n&&i&&c()},recalculate:function(t){t&&ut(t);n&&n.parentNode&&(g=!0,w(null,!0),c())},focus:ft,blur:dt,isToolbarInitialized:function(){return!!n},disable:function(){t.forEach(function(n){n.control&&n.control.disable()})},enable:function(){t.forEach(function(n){n.control&&n.control.enable()})}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../vanillaExtension/vanilla"),u=require("../../vanillaExtension/vanillaUI"),f=require("../windowObserver"),e=require("./popupWindow"),r=f.default();t.default=o})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.toolbar"),geotab.commonjs.generateExport("geotab.checkmate.ui.toolbar"));self.geotab && geotab.declare("geotab.checkmate.ui.toolbar");
(function(n,require,t){"use strict";function u(n,t,u,f){var e=n.token,h=[{id:"googlev3",name:"googlev3",serverType:"GoogleMaps",alias:"google",key:"",keyRequired:!0,canDrawRoute:!0,isCustom:!1},{id:"here",name:"here",alias:"here",serverType:"Here",key:"",keyRequired:!0,canDrawRoute:!0,isCustom:!1},{id:"osm",name:"osm",alias:"openLayers",serverType:"MapBox",key:"",keyRequired:!0,canDrawRoute:!0,isCustom:!1},{id:"geo",alias:"geo",serverType:"Geo",key:"",keyRequired:!0,canDrawRoute:!1,isCustom:!0,name:"Geo",init:function(n,t){t.createLayersDictionary=(t.createLayersDictionary||"").replace("{{MAP_KEY}}",n)},createMapOptions:'{\n                    "units": "meters",\n                    "projection": "EPSG:3857"\n                }',createLayersDictionary:'[{\n                    "name": "Geotab",\n                    "type": "osm",\n                    "urls": ["https://'+location.host+"/apiv1/GetMapTile?credentials={'userName':'"+e.userName+"','sessionId':'"+e.sessionId+"','database':'"+e.database+"'}&x={x}&y={y}&z={z}&mapKey='{{MAP_KEY}}'\"]\n                }]"}],c=function(n){return n.filter(function(n){return i.isCustomMapValid(n.createMapOptions,n.createLayersDictionary).isValid}).map(function(n){var t=n.id;return{id:t,alias:t,serverType:t,key:"",keyRequired:!1,isCustom:!0,canDrawRoute:!1,name:n.name,createMapOptions:n.createMapOptions,createLayersDictionary:n.createLayersDictionary}})},l=function(n){return h.slice(0).concat(c(n))},a=["TripsActivityReport","DisplayMap","UserSettings"].some(function(n){return u.acl.indexOf(n)>-1}),v=function(n,t){return n[t.alias]=t.id,n},o=function(n){var u=n.reduce(v,{}),e=i.makeHash(n),t=n.filter(function(n){return!n.keyRequired||!!n.key}),o=function(n){return n&&n.id},r=function(t){for(var i,r=0;r<n.length;++r)if(i=n[r],i.serverType===t||i.id===t||i.alias===t)return i;return null};return{getProvider:r,getAllProviders:function(){return n.slice(0)},updateCustomProviders:function(n){f=n},isAvailable:function(n){var i=r(n);return i?t.some(function(n){return n.id===i.id}):!1},getUsableProviders:function(){return t.slice(0)},getProviderAPIKey:function(n){var i=u[n]||o(r(n))||"",t=e[i];return t&&t.keyRequired&&t.key||""},setUnusableProvider:function(n){for(var r=u[n]||n,i=0;i<t.length;++i)if(t[i].id===r){t.splice(i,1);break}},translateProviders:function(t){n.forEach(function(n){n.name=n.isCustom?n.name:t.translateKey(n.id)||n.id})},getUpdatedVersion:function(){return s()},getRouteProviders:function(){return t.filter(function(n){return n.canDrawRoute})}}},s=function(){var e=r.Deferred(),u=l(f),s;return a?(s=u.reduce(function(t,r){return r.keyRequired?i.callBuilder(t,n,"GetMapKey",{provider:r.serverType}):t},null),s&&s.beginInvoke(function(n){for(var t,r,i=u.length-1;i>=0;--i)t=u[i],t.keyRequired&&(r=n.pop(),t.key=r||"",t.init&&r&&t.init(r,t));e.resolve(o(u))},function(n){e.resolve(o(u));t(n)})):e.resolve(o(u)),e.promise()};return s()}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../utils"),r=require("../deferred");t.default=u})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.mapProvidersSupport"),geotab.commonjs.generateExport("geotab.checkmate.ui.mapProvidersSupport"));self.geotab && geotab.declare("geotab.checkmate.ui.mapProvidersSupport");
(function(n,require,t){"use strict";function oi(n,t,i){a(n,rt(t),i)}function si(n,t){t.container&&a(n,t)}Object.defineProperty(t,"__esModule",{value:!0});var v=require("../localizer"),r=require("../vanillaExtension/vanilla"),ut=require("../performance"),ft=require("./feedback/feedback"),et=require("./interactiveConnection"),ot=require("./securityCalculator"),st=require("./dialogTokenReceiver"),ht=require("./errorHandler"),ct=require("./eventHandler"),lt=require("./notificationsService"),y=require("./resourcesLocker"),at=require("./localeSettingsMonitor"),p=require("./notificationCenter"),vt=require("./ui/embeddedPageNavigator"),yt=require("./ui/urlState"),pt=require("./browser"),wt=require("./bigDataLogger"),w=require("./entitiesLoader"),bt=require("./requestQuotas"),b=require("./feedback/pageTooltipHelp"),k=require("./deferred"),kt=require("./pagesSecurity"),u=require("../utils"),dt=require("./ui/ifrLoginDialog"),d=require("./ui/networkStateMonitor"),gt=require("./storage/html5Storage"),ni=require("./storage/tokensCollection"),ti=require("./ui/notifier"),ii=require("./ui/toolbar"),ri=require("./ui/mapProvidersSupport"),ui=require("./channel/channel");require("../../js/rison");var i=n.getSharedVariable("default"),g=!1,f=pt.default(),o,s=[],e=ti.default(),h=ut.default,c=function(n,t){Array.prototype.forEach.call(n,t)},l,nt={},tt=!0,it=function(n){var t=bt.default(f.isMobile());n.amountRowsInList=f.isMobile()?t.mobileQuota():t.desktopQuota();n.desktopRequestQuota=t.desktopQuota();n.mobileRequestQuota=t.mobileQuota();n.speedPointsQuota=f.isMobile()?t.mobileSpeedPointsQuota():t.desktopSpeedPointsQuota();n.routesQuota=t.routesQuota();n.currentRequestQuota=t.currentQuota()},fi=function(){var n=k.resolved();return function(){n=n.then(function(){var n=i.systemSettings&&i.systemSettings.mapProvider,t=i.systemSettings&&i.systemSettings.customWebMapProviderList,u=i.entitiesLoader.systemSettings.getItemsByValue();return k.together([u,i.uiConfiguration.supportedMapProviders]).then(function(u){var f=u[0],e=u[1];f[0]&&(i.systemSettings=r.extend(i.systemSettings,f[0]),(n!==i.systemSettings.mapProvider||t!==i.systemSettings.customWebMapProviderList)&&(e.updateCustomProviders(f[0].customWebMapProviderList),i.uiConfiguration.supportedMapProviders=e.getUpdatedVersion(),i.notificationCenter.fireEvent("MapProvider.Set",{},{},!0)))},i.defaultErrorHandler)})}}(),ei=function(){var n,t="resize";UIEvent.prototype.initUIEvent?(n=window.document.createEvent("UIEvents"),n.initUIEvent(t,!0,!0,window,1)):n=new UIEvent(t,{bubbles:!0,cancelable:!0,view:window,detail:1});window.dispatchEvent(n)},a=function(t,a,k){var rt,rr=!!i.navigator,si=gt.Html5Storage(),li="logAboutIFrameSentV2",ai="GeoIFrameReferrer",ur=function(){var n,t=si.getItem(li);return i.connection&&t&&(n=i.connection.token.database,!n||t.split(",").indexOf(n)!==1)?!0:!1},vi=function(){if(f.isIFrameHosted()&&!ur()){var t=[],r=si.getItem(ai),e=wt.default(i.connection);r&&t.push(r);u.isExternalReferrer(n.location.referrer,location.host)&&t.push(n.location.referrer);t.forEach(function(t){e.log({key:"InsideIframe",value:t||n.location.host}).done(function(){var n=si.getItem(li)||"";n+=(n?",":"")+i.connection.token.database;si.setItem(li,n,!0);si.removeItem(ai)})})}},yi=function(n){var u=function(){return document.getElementsByClassName("checkmateToolbar")[0]},f=function(n){var t=n;if(t)while(t&&t!==document.body&&t.style&&t.style.display!=="none")t=t.parentNode;return t},t,i=n,e=function(n){r.css(i,{visibility:"hidden",display:"block"});n();r.css(i,{display:"none",visibility:"visible"})};return function(){var n=ii.default(u());return{recalcToolbar:function(){var t,r;n&&n.toolbar&&(n.isToolbarInitialized()||(t=u()),r=f(u()),i=r||i,i.style.display==="none"?e(function(){n.recalculate(t)}):n.recalculate(t))},getToolbar:function(){return n},focus:n.focus,blur:n.blur,disable:function(){t&&clearTimeout(t);t=setTimeout(function(){n.disable()},1)},enable:function(){t&&clearTimeout(t);n.enable()}}}}(a.container),pi=function(){var k,v,kt=function(n){var t=n||{getValue:function(){return["GroupCompanyId"]}},i={getValue:function(){var n=t.getValue(),i,r=[];for(n.length===0&&n.push("GroupCompanyId"),i=0;i<n.length;i++)k=n[i],k&&!k.id&&r.push({id:k});return r},attachEvent:t.attachEvent||u.NOOP,detachEvent:t.detachEvent||u.NOOP,filterChanged:null};return t.attachEvent&&t.attachEvent("selectionChanged",function(){i.filterChanged&&i.filterChanged()}),i},st=kt(i.filter),f=i.navigator,ht,ct,nt=function(n){var t=l;return t&&(l=null),r.extend({toolbar:v.getToolbar()},n||{},a,r.extend(!0,{},f.getState()),t||{})},w,lt=function(t){return function(){var r=f.getCurrentPageName(),e=rt.getName(),u;n.LOG_PERFORMANCE&&window.performance.getEntriesByName("loadingPage").length&&(u=h.markEnd("loadingPage"),h.logPageEntries(i.connection,{pageName:e,loadingTime:tt?h.now():u.duration},!0));tt=!1;v.enable();r&&r.toLowerCase().indexOf(t.toLowerCase())!==0||(v.recalcToolbar(),rt.focus(nt()))}},dt=function(n){var t=n.container?n.container.getElementsByTagName("iframe"):[];t.length&&c(t,function(n){n.src="about:blank"})},at=function(n){f.canGoBack()&&(n&&(l={childCallback:n}),f.goBack())},vt=function(){s.forEach(function(n){n.hide()});s.length=0},gt={device:"Vehicle",reportTemplates:"ReportTemplate"},ut={SystemSettings:{set:"EntitiesWasSetWarning",remove:"EntitiesWasRemovedWarning"},def:{set:"EntityWasSetWarning",remove:"EntityWasRemovedWarning"}},yt=function(n,t,r){var u=i.localizer;e.hideMessage(n);s.push(e.displayPopupNotification({message:u.translateKey(t).replace("{0}",u.translateKey(gt[n]||n).toLowerCase())+" "+u.translateKey("NotSavedChagesWarning"),group:n,link:{name:u.translateKey("Refresh"),click:function(){r()}}}))},ni=function(n){return n&&n.indexOf("addin-")===0},pt=a.container,wt=!!(pt&&pt.parentNode),et,bt,ot;o=o||new ft.Feedback(document.body,i.localizer.translateKey("Feedback"),i.localizer.getCultureInfo().language);it(i.uiConfiguration);g||(g=!0,st.filterChanged=f.reFocus,f.stateChange(f.reFocus));i.getCurrentPage=f.getCurrentPage;i.getCurrentPageName=f.getCurrentPageName;i.networkStateMonitor=i.networkStateMonitor||d.default(i.defaultErrorHandler,i.localizer,i.connection,i.channel);i.notificationCenter=i.notificationCenter||p.NotificationCenter(i.connection,i.channel);i.entitiesLoader.listenToDataMutationEvents(i.notificationCenter);wi(i);i.resourcesLocker=i.resourcesLocker||y.ResourcesLocker(i.notificationCenter,function(n){var t=ut[n]||ut.def;return yt(n,t.remove,function(){return at(undefined)}),!0},function(n){var t=ut[n]||ut.def;return yt(n,t.set,function(){f.reFocus({forceReload:!0})}),!0});a.shared={context:i,connection:i.connection,entitiesLoader:i.entitiesLoader,localizer:i.localizer,errorHandler:i.defaultErrorHandler,notificationsService:i.notificationsService,filter:st,getUrlState:function(){return r.extend(!0,{},f.getState())},updateUrlState:function(n,t){f.setState(n,t===undefined?!0:!!t)},getActionUrl:function(n,t){return f.getLinkTo(n,t)},gotoPage:function(n,t,i){f.gotoClass(n,t,i)},getCurrentPageName:f.getCurrentPageName,registerElementForAction:function(n,t,i,r,u){f.registerElementForAction(n,t,r||"",i,u)},unregisterElementForAction:function(n){f.unregisterElementForAction(n)},completedCallback:at,uiConfiguration:i.uiConfiguration,channel:i.channel,notificationCenter:i.notificationCenter,resourcesLocker:i.resourcesLocker};"onorientationchange"in window&&ei();w=a.realPageName||t.split(".").pop()||"";et=f.getCurrentPageName().toLowerCase();bt=et.indexOf(w.toLowerCase())===0;wt&&i.customButtons&&i.customButtons.bind(w,undefined,!0);v=yi();v.disable();a.pageTooltipHelp=b.pageTooltipHelpFactory(a.container&&a.container.querySelector("#toolTipHelp"),a.container,{pageName:i.getCurrentPageName(),language:i.localizer.getCultureInfo().language,formLinkText:i.localizer?i.localizer.translateKey("FillForm"):"Fill form"});ot=wt&&bt&&!f.isPageCreated(et)?f.createNewPage(t,nt(),et):null;ot?(rt=ot,ht=rt.focus,ct=rt.blur,rt.focus=function(n){o.showOnPage(w);i.customButtons.bind(w,undefined,!0);v.focus();vt();ht.apply(rt,[nt(n)])},rt.blur=function(){o.hide();v.blur();a.pageTooltipHelp.shown=!1;vt();ni(w)||dt(a);ct.apply(rt,[])},w=a.realPageName||(rt.getName?rt.getName().toLowerCase():""),rt.initialize(lt(w),nt())||lt(w)()):(v.enable(),v.blur())},wi=function(n){return function(t){t.notificationCenter.hasEvent("SystemSettings.Set",n)||t.notificationCenter.attachEvent("SystemSettings.Set",{},n)}}(fi),hi;if(f.isOldBrowser()){location.assign("/notSupported.html");return}if(rr)vi(),i.pageLoadingPromise&&i.pageLoadingPromise.state()==="pending"?i.pageLoadingPromise.then(pi).catch(i.defaultErrorHandler):pi();else if(!nt[t]){var ti={},bt=function(n){return n&&!n.isAborted&&oi.handleError(n),n},fr=function(n){var t;for(var i in n)n.hasOwnProperty(i)&&n[i]===undefined&&delete n[i];return t=rison.encode(r.extend(!0,{},n)),t.substr(1,t.length-2)},bi=function(n,i){var e=t.replace(/\./g,"/").toLowerCase(),f=document.URL,u=n,s=f.toLowerCase().indexOf(e),o="#"+fr(r.extend({},i||{},{credentials:ti.token}));return u.indexOf(".")===-1&&(u="geotab.checkmate.ui."+u),u=u.replace(/\./g,"/"),u.toLowerCase()===e?f.replace(/\.html.*$/i,".html"+o):f.slice(0,s)+u+".html"+o},ut=i.localizer=v.LocalizerConstructor(),er=yt.default(),or=er.getState("groups");i.navigator=vt.default(document.body,or,"",ut,bt,e,bi);i.getCurrentPage=i.navigator.getCurrentPage;hi=r.extend(!0,{},i.navigator.getState());ti.token=hi&&hi.credentials;var oi=ht.default.getInstance(null,ut),sr=ni.default(),hr=dt.default({localizer:ut}),ki=function(n){var t=location.pathname.substring(1).split("/").shift();return n&&n.database||t}(ti.token),di=function(n,t){ti.token=n;i.navigator.setState(r.extend(!0,{credentials:n},i.navigator.getState()),!1);t(n)},cr=function(n,t){return{database:n,userName:t&&t.userName||"",verificationToken:t&&t.verificationToken||""}},lr=st.default(hr,sr,ki,cr(ki,hi)),gi=function(n){var t=n.beginGetToken,i=n.beginGetTokenWithUI;return n.beginGetToken=function(n,i,r){t(n,function(n){di(n,i)},r)},n.beginGetTokenWithUI=function(n,t,r,u){i(n,t,function(n){di(n,r)},u)},n.attachEvent("ResetPassword",function(){e.displayWarning(ut.translateKey("ResetPasswordExpired"))}),n}(lr),pt=i.connection=function(n){var t=et.default(n,ti);return oi.setConnection(t),t}(gi),nr=k!==!1,ci=i.channel=ui.default(pt,oi.handleError,!nr),tr,ir=function(n,u){var h=r.extend({getValue:function(){return[{id:"GroupCompanyId"}]}},ct.default());ci&&(tr=lt.NotificationsService(pt,i.entitiesLoader,bt,ut,ci,bi,u?function(n){var t=u.acl;return!!(t.length&&t.indexOf(n)>-1)}:function(){return!1}),i.notificationCenter=i.notificationCenter||p.NotificationCenter(i.connection,i.channel),i.resourcesLocker=i.resourcesLocker||y.ResourcesLocker(i.notificationCenter),wi(i));n&&i.notificationCenter&&(i.localeSettingsMonitor=i.localeSettingsMonitor||at.default(pt,ut,i.notificationCenter,n,bt),i.notificationCenter.attachEvent("currentUserSecurityGroupsUpdate",{},function(){alert(ut.translateKey("CurrentUserSecurityGroupsChangeWarning"));window.location.reload()}));a.pageTooltipHelp=b.pageTooltipHelpFactory(a.container.querySelector("#toolTipHelp"),a.container,{pageName:i.navigator.getCurrentPageName(),language:ut.getCultureInfo().language,formLinkText:ut.translateKey("FillForm")});a.shared={context:i,connection:pt,entitiesLoader:i.entitiesLoader,localizer:ut,errorHandler:bt,notificationsService:tr,filter:h,getUrlState:function(){return r.extend(!0,{},i.navigator.getState())},updateUrlState:function(n,t){i.navigator.setState(r.extend(n||{},{credentials:ti.token}),t===undefined?!0:!!t)},getActionUrl:function(n,t){return i.navigator.getLinkTo(n,t)},gotoPage:function(n,t,r){i.navigator.gotoClass(n,t,r)},getCurrentPageName:function(){var n=i.navigator.getCurrentPage();return n?n.getName():""},registerElementForAction:function(n,t,r,u,f){i.navigator.registerElementForAction(n,t,u||"",r,f)},unregisterElementForAction:function(n){i.navigator.unregisterElementForAction(n)},completedCallback:function(){i.navigator.canGoBack()&&i.navigator.goBack()},uiConfiguration:u,channel:ci,notificationCenter:i.notificationCenter,resourcesLocker:i.resourcesLocker};var f=yi(),o=function(){return r.extend({toolbar:f.getToolbar()},a,i.navigator.getState())},s=function(){f.enable();f.recalcToolbar();rt.focus(o());i.navigator.stateChange(function(){rt.focus(o())});window.addEventListener("resize",rt.resize,!1)};rt=i.navigator.createNewPage(t,o());f.disable();!u||u.hasAccessToPage(rt.getName())?rt.initialize(s,o())||s():(e.displayPopupNotification({message:ut.translateKey("WrongPageWarning")}),setTimeout(function(){window.location.href=window.location.origin+"/"+pt.token.database},5e3))},ar=n.location.getVendorPrefix();i.defaultErrorHandler=bt;i.networkStateMonitor=i.networkStateMonitor||d.default(oi,ut,pt,ci);i.networkStateMonitor.attachEvent("NetworkConnectionFound",oi.connectionFound);i.networkStateMonitor.attachEvent("NetworkConnectionLost",oi.connectionLost);nt[t||""]=!0;nr?gi.beginGetToken(pt.getBasicConnection(),function(n){pt.token=n;vi();pt.call("Get",{typeName:"User",search:{name:pt.token.userName}}).andAlso("Get",{typeName:"Group",search:{id:"GroupSecurityId"}}).andAlso("Get",{typeName:"SystemSettings"}).andAlso("GetVersion",null,!1).andAlso("GetEULA",{domain:ar.domain||""}).beginInvoke(function(n){var t=n[0][0],e=ot.default(n[1]).getUiConfiguration(t.securityGroups[0]),h=kt.default(t,e.acl),o=n[2][0],s=i.uiConfiguration=r.extend(e,{isMobile:f.isMobile(),amountRowsInList:500,hasAccessToPage:h.hasAccessToPage,supportedMapProviders:ri.default(pt,bt,e,o.customWebMapProviderList)});i.entitiesLoader=w.default(pt);i.eula=i.localizer.parseEulaPath(t.language,n[4]);i.isMyAdmin=u.isMyAdminUser(t);i.filterUsers=u.filterUsersFn(t);i.currentUser=t;i.systemSettings=o;i.startVersion=n[4];it(s);i.connection.token.userName=t.name;ut.setCultureInfo(pt,t,!0,function(){ir(t,s)},bt)},bt)},bt):(ut.setCultureInfo(pt,r.extend(v.defaultCultureInfo,{language:ut.getDefaultLanguage()}),!0,u.NOOP,bt),i.entitiesLoader=w.default(pt),ir())}},rt=function(n,t){var i=r.extend({},t||{},{container:n,els:{}});return c(n.getElementsByClassName("extern"),function(n){n.id&&(i[n.id]=n)}),c(n.querySelectorAll("*[data-elt], *[id]"),function(n){var t=n.getAttribute("data-elt")||n.id;i.els[t]=n}),i};t.default=oi;t.PureCustomerPageStart=si;n.declare("geotab.checkmate");n.checkmate.startPage={pureStart:function(n,t,i,r){var u=typeof t=="string"?document.getElementById(t):t;u&&a(n,rt(u.parentNode,i),r)}}})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.startPage"),geotab.commonjs.generateExport("geotab.checkmate.startPage"));self.geotab && geotab.declare("geotab.checkmate.startPage");
(function(n,require,t){"use strict";function e(n,t){var b=t&&t.timeBeforeSpinner||(n?100:1e3),k=document.body,e={container:n?n:k,insertWaitingToContainer:t&&t.insertWaitingToContainer,zIndex:t&&t.zIndex},l=e.insertWaitingToContainer?e.container:k,u,h=function(){var n,t=!1,r=!1;return{start:function(f){var e={};n||(n=i.create("div",{"class":"waitingElement"}));u&&u.appendChild(n);f&&f<40&&(r=!0,e.backgroundSize=f+"px");e.display="block";i.css(n,e);t=!0},stop:function(){var u={};t&&(u.display="none",r&&(u.backgroundSize="40px"),n.parentNode&&n.parentNode.removeChild(n),i.css(n,u),t=!1)},isActive:function(){return t}}}(),c,d=i.extend({display:"none"},{border:"none"},{zIndex:e.zIndex||""}),p,a=function(){return h.isActive()},v=function(){return p&&clearTimeout(p),a()&&(p=setTimeout(function(){a()&&g()},200)),!0},nt=function(n){var i=document.defaultView.getComputedStyle(n),r=function(n,t,i){var r;return t.currentStyle?r=t.currentStyle[i]:window.getComputedStyle&&(r=n.getPropertyValue(i)),r},t=function(n,t){return parseInt(r(i,n,t),10)||0};return{left:t(n,"margin-left"),top:t(n,"margin-top"),right:t(n,"margin-right"),bottom:t(n,"margin-bottom")}},tt={left:0,top:0,right:0,bottom:0},g=function(){var a=h.isActive(),r=0,f=0,v=!1,o=l===e.container,c;if(u)if(e.container&&e.container.parentNode&&e.container.style.display!=="none"){var n=e.container.getBoundingClientRect(),t=o?tt:nt(e.container),s=o?0:n.top-t.top,y=o?0:n.left-t.left;a&&h.stop();c=document.body.offsetHeight;r=(n.height+s>c?c-s:n.height)+t.top+t.bottom;f=n.width+t.left+t.right;r>0?(i.css(u,{top:Math.floor(s+window.pageYOffset)+"px",left:Math.floor(y)+"px",width:Math.floor(f)+"px",height:Math.floor(r)+"px"}),a&&h.start(Math.min(n.height,n.width)),v=!0):u.style.display="none"}else h.stop(),u.style.display="none";return{isVisible:v,width:f,height:r}},it=function(){for(var i=document.getElementsByClassName("lockAreaThrobber"),t,n=0;n<i.length;n++)if(t=i[n],t.style.display==="none")return t;return null},rt=function(){u=it();u||(u=i.create("div",{"class":"lockAreaThrobber"}));window.addEventListener("resize",v,!1);d&&i.css(u,d)},ut=function(){var n;u||rt();e.container&&!a()&&(n=g());u&&(n.isVisible&&(u.style.display="block",h.start(Math.min(n.height,n.width))),u.parentNode&&u.parentNode===l||l&&l.appendChild(u),c&&u.setAttribute("data-tasts",c.getList().map(function(n){return f.htmlEscape(n.getName()||"")}).join(", ")))},ft=function(){u&&(window.removeEventListener("resize",v,!1),h.stop(),u.style.display="none",u=null)},et=function(){window.removeEventListener("resize",v,!1);h.stop();u&&u.parentNode&&u.parentNode.removeChild(u);u=null},w,y=0,ot=function(){return a()||y>0},st=function(){y++==0&&(w=setTimeout(function(){ut()},b))},ht=function(){--y<=0&&(clearTimeout(w),w=null,ft(),y=0)},ct=function(){ot()&&ht()};return{destroy:et,resize:v,displayProgress:function(n){var t=n;t&&(c||(c=o.default(),c.bind("start,resume",st).bind("suspend,end",ct)),r.isTask(t)||r.isTaskPromise(t)||!(s.isPromise(t)||f.isNativePromise(t))||(t=r.toTask(t)),r.isTask(t)&&c.add(t))},setOptions:function(n){e=i.extend(!0,e||{},n);e.timeBeforeSpinner&&(b=e.timeBeforeSpinner||(e.container?100:1e3))}}}var u;Object.defineProperty(t,"__esModule",{value:!0});var o=require("../tasks"),f=require("../../utils"),r=require("../task"),s=require("../deferred"),i=require("../../vanillaExtension/vanilla");t.default=e;u=function(){function n(n){this.waitingClasses=["waitingElement","standalone"];var t;n&&(this.container=n,t=n.querySelector("."+this.waitingClasses.join(".")),t?this.waitingEl=t:this.create())}return n.prototype.create=function(){this.container&&(this.waitingEl=i.create("DIV",{"class":this.waitingClasses.join(" ")},{display:"none"}),this.container.appendChild(this.waitingEl))},n.prototype.toggle=function(n){n===void 0&&(n=!1);this.waitingEl&&i.toggle(this.waitingEl,!!n)},n.prototype.show=function(){this.toggle(!0)},n.prototype.hide=function(){this.toggle(!1)},n}();t.ElementWaiting=u;n.declare("geotab.checkmate.ui");n.checkmate.ui.waiting=e;n.checkmate.ui.elementWaiting=u})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.waiting"),geotab.commonjs.generateExport("geotab.checkmate.ui.waiting"));self.geotab && geotab.declare("geotab.checkmate.ui.waiting");
(function(n,require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=require("../../vanillaExtension/vanilla"),h=require("../../vanillaExtension/vanillaDialog"),c=require("../eventHandler"),r=c.default(),f=u.create("DIV",{"class":"confirmDialog alert alert-error"}),o=u.create("span"),e=u.create("a",{"class":"link",href:""}),i,l=function(n){n.preventDefault();r.fireEvent("onSuccess",null)},a=function(n,t){n===void 0&&(n="");var u=/http:/ig,i,r,f;if(u.test(n))return!0;if(t)for(f=t.length,i=0;i<f;i++)if(r=t[i],r&&u.test(r))return!0;return!1},s=function(n,t){t===void 0&&(t=!1);var y=t?"UnsafeAddInContentLoadingWarning":"UnsafeContentLoadingWarning",u=!1,s=[],c=[],p=function(){s=[];c=[]},v=function(n){for(var r=n.length,t=0;t<r;t++)n[t]();p();i&&i.close()},w=function(){return i||(i=h.default(f,{isModal:!0,addCloseButton:!1,width:500,parentNode:document.body,buttons:[{name:"cancel",click:function(){r.fireEvent("onCancel",null)}}]},n)),i},b=function(){v(s)},k=function(){v(c)},l=n.translateKey;return r.attachEvent("onSuccess",b),r.attachEvent("onCancel",k),{reset:function(){u=!1},check:function(n,t,i,r,f){if(n&&!u&&a(t,f)){s.push(i);c.push(r);u=!0;var h=w();h.isShown()||(o.textContent=l(y)+" ",e.textContent=l("ProseedText"),h.title.set(l("UnsafeContentLoading")),h.show(null))}else i()}}};e.addEventListener("click",l,!1);f.appendChild(o);f.appendChild(e);n.declare("geotab.checkmate.ui");n.checkmate.ui.externalLinkAuditor=s;t.default=s})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.externalLinkAuditor"),geotab.commonjs.generateExport("geotab.checkmate.ui.externalLinkAuditor"));self.geotab && geotab.declare("geotab.checkmate.ui.externalLinkAuditor");
(function(n,require,t){"use strict";function v(t,v,y,p){if(!t)throw new Error("WrongDisplayHost");if(typeof y!="function")throw new Error("errorCallback is required");var nt=/<body[^>]*>([\s\S]*)<\/body[\s]*>/im,tt=/<script[^>]*>([\s\S]*?)<\/script[\s]*>/igm,et=/<title[^>]*>([^<]*)<\/title[\s]*>/igm,at=/<link[^>]*>/igm,vt=/<img[^>]*>/igm,ot="text/javascript",yt=function(n){var t=ht.createElement("SCRIPT"),i;t.setAttribute("type",n.type||ot);i=n.script;t.text=i;n.id&&(t.id=n.id);rt.appendChild(t)},pt=function(n,t){var u,o,f=i.Deferred();if(n.src){var s=function(){u.removeEventListener("error",c,!1);u.removeEventListener("load",h,!1)},h=function(){f.resolve(o);s()},c=function(){s();--n.retry>0?(u.parentNode&&u.parentNode.removeChild(u),u=l(n)):f.reject(new e.NotSevereError("Error during loading: "+o))},l=function(n,i){i===void 0&&(i="");var u=r.create("SCRIPT");return o=t&&n.src.indexOf("//")===-1?t+n.src:n.src,u.async=!1,u.src=o+i,u.type=n.type||ot,u.addEventListener("error",c,!1),u.addEventListener("load",h,!1),n.id&&(u.id=n.id),rt.appendChild(u),u};u=l(n)}else{try{yt(n)}catch(a){f.reject(a)}f.resolve("")}return f.promise()},wt=function(n,t,r){return n.reduce(function(n,t){var i=n[n.length-1],r=i?i[0]:null;return r&&!r.src==!t.src?i.push(t):n.push([t]),n},[]).reduce(function(n,u){return n.then(function(){return i.together(u.map(function(n){return pt(n,t).then(function(){return n.post(r,n)})}))})},i.resolved())},bt=function(){return Array.prototype.reduce.call(document.getElementsByTagName("LINK"),function(n,t){return n[(t.getAttribute("href")||"").split("?")[0]||""]=!0,n},{})},kt=function(n,t){for(var u,f=[],r,i,e=bt();u=at.exec(n);)r=u[0].match(/["']\S*(\.css|\.less)/ig),r&&(i=r[0].replace('"',""),i=t&&i.indexOf("//")===-1?t+i:i,e[i]||f.push(i));return f},dt=function(n,t){for(var r,e,u,f,i,o;o=vt.exec(n);)r=o[0],u=k(ti,r,st),u&&(f=i=u,i.substr(0,2)==="./"&&(i=i.replace("./","")),t&&i[0]!=="/"&&i.indexOf("//")===-1&&(i=t+i),f!==i&&(e=r.replace(f,i),n=n.replace(r,e)));return n},gt=function(n){n.forEach(function(n){rt.appendChild(r.create("LINK",{href:n,rel:"stylesheet"}))})},ni=/<script[^>]*src[\s]?=[\s]?['"]\S*['"][^>]*>/i,ti=/<img[^>]*src[\s]?=[\s]?['"]\S*['"][^>]*>/i,st=/src[\s]?=[\s]?['"]\S*['"]/i,ii=/<script[^>]*type[\s]?=[\s]?['"]\S*['"][^>]*>/i,ri=/type[\s]?=[\s]?['"]\S*['"]/i,ui=/<script[^>]*id[\s]?=[\s]?['"]\S*['"][^>]*>/i,fi=/id[\s]?=[\s]?['"]\S*['"]/i,ei=/['"]/gi,oi=/['"]$/gi,k=function(n,t,i){var u,r=(t.match(n)||[""])[0];return r&&(r=t.match(i)[0],u=r.search(ei)+1,r=r.substring(u,r.search(oi))),r},si=function(t){var i,r;n.addin&&t&&(i=Object.keys(n.addin).filter(function(t){return typeof n.addin[t]=="function"&&!n.addin[t].hasOwnProperty("hash")})[0],i&&(r="addin_"+f.generateId(),n.addin[r]=n.addin[i],n.addin[r].hash=t,delete n.addin[i]))},hi=function(t,i){i.collectionPath&&n.addLoaded([i.collectionPath])},ci=function(t,i){for(var u=[],r,e=function(){var o=r[0]||"",t={type:k(ii,o,ri),src:k(ni,o,st),id:k(ui,o,fi),collectionPath:"",script:r[1]||"",retry:1,post:f.NOOP},e,s;t.src&&!i&&t.src.indexOf("https://")===-1&&(e="",s=n.getLoaded(),e+=t.src.indexOf("../")!==-1?"/"+t.src.replace(/\.\.\//g,""):"GCU."+t.src.split(".")[0],s.some(function(n){return n===e})?t.src="":(t.src="RequiredScripts?i="+e+"&x="+s.join("&x="),t.collectionPath=e,t.post=hi,t.retry=3));i&&(t.post=si);(t.src||t.script)&&u.push(t)};r=tt.exec(t);)e();return u},it,ht=document,rt=ht.getElementsByTagName("HEAD")[0],w,d={},li="geotab/checkmate/ui/",b,ai=function(n){(b||(b=document.getElementsByTagName("title")[0])||{innerHTML:""}).text=n},vi=function(){return b=b||document.getElementsByTagName("title")[0],b&&b.textContent},ct=function(){d[w]&&ai(d[w])},yi=function(){var t=n.location.getVendorPrefix(),i=t.domain;return i?function(t){return t+" | "+n.location.getVendorTitle()}:f.echo}(),ut=s.default(),pi=function(){var t={},r=function(t,r){var u=i.Deferred();return ft.reset(),ft.check(!0,t.url,function(){n.privateRequire([t.url,t.translation],function(n,i,r){var o=n.getContent(t.url),s,f;o?u.resolve({translation:n.getContent(t.translation)||null,content:o}):(s=i&&i.length?i:[t.url],f=wi(s),r&&r.xhr&&r.xhr.status===403&&(f=new e.NotSevereError(p.translateKey("AddinTLSWarning")),f.isHandled=!0),u.reject(f))},null,[t.translation],r)},function(){u.reject(new e.AbortException)}),u.promise()},f=function(t){var u,f=t.url,r=i.Deferred();return n.LOG_PERFORMANCE&&(v.count()&&(window.performance.clearResourceTimings(),window.performance.clearMarks("loadingPage")),window.performance.getEntriesByName("loadingPage").length||l.default.mark("loadingPage")),u=n.load(f,function(n){typeof n=="string"&&n.match(nt)?r.resolve({translation:null,content:n}):r.reject(o.default(u,"ResourceLoadFailed",null,{url:f}))},function(){return r.reject(o.default(u,"ResourceLoadFailed",null,{url:f}))},"GET"),r.promise()};return function(n,i){var e=n.url,o=u.default("Loading page: "+n.url),s;return t[e]||(s=n.isExternal?r:f,t[e]=s(n,i).catch(function(){return s(n,i)})),t[e].then(function(t){var i=t.content,r=t.translation;o.resolve({content:i,translation:r,pageReqeust:n})},function(n){delete t[e];o.reject(n)}),o}}(),wi=function(n){return new e.NotSevereError("Add-In files: "+n.join(", ")+" couldn't be loaded. Probably they were moved to another location or removed.")},lt=function(n){n&&!n.isAborted&&y(n)},bi=function(n,t){var i={bodyContent:"",title:"",scripts:[],links:[],error:null},r=function(i){var r,u,f;return nt.lastIndex=0,tt.lastIndex=0,et.lastIndex=0,r=nt.exec(n),r?(u=r[1],i.scripts=ci(t.isExternal?n:u,t.isExternal),i.bodyContent=u.replace(tt,""),i.bodyContent=dt(i.bodyContent,t.prefix),f=et.exec(n),i.title=f?f[1]:"",i.links=kt(n,t.prefix)):i.error=new Error("Can't load "+t.url),i};try{i=r(i)}catch(u){i.error=u}return i},ki=function(n){for(var r=[],u=n.links||[],f=n.scripts||[],i=u.length,t=0;t<i;t++)r.push(u[t]);for(i=f.length,t=0;t<i;t++)r.push(f[t].src||"");return r},di=function(n){return n[0].toUpperCase()+n.substring(1)},gi=function(t){var i,r,u;if(typeof t=="string"){if(i="geotab.checkmate.ui.",n.checkmate&&n.checkmate.ui){if(typeof n.checkmate.ui[t]=="function")return i+t;if(r=di(t),typeof n.checkmate.ui[r]=="function")return i+r}if(typeof n.commonjs.require(i+t).default=="function")return i+t;if(u=t.split("/")[0],typeof n.commonjs.require(i+u).default=="function")return i+u}return""},g=[],nr=function(n){var i=n.pageReqeust,r=bi(n.content,i),f=u.default("Inject page");return r&&!r.error?ft.check(i.isExternal,i.prefix,function(){d[w]=yi(r.title);t.innerHTML=r.bodyContent||"";var u=wt(r.scripts,i.prefix,i.hash).then(function(){if(!i.isExternal&&!f.isDone()){var r=setTimeout(function(){var r=v.get(i.pageName),n;r||(n=gi(i.rawUrl||""),n&&h.default(n,t))},1);f.fail(function(){return r&&clearTimeout(r)})}f.resolve(n)},function(n){f.reject(n)});gt(r.links);ct();g.push(u)},function(){f.reject({isAborted:!0})},ki(r)):f.reject(r.error),f},tr=function(t){var r=i.Deferred();return n.waitForRequire(function(){i.together(g).then(function(){g.length=0;r.resolve(t)},function(){g.length=0;r.resolve(t)})}),r.promise()},ft=a.default(p),ir=function(n){for(var t="",i=n;i!==t;)t&&(i=t),t=decodeURIComponent(i);return i},rr=function(n){for(var r=ir(n).split(/[\\\/]/),t=[],i;r.length>0;)if(i=r.shift(),i!=="."){if(i===".."){t.length>0&&t.pop();continue}t.push(i)}return t.join("/")},ur=function(n){var t=typeof n=="string",r=t?{}:n||{},i=rr(t?n:n?n.url:""),u=t&&/\w\/\w/g.test(i),f=t?li+(u?i.replace(/\/\w+.*$/,""):i)+".html":i;return{pageName:i,rawUrl:n,isExternal:!t,isParametrized:u,hash:r.hash||"",prefix:r.prefix||"",translation:r.translation||"",url:f}};return{load:function(n,i,e){var y=ur(n),s=y.pageName,h,o,l,a;if(it=it||c.default(t.style.display!=="none"?t:undefined),i=i||f.NOOP,s===w)return u.default("Open the same page").resolve().promise();if(h=v.get(w),w&&(d[w]=vi()),h&&(h.blur(),h.content=Array.prototype.slice.call(t.children),r.empty(t)),w=s,o=v.get(s),o){ut.abort();l=u.default("uncaching "+s,i,lt);try{r.empty(t);o.content.forEach(function(n){t.appendChild(n)});o.focus();ct();l.resolve(o)}catch(p){l.reject(p)}return l.promise()}return r.empty(t),ut.abort(),r.empty(t),a=pi(y,e).andThen(tr).andThen(nr).done(function(n){i(null,n.translation)}).fail(lt),ut.add(a),it.displayProgress(a),a.promise()}}}Object.defineProperty(t,"__esModule",{value:!0});var u=require("../task"),f=require("../../utils"),s=require("../tasks"),i=require("../deferred"),h=require("../startPage"),c=require("./waiting"),r=require("../../vanillaExtension/vanilla"),o=require("../exceptions/networkException"),e=require("../exceptions/commonExceptions"),l=require("../../performance"),a=require("./externalLinkAuditor");t.default=v})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.pageLoader"),geotab.commonjs.generateExport("geotab.checkmate.ui.pageLoader"));self.geotab && geotab.declare("geotab.checkmate.ui.pageLoader");
(function(n,require,t){"use strict";function i(){var n={},t=function(n,t){var i=!1,r=!1;return{content:[],getOriginalPage:function(){return t},getName:function(){return n},isActive:function(){return i},focus:function(){for(var u=[],n=0;n<arguments.length;n++)u[n]=arguments[n];r&&(i=!0,t.focus.apply(t,u))},blur:function(){for(var u=[],n=0;n<arguments.length;n++)u[n]=arguments[n];r&&(i=!1,t.blur.apply(t,u))},initialize:function(n,i){return t.initialize?(t.initialize.call(t,function(){r=!0;n()},i),!0):(r=!0,!1)},onCultureInfoChange:function(n){t.onCultureInfoChange&&t.onCultureInfoChange.call(t,n,i)},resize:function(){t.resize&&t.resize.call(t)}}};return{get:function(t){return t?n[t.toLowerCase()]:null},set:function(i,r){var u=t(i,r),f=i.toLowerCase();return n[f]=u,u},remove:function(t){var i=t.toLowerCase(),r=n[i];r&&(console.log("destroying "+t),delete n[i])},count:function(){return Object.keys(n).length},forEachPage:function(t){return Object.keys(n).forEach(function(i){return n[i]&&t(n[i])})},getActive:function(){for(var r=Object.keys(n),t,i=0;i<r.length;++i)if(t=n[r[i]],t&&t.isActive&&t.isActive())return t;return null}}}Object.defineProperty(t,"__esModule",{value:!0});t.default=i})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.dynamicPagesCollection"),geotab.commonjs.generateExport("geotab.checkmate.ui.dynamicPagesCollection"));self.geotab && geotab.declare("geotab.checkmate.ui.dynamicPagesCollection");
(function(n,require,t){"use strict";function r(n,t,r,u){var o,s=t.hasAccessToPage,f=function(n){var t;try{t=n?JSON.parse(n):null}catch(i){t=[]}return t}(u),h=f!==null,l=r||{getValue:function(){return{}}},a=function(n){var t=n.hasAttribute("data-ignore"),i=n.tagName.toLowerCase()==="textarea";return t||i},c=function(n){for(var i=n.childNodes,r=["placeholder","title"],u=function(){var n=i[t];n.nodeType===3?n.textContent=e(n.textContent||""):n.nodeType!==1||a(n)||c(n);n.getAttribute&&r.forEach(function(t){var i=n.getAttribute(t);i&&n.setAttribute(t,e(i))})},t=0;t<i.length;t++)u();return n},e=function(n){if(h){var t=n.trim();if(t.length!==0)return typeof f[t]!="undefined"?f[t]:t}return n},v=function(n){if(n){if(typeof n=="string")return e(n);h&&c(n)}return n};return o={getState:function(){return i.extend(!0,{},n.getState()||{})},setState:function(t){n.setState(i.extend(o.getState(),t))},gotoPage:function(t,i){var r=n.getNextPageName(t);return s(r)?(n.gotoClass(r,i),!0):!1},hasAccessToPage:s,getGroupFilter:l.getValue,translate:v}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../vanillaExtension/vanilla");t.default=r})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.customPageApi"),geotab.commonjs.generateExport("geotab.checkmate.ui.customPageApi"));self.geotab && geotab.declare("geotab.checkmate.ui.customPageApi");
(function(n,require,t){"use strict";function r(t){var u=function(){n.addin.Promise||(n.addin.Promise=function(t){return n.promise(t)},Object.keys(n.promise).forEach(function(t){n.addin.Promise[t]=n.promise[t]}),n.addin.Promise.hash=!0,Object.freeze(n.addin.Promise))},r=function(){throw new Error("MethodNotSupported");};return u(),{call:function(r,u,f,e){return n.promise(function(n,o){t.call(r,u).beginInvoke(f||i.NOOP,e||i.NOOP).done(n).fail(o)})},multiCall:function(r,u,f){return n.promise(function(n,e){var o=r.reduce(function(n,i){return n?n.andAlso(i[0],i[1]):n=t.call(i[0],i[1]),n},null);o&&o.beginInvoke(u||i.NOOP,f||i.NOOP).done(n).fail(e)})},forget:r,getSession:function(n,i){i?r():n(t.token,location.host)}}}Object.defineProperty(t,"__esModule",{value:!0});require("./promise");var i=require("./utils");t.default=r})(geotab,geotab.commonjs.generateRequire("geotab.geotabApi"),geotab.commonjs.generateExport("geotab.geotabApi"));self.geotab && geotab.declare("geotab.geotabApi");
(function(n,require,t){"use strict";function f(t){var l=t.shared.connection,a=t.shared.errorHandler,o=u.default(l),s=i.default(t.shared.context.navigator,t.shared.uiConfiguration,t.shared.filter,t.translation),h=function(t){for(var u=Object.keys(n.addin),f,r,i=0;i<u.length;++i)if(f=u[i],r=n.addin[f],typeof r=="function"&&r.hash===t)return r;return null}(t.realPageName),f=h&&h(o,s),e=function(n){return function(){for(var c,i,u=[],e=0;e<arguments.length;e++)u[e]=arguments[e];c=f&&f[n]||r.NOOP;u.unshift(s);u.unshift(o);try{c.apply(f,u)}catch(h){i=typeof h=="string"?new Error(h):h;i.data=["Error happened after calling method '"+n+"' or the "+t.realPageName+" page."];i.isAddin=!0;i.url=t.realPageName;a(i)}}},v=e("initialize"),c=e("focus"),y=e("blur");return{initialize:function(n){v(n)},focus:function(){c()},onCultureInfoChange:function(){c()},blur:function(){y()}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("./customPageApi"),r=require("../../utils"),u=require("../../geotabApi");t.default=f})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.customPage"),geotab.commonjs.generateExport("geotab.checkmate.ui.customPage"));self.geotab && geotab.declare("geotab.checkmate.ui.customPage");
(function(n,require,t){"use strict";function o(t,o,s,h,c,l,a){var g=function(){var i=["includeHistoricData","includeHistoric","entityType","templateId","showHistoric"],n,r=function(n,t){return t.groups&&(!n||t.page!==n.page)},u=function(n,t){return n&&t&&t.groups&&i.some(function(i){return n.groups[i]!==t.groups[i]})},f=function(n){return i.reduce(function(t,i){return t+(n.groups.hasOwnProperty(i)?(t?",":"")+i+"="+n.groups[i]:"")},"")},t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{ga.apply(null,t)}catch(i){}};return{addPage:function(i){var u=i&&i.page||"default";typeof ga=="function"&&r(n,i)&&(n=i,t("send",{hitType:"pageview",page:"/#"+u,title:u}))},addEvent:function(i){typeof ga=="function"&&u(n,i)&&(n=i,t("send","event","options","apply",f(i)))},addCustomEvent:function(n,i,r){typeof ga=="function"&&t("send","event",n,i,r)}}}(),nt={},y=f.default(),rt=function(n){n&&!n.isAborted&&c.handleError(n)},ut=r.default(t,y,rt,h),w=s,v={},b={},k=function(n){var t=n||o.get();return t.page||w},tt=function(){return history.length>1},ft=function(n){var t,i=k();return tt()&&(t=nt[i],n&&(t.child.childCallback=n)),t},it,p,et=["dateFormat","timeFormat","isMetric","timeZoneId","fuelEconomyUnit"],ot=function(n,t){Array.prototype.forEach.call(n,t)},st=/.*\./ig,d=function(n){return n.replace(st,"")},ht=a||function(n,t){var i=o.get();return n&&(i.page=d(n),nt[i.page]=o.get()),i.groups=t||{},o.getHash(i)};return h.attachEvent("cultureInfoChange",function(n){var t=et.some(function(t){return n.current[t]!==n.previous[t]});t&&y.forEachPage(function(t){t.onCultureInfoChange(n)})}),p=i.extend({removeCustomPages:function(n){n.forEach(function(n){if(n.hash&&v[n.hash]){delete v[n.hash];var t=y.get(n.hash);t&&(y.remove(n.hash),delete t.content)}})},addCustomPages:function(n){n.forEach(function(n){n.hash&&(v[n.hash]={hash:n.hash,prefix:n.mainFileFolder||n.addinPath,url:n.url,translation:n.translation},n.oldHash&&(b[n.oldHash]=n.hash))})},getNextPageName:function(n){var t=(n||"").indexOf("addin-")===0?n:"addin-"+n;return b[t]?b[t]:v[t]?t:n},setCredentials:function(n){it=n},getState:function(){return o.get().groups||{}},setState:function(n,t){o.add({groups:n||{}},null,t===undefined?!0:!!t)},stateChange:function(n){o.attachEvent("change",function(t,i,r){t&&i&&t.page===i.page&&r&&n(t.groups,i.groups)})},pageChange:function(n){o.attachEvent("change",function(t,r,u){var f,e=o.get(),h=function(t,i){n&&n(f,t,i||null)},s;f=t&&t.page||u&&k(t);t&&r&&(!r||r.page===f)?g.addEvent(t):(g.addPage(t),f?(s=b[f]||f,ut.load(v[s]?v[s]:s,h,it)):i.isEmptyObject(e)||i.isEmptyObject(e.filter)&&i.isEmptyObject(e.groups)?(p.go(w,!0),h()):o.set(i.extend(!0,{page:w},e)))})},getLinkTo:ht,canGoBack:tt,getLinkBack:function(n){return o.getHash(ft(n))},goBack:function(){history.back()},setHomePage:function(n){w=n},getCurrentPageName:k,getCurrentPage:function(){return y.getActive()},go:function(n,t){o.set({page:n,groups:{}},t)},gotoClass:function(n,t,i){var r=p.getLinkTo(n,t);i===!0?window.location.replace(r):window.location.href=r},registerElementForAction:function(n,t,r,u,f){var e;n&&(n.tagName==="A"?e=n:f?n.parentNode.tagName==="A"?e=n.parentNode:(e=i.create("A"),n.parentNode.insertBefore(e,n),e.appendChild(n.parentNode.removeChild(n)),n.dataWrapped=!0):(n.dataWrapped||(n.dataWrapped=!0,i.wrapInner(n,i.create("A"))),e=n.children[0]),r&&e.setAttribute("title",r),e.href=p.getLinkTo(t,u))},unregisterElementForAction:function(n){var t=n,r=n.children[0];t.dataWrapped?(delete t.dataWrapped,r&&r.tagName==="A"&&i.unwrap(r)):t.tagName==="A"?t.href="javascript:void(0)":ot(t.children,function(n){n.tagName==="A"&&(n.href="javascript:void(0)")})},reFocus:function(n){var t;(t=p.getCurrentPage())&&t.focus(n)},isPageCreated:function(n){return!!y.get(v[n]?v[n].url:d(n))},createNewPage:function(t,i,r){var o=v[t],s=n.commonjs.require(t),a=s&&s.default,c=n.provide(t,window),u=o?e.default:typeof c=="function"?c:a,f;if(u){if(typeof u!="function")throw new Error(t+" was expected to be a function, not "+typeof u);return f=new u(i),f?y.set(o?o.url:d(r||t),f):f}return location.reload.length?l.displayPopupNotification({message:h.translateKey("ClearCacheWarningWithRefresh"),link:{name:h.translateKey("Refresh"),click:function(){location.reload(!0)}}}):l.displayWarning(h.translateKey("ClearCacheWarning")),null}},u.default())}Object.defineProperty(t,"__esModule",{value:!0});var r=require("./pageLoader"),u=require("../eventHandler"),f=require("./dynamicPagesCollection"),e=require("./customPage"),i=require("../../vanillaExtension/vanilla");t.default=o})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.embeddedPageNavigator"),geotab.commonjs.generateExport("geotab.checkmate.ui.embeddedPageNavigator"));self.geotab && geotab.declare("geotab.checkmate.ui.embeddedPageNavigator");
(function(n,require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.commonPasswords=["0000","00000","000000","00000000","007007","01011980","01012011","010203","098765","0987654321","101010","102030","1111","11111","111111","1111111","11111111","1111111111","111222","112233","11223344","1212","121212","12121212","12312","123123","123123123","123123a","1232323q","123321","1234","12341234","12344321","12345","1234554321","123456","1234567","12345678","123456789","1234567890","123456789a","123456789q","123456a","123456q","12345a","12345q","12345qwert","1234qwer","123654","123654789","123789","123abc","123qwe","12qwaszx","1313","131313","134679","141414","147147","147258","147258369","147852","147852369","151515","159357","159753","159951","1966","1969","1974","1975","1977","1978","1979","1980","1981","1982","1984","1985","1986","1987","1988","1989","1990","1991","1992","1993","1994","1q2w3e","1q2w3e4r","1q2w3e4r5t","1qaz2wsx","1qazxsw2","2000","202020","2112","212121","2222","222222","232323","242424","252525","315475","3333","333333","4128","420420","4321","4444","444444","456789","4815162342","5150","54321","5555","55555","555555","55555555","654321","6666","666666","6969","696969","69696969","741852963","7654321","7777","777777","7777777","77777777","789456","789456123","852456","8675309","87654321","8888","888888","88888888","9379992","987654","98765432","987654321","9999","999999","a12345","a123456","a1b2c3","aaaa","aaaaaa","aaaaaaaa","abc123","abcd1234","abcdef","abcdefg","abgrtyu","access","access14","accord","action","adidas","adrian","airborne","alaska","albert","alex","alexande","alexander","alexandr","alexis","alicia","alison","allison","alpha","alyssa","amanda","amateur","america","american","anderson","andre","andrea","andrew","andrey","angel","angela","angels","animal","anthony","antonio","apollo","apple","apples","arizona","arnold","arsenal","arthur","asd123","asdasd","asdf","asdf1234","asdfasdf","asdfg","asdfgh","asdfghjk","asdfghjkl","ashley","august","austin","avalon","avatar","awesome","azerty","baby","babygirl","badboy","badger","bailey","bambam","banana","bandit","barbara","barney","baseball","batman","baxter","beach","bear","beatles","beaver","beavis","beer","benjamin","bigboy","bigdaddy","bigdog","bigred","bill","billy","birdie","bishop","bitch","bitches","black","blazer","blink182","blonde","blondes","blue","bobby","bond007","bonnie","booboo","booger","boogie","boomer","booty","boston","bradley","brandon","brandy","braves","brazil","brenda","brian","brittany","bronco","broncos","brooke","brooklyn","brutus","bubba","bubbles","buddha","buddy","budlight","buffalo","bulldog","bulldogs","bullet","burton","buster","butter","calvin","camaro","cameron","canada","captain","cardinal","carlos","carmen","carolina","caroline","carter","cartman","casper","cassie","celtic","champion","chance","changeme","charles","charlie","checkmate","checkmate1","cheese","chelsea","cherokee","cherry","chester","chevelle","chevy","chicago","chicken","chopper","chris","christ","christin","claire","classic","claudia","cocacola","coffee","college","colorado","compaq","computer","connor","cookie","cool","cooper","copper","corvette","cougar","courtney","cowboy","cowboys","crazy","cream","creative","cricket","crystal","daddy","dakota","dallas","dancer","danger","daniel","danielle","darkness","darkside","dave","david","death","debbie","december","denise","dennis","denver","destiny","dexter","diablo","diamond","dick","diesel","digger","digital","dirty","disney","doctor","doggie","dolphin","dolphins","domino","donald","donkey","douglas","dragon","dreamer","dreams","driver","drowssap","drummer","ducati","duncan","eagle","eagle1","eagles","eclipse","edward","einstein","electric","elephant","elizabet","elvis","eminem","empire","england","enigma","enjoy","enter","eric","eugene","everton","explorer","extreme","falcon","family","fantasy","fender","ferrari","fire","firebird","fireman","fish","fishing","fktrcfylh","florida","flower","fluffy","flyers","football","ford","forest","forever","francis","frank","frankie","franklin","fred","freddy","free","freedom","freepass","freeuser","friday","friend","friends","froggy","fylhtq","gabriel","galina","galore","gandalf","garfield","gateway","gators","gemini","general","genesis","genius","george","georgia","geotab","geotab1","gfhjkm","ghbdtn","giants","gibson","ginger","girl","girls","goblue","godzilla","golden","golf","golfer","goober","google","gordon","great","green","gregory","guinness","guitar","gunner","hahaha","hammer","hannah","happy","happy1","hard","harley","hawaii","heather","heaven","hello","hello1","hello123","helpme","hendrix","hentai","hiphop","hitman","hobbes","hockey","homer","honda","hooters","horses","hotdog","hotrod","house","houston","howard","hummer","hunter","hunting","iceman","iloveyou","indian","infinity","internet","ireland","ironman","iwantu","jack","jackie","jackson","jaguar","jake","james","japan","jasmine","jason","jasper","jeffrey","jennifer","jeremy","jessica","jessie","jester","jesus","jimmy","john","johnny","johnson","jonathan","jordan","jordan23","joseph","joshua","juice","junior","jupiter","justice","justin","juventus","karina","kawasaki","kelly","kermit","kevin","killer","kimberly","king","kirill","kitten","kitty","klaster","knight","kristina","lacrosse","ladies","lakers","lalala","lasvegas","lauren","leather","legend","leslie","letmein","liberty","lifehack","little","liverpoo","liverpool","lizard","logitech","lol123","london","louise","love","lovelove","lovely","loveme","lover","loverboy","lovers","loveyou","lucky","lucky1","maddog","madison","madmax","madonna","maggie","magic","magnum","manutd","marcus","marina","marine","marines","mark","marlboro","marley","marshall","martin","marvin","maryjane","master","matrix","matt","matthew","maverick","maximus","maxwell","melanie","melissa","member","mercedes","mercury","merlin","metallic","metallica","mexico","michael","michael1","michelle","michigan","mickey","midnight","mike","miller","mine","minecraft","mistress","mitchell","mmmmmm","mnbvcxz","molly","monday","money","money1","monica","monkey","monster","montana","mookie","morgan","mother","motorola","mountain","movie","mozart","muffin","murphy","music","mustang","naked","naruto","nascar","natalie","natasha","nathan","naughty","ncc1701","ncc1701d","nelson","nemesis","newport","newyork","nicholas","nicole","nikita","nintendo","nipple","nipples","nirvana","nissan","norman","nothing","november","october","oksana","oliver","olivia","online","orange","ou812","packers","pakistan","pamela","pantera","panther","panthers","panties","paradise","paris","parker","pass","passion","passport","passw0rd","password","Password","PASSWORD","password1","patches","patricia","patrick","patriots","paul","peaches","peanut","pearljam","peekaboo","penguin","people","pepper","peter","phantom","phoenix","phpbb","picard","pimpin","pirate","platinum","playboy","player","please","pokemon","police","polina","poohbear","pookie","poop","poopoo","popcorn","porsche","power","predator","prince","princess","private","psycho","pumpkin","purple","q1w2e3","q1w2e3r4","q1w2e3r4t5","qazwsx","qazwsxedc","qazxsw","qqq111","qqqqqq","qwaszx","qwe123","qweasd","qweasdzxc","qweqwe","qwer1234","qwert","qwerty","qwerty1","qwerty12","qwerty123","qwertyu","qwertyui","qwertyuiop","rabbit","rachel","racing","raider","raiders","rainbow","ranger","rangers","raptor","rascal","rasdzv3","razz","rebecca","red123","reddog","redrum","redskins","redsox","redwings","reggie","richard","robert","rock","rocket","rocky","roland","rolltide","rooster","rosebud","runner","rush2112","ruslan","russell","russia","sabrina","saints","samantha","sammy","samson","samsung","samuel","sandman","sandra","sarah","saturn","scarface","school","scooby","scooter","scorpio","scorpion","scotland","scott","scotty","secret","security","semperfi","serega","sergey","shadow","shannon","sharon","shaved","shelby","shorty","sierra","silver","simon","simple","simpson","simpsons","skipper","skippy","skyline","slayer","slipknot","slut","smith","smokey","smooth","snickers","sniper","snoopy","snowball","soccer","softball","sophie","spanky","sparky","speedy","spencer","spider","spiderma","spiderman","spirit","spitfire","spooky","spring","squirt","srinivas","stalker","stanley","star","stargate","stars","startrek","starwars","steelers","stella","stephen","steve","steven","sticky","stinky","stupid","sublime","success","sucker","summer","sunshine","super","superman","surfer","suzuki","svetlana","sweet","swimming","swordfis","sydney","system","taylor","teens","tennis","teresa","test","test123","tester","testing","theman","therock","thomas","thumper","thunder","thx1138","tiffany","tiger","tigers","tigger","time","timothy","tinker","titanic","tomcat","tommy","topgun","toyota","travis","trinity","trouble","trustno1","tucker","turkey","turtle","tweety","united","Usuckballz1","valentin","vampire","vanessa","vegeta","veronica","vfhbyf","vfrcbv","victor","victoria","victory","video","viking","vikings","vincent","viper","virginia","vision","vladimir","voodoo","voyager","walker","walter","wanker","warcraft","warrior","water","welcome","westside","whatever","white","wildcat","wildcats","william","williams","willie","willow","wilson","windows","winner","winston","winter","wizard","wolf","wolfpack","wolverin","wombat","women","xavier","xxxx","xxxxx","xxxxxx","xxxxxxxx","yamaha","yankee","yankees","yellow","yfnfif","young","zachary","zaq12wsx","zombie","zxc123","zxcvbn","zxcvbnm","zzzzzz"]})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.passwordTools.commonPasswords"),geotab.commonjs.generateExport("geotab.checkmate.ui.passwordTools.commonPasswords"));self.geotab && geotab.declare("geotab.checkmate.ui.passwordTools.commonPasswords");
(function(n,require,t){"use strict";function o(n,t,o,s,h,c,l,a){l===void 0&&(l=!1);var ut={minimumLength:2,isLowerCaseRequired:!1,isUpperCaseRequired:!1,isNumericRequired:!1,isNonAlphanumericRequired:!1},g=function(){return{minimumLength:!p||p.minimumLength<12?12:p.minimumLength,isLowerCaseRequired:!0,isUpperCaseRequired:!0,isNumericRequired:!0,isNonAlphanumericRequired:!0}},nt=function(){var n={isLowerCase:o.translateKey("HaveLowerCaseLetter"),isUpperCase:o.translateKey("HaveUpperCaseLetter"),isNumeric:o.translateKey("HaveNumber"),isNonAlphanumeric:o.translateKey("HaveSpecialSymbol"),isCommonPassword:o.translateKey("NotPopularPasswordsMember"),isNotUserName:o.translateKey("NotUserName")},t={lengthItem:function(n){return o.translateKey("BeAtLeastCharacters").replace("{0}",n.minimumLength.toString())}};return function(i,r){return n[i]||t[i](r)}},tt={isLowerCaseRequired:"isLowerCase",isUpperCaseRequired:"isUpperCase",isNumericRequired:"isNumeric",isNonAlphanumericRequired:"isNonAlphanumeric"},y=null,v,p,it=document.querySelector(".changePasswordDialogContainer"),ft=function(){return v},w=function(){return document.getElementById("passwordCheckList")},d=function(){var t=w();t&&(i.css(t,{opacity:"0",top:"0px",left:"0px"}),e(function(){var a=t.getBoundingClientRect(),f=n.getBoundingClientRect(),r=a.width,v=a.height,y=window.getComputedStyle(t,":after").borderTopWidth,e=y?parseInt(y.replace("px",""))*1.5:0,o=document.body.clientWidth,p=document.getElementById("checkmateContent"),w=document.getElementById("menuId"),b=p&&p.querySelector(".checkmateFormPage fieldset"),g=o-(w?w.clientWidth:0)-(b?b.clientWidth:0)-(it?it.clientWidth:0),c=f.width,k=l?f.top+window.pageYOffset:n.offsetTop,s=l?r>=n.offsetParent.clientWidth?0:f.left:n.offsetLeft,d=s+c,h=g>=r+e&&o-d>=r+e,u=function(n){return(n<0?0:n)+"px"},nt=function(){return c>=r||l?l&&o-s<r?u(o-r):u(s):u(s-(r-c))};i.toggleClasses(t,"bottom",!h);i.toggleClasses(t,"left",h);i.css(t,{opacity:"",top:h?u(k-v/2+f.height/2):u(k-v-e),left:h?u(d+e):nt()})}))},b=function(){var n=w(),t;n&&(t=n.querySelector(".closeIcon"),window.removeEventListener("resize",d,!1),t&&t.removeEventListener("click",b,!1),n.parentNode.removeChild(n))},rt=function(n){return n===void 0&&(n=""),f.commonPasswords.indexOf(String(n).toLowerCase())>-1},k=function(n,i){n===void 0&&(n="");for(var h=/[\W\D]/gi,r={lengthItem:n.length>=i.minimumLength,isLowerCase:!i.isLowerCaseRequired,isUpperCase:!i.isLowerCaseRequired,isNumeric:!i.isNumericRequired,isNonAlphanumeric:!i.isNonAlphanumericRequired,isCommonPassword:!rt(n),isNotUserName:!0,accepted:!0},f=0,e=0,o=0,s=0,u=0;u<n.length;u++)isNaN(+n[u])?n[u]!==n[u].toLowerCase()?f++:n[u]!==n[u].toUpperCase()?e++:h.test(n[u])&&s++:o++;return i.isLowerCaseRequired&&(r.isLowerCase=e>0),i.isLowerCaseRequired&&(r.isUpperCase=f>0),i.isNumericRequired&&(r.isNumeric=o>0),i.isNonAlphanumericRequired&&(r.isNonAlphanumeric=s>0),r.isNotUserName=n.toLowerCase()!==t.name.toLowerCase()&&n.toLowerCase()!==t.name.toLowerCase().split("@")[0]&&n.toLowerCase()!==t.firstName.toLowerCase()&&n.toLowerCase()!==t.lastName.toLowerCase(),r.accepted=Object.keys(r).every(function(n){return r[n]}),r},et=function(){var e=0,ft=function(n,t){var r=n.querySelector("#lengthItem"),u=nt();r&&(r.querySelector(".policyText").textContent=u("lengthItem",v));Object.keys(tt).forEach(function(r){var u=n.querySelector("#"+tt[r]);u&&i.toggle(u,t[r])})},rt=function(n){var t=w();t&&Array.prototype.forEach.call(t.querySelectorAll("li"),function(t){var r=t.id;i.toggleClasses(t,"checklistPositive",n[r]);i.toggleClasses(t,"checklistNegative",!n[r])})},it=function(){return s?(n.disabled=!0,s.systemSettings.getItemsByValue().then(function(i){var u=i[0],f=w(),e;n.disabled=!1;u&&u.passwordPolicy&&(p=u.passwordPolicy,v=r.isMyAdminUser(t)?g():p,f&&(e=k(n.value,v),ft(f,v),rt(e),f.style.display=e.accepted?"none":""))},function(t){n.disabled=!1;h&&h(t)})):u.resolved()},et=function(){var u;if(!document.getElementById("passwordCheckList")){var s=nt(),t=document.createElement("div"),f=document.createElement("span"),e=document.createElement("ul"),r=function(n,t){var r=document.createElement("li"),f=i.createMultipleIcons([{icon:"check",className:"checkPassed"},{icon:"close-cross",className:"checkFailed"}]),u=i.create("span",{"class":"policyText"});r.id=n;r.appendChild(f);r.appendChild(u);u.textContent=s(n,v);t||(r.style.display="none");e.appendChild(r)};t.id="passwordCheckList";t.className="passwordCheckList";f.textContent=o.translateKey("PasswordMust");t.appendChild(f);t.appendChild(e);u=i.createIcon("close-cross","closeIcon");t.appendChild(u);r("lengthItem",!0);r("isLowerCase",v.isLowerCaseRequired);r("isUpperCase",v.isUpperCaseRequired);r("isNumeric",v.isNumericRequired);r("isNonAlphanumeric",v.isNonAlphanumericRequired);r("isCommonPassword",!0);r("isNotUserName",!0);l?document.body.appendChild(t):n.parentNode.appendChild(t);d();t.style.display="none";window.addEventListener("resize",d,!1);u.addEventListener("click",b,!1)}},f=function(t){var f=n.value,o=(new Date).getTime(),r=k(f,v),i=w(),u=function(){f.length>0?(et(),i=w(),rt(r),i.style.display=""):(e=0,b())};t?t.type==="input"?(r.accepted?i&&(i.style.display="none"):i?u():(y&&clearTimeout(y),y=setTimeout(function(){y=null;e-o==0&&u()},2e3)),e=o):t.type==="blur"&&!r.accepted&&f.length>0&&u():r.accepted||u()};return v=i.extend({},ut,a||{}),c&&!c.hasEvent("SystemSettings.Set",it)&&c.attachEvent("SystemSettings.Set",{},it),n.addEventListener("input",f,!1),n.addEventListener("keyup",f,!1),n.addEventListener("cut",f,!1),n.addEventListener("blur",function(n){f(n)},!1),n.value!==""&&f(),it()},ot=et();return{initializing:function(){return ot},isCommonPassword:rt,remove:function(){y&&clearTimeout(y);y=null;b()},getPasswordPolicy:ft,getCheckResult:function(){return k(n.value,v)},getErrorMessage:function(){var t=k(n.value,v);if(t.lengthItem)if(t.isLowerCase)if(t.isUpperCase)if(t.isNumeric)if(t.isNonAlphanumeric){if(!t.isNotUserName)return o.translateKey("PasswordPolicyContainUserNameException")}else return o.translateKey("PasswordPolicySymbolException");else return o.translateKey("PasswordPolicyNumberException");else return o.translateKey("PasswordPolicyUpperCaseException");else return o.translateKey("PasswordPolicyLowerCaseException");else return o.translateKey("PasswordPolicyMinimumLengthException").replace("{0}",v.minimumLength.toString());return""},setUser:function(n){t=n;v=r.isMyAdminUser(t)?g():p||v}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../../vanillaExtension/vanilla"),u=require("../../deferred"),f=require("./commonPasswords"),r=require("../../../utils"),e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;t.default=o})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.passwordTools.passwordStrength"),geotab.commonjs.generateExport("geotab.checkmate.ui.passwordTools.passwordStrength"));self.geotab && geotab.declare("geotab.checkmate.ui.passwordTools.passwordStrength");
geotab.declare("geotab.checkmate.ui.passwordTools").passwordChange_html = "<div>\\
<div id=\"changePassword_savedMessageId\"></div>\\
<div id=\"passwordChange_id\" class=\"checkmateFormPage\" style=\"display:none\">\\
    <fieldset>\\
        <div class=\"checkmateField\">\\
            <label class=\"label\" for=\"passwordChange_userNameId\">Current user:</label>\\
            <input id=\"passwordChange_userNameId\" title=\"Your current user name\" type=\"text\" class=\"checkmateFormEditField\" disabled=\"disabled\"/>\\
        </div>\\
        <div class=\"checkmateField\">\\
            <label class=\"label\" for=\"passwordChange_currentPasswordId\">Current password:</label>\\
            <input tabindex=\"1\" id=\"passwordChange_currentPasswordId\" title=\"Your current password\" type=\"password\" class=\"checkmateFormEditField\"/>\\
        </div>\\
        <div class=\"checkmateField\">\\
            <label class=\"label\" for=\"passwordChange_newPasswordId\">New password:</label>\\
            <input tabindex=\"1\" id=\"passwordChange_newPasswordId\" title=\"Your new password.\" type=\"password\" class=\"checkmateFormEditField\"/>\\
        </div>\\
        <div class=\"checkmateField\">\\
            <label class=\"label\" for=\"passwordChange_newPasswordVerifyId\">Retype new password:</label>\\
            <input tabindex=\"1\" id=\"passwordChange_newPasswordVerifyId\" title=\"Retype your new password.\" type=\"password\" class=\"checkmateFormEditField\"/>\\
        </div>\\
        <div class=\"checkmateField alert alert-error\" style=\"display: none\">\\
            <span class=\"fieldWithoutLabel singleField\" id=\"passwordChange_errorId\"></span>\\
        </div>\\
    </fieldset>\\
</div>\\
<div id=\"passwordChange_MyAdminUser\" class=\"extern\" style=\"display:none;\">\\
    <p class=\"alert alert-info\"><span>MyAdmin users must change their passwords through the MyAdmin site. Please follow this link:</span>\\
    <a id=\"passwordChange_MyAdminUserButtonId\" class=\"link\" href=\"https://myadmin.geotab.com/ForgotPassword.html?source=2\">MyAdmin</a>\\
    </p>\\
</div>\\
<ul style=\"display: none\">\\
    <li id=\"passwordChange_translate_oldPasswordError\" class=\"extern\">Your current password is not correct. Please try again. If you cannot remember your current password please ask an Administrator to reset your password from the User Edit page. You will be sent an email with a link to change your password.</li>\\
</ul>\\
</div>";

(function(n,require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../vanillaExtension/vanilla"),r=require("../../utils"),u=function(){function n(n,t){this.messageIds=[];this.delay=5e3;this.defaultContainer=n;t&&(this.delay=t.hideDelay||this.delay)}return n.prototype.displayMessage=function(n,t){var s=this,o;t===void 0&&(t=!1);var u=r.generateId(),f=i.create("DIV",{id:u,"class":"alert alert-"+(t?"error":"success")+" inlineSaveMessage"},{display:"none"}),e=n.container||this.defaultContainer;return this.delay=n.hideDelay||this.delay,this.hideMessages(),f.textContent=n.message||"",n.list&&(o=i.create("ul"),n.list.reduce(function(n,t){var r=i.create("li");return r.textContent=t,n.appendChild(r),n},o),f.appendChild(o)),e&&e.insertBefore(f,e.firstChild),this.messageIds.push(u),this.timerId&&clearTimeout(this.timerId),f.style.display="block",n.field&&n.field.focus(),t&&!n.preventAutoHide&&(this.timerId=setTimeout(function(){s.hideMessage(u);n.callback&&n.callback(u)},this.delay)),u},n.prototype.displaySaved=function(n){return this.displayMessage(n)},n.prototype.displayFailed=function(n){return this.displayMessage(n,!0)},n.prototype.hideMessage=function(n){n===void 0&&(n="");var t=document.getElementById(n);this.messageIds.indexOf(n)!==-1&&this.messageIds.splice(this.messageIds.indexOf(n),1);t&&t.parentNode.removeChild(t)},n.prototype.hideMessages=function(){var n=this;this.messageIds.length&&this.messageIds.forEach(function(t){return t&&n.hideMessage(t)})},n.prototype.unload=function(){this.hideMessages();clearTimeout(this.timerId)},n}();t.default=u})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.inlineSaveMessage"),geotab.commonjs.generateExport("geotab.checkmate.ui.inlineSaveMessage"));self.geotab && geotab.declare("geotab.checkmate.ui.inlineSaveMessage");
(function(n,require,t){"use strict";function s(n,t,s,h,c,l,a,v){var it=r.Deferred(),y=i.textToHTML(f)[0],ut=o.default(),ft=y.querySelector("#passwordChange_id"),et=y.querySelector("#passwordChange_userNameId"),nt=y.querySelector("#passwordChange_currentPasswordId"),w=y.querySelector("#passwordChange_newPasswordId"),b=y.querySelector("#passwordChange_newPasswordVerifyId"),ot=y.querySelector("#changePassword_savedMessageId"),st=y.querySelector("#passwordChange_errorId"),ht=y.querySelector("#passwordChange_MyAdminUser"),ct=y.querySelector("#passwordChange_translate_oldPasswordError"),k={},d={displayInlineSaveMessage:!0,displayCurrentPassword:!0},tt=new u.default(ot),lt=function(){i.toggle(nt.parentNode,d.displayCurrentPassword);tt.hideMessages();nt.value="";w.value="";b.value="";et.value=k.name||"";ft.style.display="block";i.hide(ht);p.initializing().then(function(){d.displayCurrentPassword?nt.focus():w.focus()})},at=function(){i.hide(st.parentNode)},g=function(n,t){tt.displayFailed({field:n,message:t})},p,vt=function(u,f,e,o){var s={ignore:!0,message:"ignored error"},c=r.reject(s),a=nt.value,l=w.value,v=b.value,y=function(){var s=r.Deferred(),c=function(){d.displayInlineSaveMessage&&tt.displaySaved({message:n.translateKey("SavedChanges")});u&&u();s.resolve(undefined)},a=function(n){f&&f(n);s.reject(n)},v=function(){at();t.call("Set",{typeName:"User",entity:i.extend({},e||k,{password:w.value,changePassword:!1})}).beginInvoke(function(){t.invalidateToken?t.invalidateToken(t.token.userName,t.token.database,l,!1,c,function(n){h(n);c()}):c()},function(t){t.isPasswordPolicyViolationException&&(t.message=n.getKnownErrorLocalizedName(t),t.message&&(t.message=t.message.replace("{0}",p.getPasswordPolicy().minimumLength)),g(null,t.message||t.name),t.ignore=!0);h(t);a(t)})};return o?t.call("Get",{typeName:"User",search:{name:t.token.userName}}).beginInvoke(function(n){e=n[0]||e;v()},a):v(),s.promise()},it=function(){if(d.displayCurrentPassword){var n=r.Deferred();return k.password=a,ut.call("Authenticate",{database:t.token.database,userName:k.name,password:k.password},!1).beginInvoke(function(t){return n.resolve(t)},function(t){g(nt,ct.textContent);t.ignore=!0;h(t);n.reject(t)}),n.promise()}return r.resolved()};return(tt.hideMessages(),d.displayCurrentPassword&&a==="")?(g(nt,n.translateKey("PasswordIsBlank")),h(s),c):l===""?(g(w,n.translateKey("PasswordIsBlank")),h(s),c):l!==v?(g(b,n.translateKey("PasswordsDoNotMatch")),h(s),c):p.isCommonPassword(l)?(g(w,n.translateKey("CommonPasswordsException")),h(s),c):p.getCheckResult().accepted?(p.remove(),it().then(y)):(g(w,p.getErrorMessage()),h(s),c)},rt=function(){i.toggleClasses(b,"passwordMismatch",w.value!==b.value)};return w&&w.addEventListener("keyup",rt,!1),b&&b.addEventListener("keyup",rt,!1),a?n.translateHtml(y,function(){c.innerHTML="";c.appendChild(y);it.resolve(undefined)}).fail(function(n){it.reject(n)}):(c.innerHTML="",c.appendChild(y),it.resolve(undefined)),{waitForLocalization:function(){return it.promise()},setUserData:function(t,r){return k=i.extend({},t||{}),p||(p=e.default(w,k,n,s,h,l,v)),p.setUser(t),d=i.extend(!0,{},d,r||{}),lt(),p.initializing()},save:function(n,t,i,r){return vt(n,t,i,r)},unload:function(){tt.unload();p&&p.remove()}}}var u,f;Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../../vanillaExtension/vanilla"),e=require("./passwordStrength"),r=require("../../deferred"),o=require("../../connection");require("./passwordChange[html]");u=require("../inlineSaveMessage");f=n.getContent("geotab.checkmate.ui.passwordTools.passwordChange[html]");t.default=s})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.passwordTools.passwordChange"),geotab.commonjs.generateExport("geotab.checkmate.ui.passwordTools.passwordChange"));self.geotab && geotab.declare("geotab.checkmate.ui.passwordTools.passwordChange");
(function(n,require,t){"use strict";function s(t,s,h,c,l){var rt=t.token?"serviceUpdates"+(t.token.userName==="webTestUser@geotab.com"?"|"+t.token.database:""):"",ut=e.CreateWithCaution(h,s,!1),ft="geoSessionVersion",p=c||f.default(t,s),k=!1,d=typeof l=="string"?undefined:l,w=d?"":l,v,b=!1,a,et=function(){a&&a.close()},ot=function(){v&&clearTimeout(v);n.isOldVersion=!1;b=!1},g=function(n,i){var r=n?n:o.NOOP;d?d.done(function(n){w=n;r(n)}).fail(i||s):t.call("GetVersion",null,!1).beginInvoke(r,i||s)},lt=function(){if(!a){var n=i.create("div",{"class":"systemWarningDialogText"});n.textContent=h.translateKey("serviceOfflineWarning");a=r.default(n,{addCloseButton:!1,isModal:!0,id:"offlineDialogWindow",width:500,title:h.translateKey("ServiceOffline")},h)}a.show()},nt=function(){return et(),lt(),at()},st=function(n){et();tt(n);p.fireEvent("ServiceStarted",it)},y=function(n,t,r){var u=i.create("p",r?{"class":r}:null);return n&&(u.textContent=n),t&&t.appendChild(u),u},tt=function(t){var e=ut.getItem(ft),o=l&&t!==w,s=e&&t!==e,u,f;if(t)try{ut.setItem(ft,t,!0)}catch(c){console.error(c)}s||n.isOldVersion?window.location.reload():o&&(n.isOldVersion=!0,u=i.create("div",{"class":"systemWarningDialogText"}),y(h.translateKey("ApplicationUpdatedNewVersion"),u),f=y(undefined,u,"systemWarningVersionsDialogText"),y(h.translateKey("PageReloadUpdateLatestVersion"),u),y(h.translateKey("NewVersion").replace("{0}",t),f),y(h.translateKey("OldVersion").replace("{0}",w),f),r.default(u,{addCloseButton:!1,isModal:!0,width:500,title:h.translateKey("UpdateReady"),buttons:[{name:h.translateKey("ok"),click:function(){window.location.reload()}}]},h).show());!l&&t&&window.location.reload()},it,at=function(){var n=u.Deferred(),t=5e3,i=function(){g(function(t){v=null;b=!1;ct(ht);st(t);n.resolve(t)},function(r){v=setTimeout(i,t);s(r);n.reject(r)})};return!b&&a&&a.isShown()&&(b=!0,v=setTimeout(i,t)),n.promise()},ht=function(){p.subscribe(rt,function(n){n&&(n.isAlive===!0?st():(nt(),p.fireEvent("ServiceStopped",it)))})},ct=function(n){p.unsubscribe(rt);n&&setTimeout(n,0)};return it={start:function(){k||n.isOldVersion||(ot(),g(function(n){tt(n);w=n},nt),ht(),k=!0)},stop:function(){ot();ct();k=!1},waitForVersion:function(){return nt()},checkVersion:function(){var n=u.Deferred();return g(function(t){tt(t);n.resolve(t)},function(t){n.reject(t)}),n.promise()}}}Object.defineProperty(t,"__esModule",{value:!0});var f=require("../channel/channel"),i=require("../../vanillaExtension/vanilla"),r=require("../../vanillaExtension/vanillaDialog"),e=require("../storage/html5Storage"),u=require("../deferred"),o=require("../../utils");t.default=s})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.serviceOfflineManager"),geotab.commonjs.generateExport("geotab.checkmate.ui.serviceOfflineManager"));self.geotab && geotab.declare("geotab.checkmate.ui.serviceOfflineManager");
geotab.declare("geotab.checkmate.eula").eulaBase_html = "<div id=\"eula\">\\
    <ul class=\"unstyled inlineList eulaLanguages\"></ul>\\
    <div id=\"eulaContent\" class=\"noTranslate\">\\
\\
    </div>\\
</div>";

(function(n,require,t){"use strict";function s(t,s,h,c){var tt=o.default(undefined,{zIndex:10003}),a=(c||[]).reduce(function(n,t){var i=n[t.language];return i?i.version<t.version&&(n[t.language]=t):n[t.language]=t,n},{}),it=Object.keys(a).map(function(n){return a[n]}),v=document.createElement("div"),l,p,d,y={},w=document.createElement("div"),b=function(n){return a[n]||a.en||a[Object.keys(a)[0]]},rt=function(n,t){t.length>1?n.appendChild(t.reduce(function(n,t){var r=i.create("li",{"class":"inlineItem"}),u=i.create("a",{"class":t.language});return u.textContent=t.language,r.appendChild(u),n.appendChild(r),n},document.createDocumentFragment())):n.style.display="none"},g=function(n){return t.setCultureInfo(s,n,!1,r.NOOP,r.NOOP)},ut=/<body[^>]*>([\s\S]*)<\/body[\s]*>/im,ft=function(n){var t=n.match(ut);return t?t[1]:n},k=function(t,i){var r=u.default("getEULA"),f="brands."+(t.path||"").replace("\\",".").replace(".html","[html]");return y[i]?(r.resolve(t),r):(n.privateRequire([f],function(n){var u=n.getContent(f);if(!u)throw Error("Could not find file: eula_"+i);return y[i]=ft(u),r.resolve(t),u}),r)},nt=function(){var t,n,i=[],r=function(){var u=[].every.call(i,function(n){return n.checked}),r=n.buttons[0];u&&t?r.enable():r.disable()},u=function(){var t=n.container;return t.scrollHeight-t.scrollTop>t.offsetHeight+200};return function(f){n=f;t=!u();i=n.container.querySelectorAll("input[type='checkbox']");n.container.addEventListener("scroll",function(){var i=n.container,u=i.offsetHeight+200;i.scrollHeight-i.scrollTop<u&&(t=!0,r())},!1);[].forEach.call(i,function(n){n.addEventListener("change",r,!1)});r()}}();return v.innerHTML=n.getContent("geotab.checkmate.eula.eulaBase[html]"),rt(v.getElementsByClassName("eulaLanguages")[0],it),p=v.querySelector("#eulaContent"),document.body.appendChild(w),w.className="eula-warning-container",d=f.default(t,{container:w}),Array.prototype.forEach.call(v.querySelectorAll("a"),function(n){n.addEventListener("click",function(n){var i=n.target.className,r=t.getCultureInfo();r.language=i;tt.displayProgress(g(r).andThen(function(){return k(b(i),i)}).andThen(function(){p.innerHTML=y[i];l.title.set(t.translateKey("GeotabEUA"));l.buttons[0].set(t.translateKey("Accept"));l.buttons[1].set(t.translateKey("Decline"));nt(l)}).fail(function(n){n&&!n.isAborted&&h(n)}))},!1)}),{getEulaHTML:function(n){return k(b(n),n).andThen(function(){return y[n]})},show:function(n){var i=n.language,r=function(n){var r=u.default("EULADialog");return p.innerHTML=y[i],l=e.default(v,{height:600,width:600,isModal:!0,addCloseButton:!1,title:t.translateKey("GeotabEUA"),buttons:[{id:"acceptEulaButtonId",name:t.translateKey("Accept"),click:function(){s.call("AcceptEULA",{version:n.version}).beginInvoke(function(n){return l.close(),l.destroy(),r.resolve(),n},function(n){n.name==="ServerStopped"&&d.displayWarning(t.translateKey("AcceptEulaNoInternetConnection"));h(n)})}},{id:"declineEulaButtonId",name:t.translateKey("Decline"),click:function(){l.close();r.reject()}}]},t),l.show(),nt(l),r};return g({language:i,isMetric:n.isMetric,dateFormat:n.dateFormat,timeFormat:n.timeFormat,timeZoneId:n.timeZoneId}).andThen(function(){return k(b(n.language),i)}).fail(h).andThen(r)}}}var f;Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../vanillaExtension/vanilla"),r=require("../../utils"),e=require("../../vanillaExtension/vanillaDialog"),u=require("../task"),o=require("../ui/waiting");require("./eulaBase[html]");f=require("../ui/notifier");t.default=s})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.eula.eula"),geotab.commonjs.generateExport("geotab.checkmate.eula.eula"));self.geotab && geotab.declare("geotab.checkmate.eula.eula");
(function(n,require,t){"use strict";function k(t,k,d,g,nt,tt){var ft="token",et="logout",ot,kt=c.default(),rt,lt,dt=function(n){var r=t.currentUser,u=function(n){return i.isMyAdminUser(n)?(n.name||"").split("@")[0]+" ("+t.localizer.translateKey("ResellerSupport")+")":n.name},f=r?u(r):t.connection.token.userName;return t.connection.call("Add",{typeName:"Audit",entity:{name:"UserLogoff",comment:f+(n?" "+t.localizer.translateKey("LogoutAll"):"")}})},at=function(n){var i=!!it,r=i&&it.origin?it.origin:"",t={};return t[et]=it&&it.database||n||!0,r+"/"+g.getHash(t)},vt=function(n){n===void 0&&(n=!1);var r=t.connection.token.database||"",i=function(n){return n.split("/")[2]||""};t.connection.token={userName:"",database:"",sessionId:""};ht.then(function(t){var u=i(window.location.href),f=t||at(r);rt.fireEvent("logout",rt);wt();window.location.href=f;u===i(window.location.href)&&n&&location.reload()})},gt=t.defaultErrorHandler||nt||i.NOOP,it=null,st=!1,ut=!1,yt=!1,pt=!1,ni=function(n){return t.localizer.setCultureInfo(t.connection,n,!1,i.NOOP,i.NOOP).andThen(function(){var c=f.default("passwordReset"),u=r.create("DIV",{"class":"changePasswordDialog"}),l=function(){u.removeEventListener("keyup",s,!1);i.buttons[0].disable();h.save(function(){var n=k.getTokenFromStorage();n&&n.source&&(delete n.source,k.cacheToken(n,!1));i.close();i.destroy();c.resolve()},function(){u.addEventListener("keyup",s,!1);i.buttons[0].enable()})},s=function(n){n.keyCode===13&&l()},v=function(n){i.buttons[0].enable();u.addEventListener("keyup",s,!1);t.defaultErrorHandler(n)},h=e.default(t.localizer,t.connection,t.entitiesLoader,v,u,t.notificationCenter,!0,!0),i=o.default(u,{isModal:!0,addCloseButton:!1,title:t.localizer.translateKey("ResetPassword"),buttons:[{id:"changePasswordDialogButtonDefault",name:t.localizer.translateKey("save"),click:l}]}),a=function(){i.show();h.setUserData(n,{displayInlineSaveMessage:!1,displayCurrentPassword:!1})};return r.addClasses(i.element,"changePasswordDialogContainer"),u.addEventListener("keyup",s,!1),h.waitForLocalization().then(a,a),c})},ht=u.resolve(""),ti=function(n){var r=u.resolve(""),i;return n.hasOwnProperty("userAuthenticationType")&&n.userAuthenticationType==="SAML"&&n.issuerCertificate&&n.issuerCertificate.id&&(i=u.Deferred(),r=i.promise(),t.connection.call("Get",{typeName:"Certificate",search:{id:n.issuerCertificate.id}}).beginInvoke(function(n){var t=n&&n[0]&&n[0].logOffUrl||"";i.resolve(t)},function(n){i.resolve("");t.defaultErrorHandler(n)})),r},wt=function(n){k.clearCachedToken();n&&(location.hash=g.getHash({}).replace("#","").split(",").filter(function(t){return t!==n}).join(","))},ii=function(){var n,t=g.get();return ft in t&&(n=t[ft],g.remove(ft),ct.clear()),n},ct=w.default(),ri=function(){var n=ct.getItem();return n?n.token:null},ui=function(){var i=n.location.database||"",r=decodeURIComponent(i&&i.toLowerCase()!=="geotab"?i:""),u=t.navigator.getState(),f=u&&u.userName||"";return r||f?{database:r,userName:f,password:""}:null},fi=function(){return d.listItems().length!==0},bt=function(n){var t=n||{message:"Unknown error"};return t.isConnectionShutDownException?!0:t.isAuthenticationRequiredException?(tt&&tt(t),!0):gt(t)||t},ei=function(n){return n.call("GetVersion",null,!1).beginInvoke(i.NOOP,bt)},oi=function(n,t){var i=t.reduce(function(n,t){return n<t.version?t.version:n},0);return i===n.acceptedEULA};return t.defaultErrorHandler=bt,ot=et+":"+n.location.database,g.getHash().indexOf(ot)>-1?wt(ot):window.location.search.indexOf(et)>0&&k.clearCachedToken(),t.connection||(fi()||(it=[ii,ri,ui].reduce(function(n,t){return n||t()},null)),ct.clear(),t.connection=l.default(k,{token:it})),t.startVersion=ei(t.connection).done(function(n){t.startVersion=n}).fail(function(n){n.name==="ServerStopped"&&p.default(t.connection,t.defaultErrorHandler,t.localizer).waitForVersion().then(function(n){t.startVersion=n})}),rt=r.extend(a.default(),{isLoggedIn:function(){return st},isLoggingIn:function(){return ut},isLoggingOut:function(){return yt},getLogoutUrl:at,login:function(){var l=function(){e.token&&e.token.userName||o({isAuthenticationRequiredException:!0})},o=function(n){return ut=!1,t.defaultErrorHandler.call(this,n)},a=function(n,u,o,c){var l=s.default(u).getUiConfiguration(n.securityGroups[0]),v=function(){var i=f.default("completeLoginTask");try{ut=!1;it=k.getTokenFromStorage()||t.connection.token;st=!0;rt.fireEvent("login",rt,[pt===!1,t.connection,n,l]);pt=!0;i.resolve()}catch(r){i.reject(r)}return i},a=t.localizer.parseEulaPath(n.language,c),w=h.default(n,l.acl),p=function(){var t=n;return function(){return t.changePassword||e.token.source==="ResetPassword"?ni(t).andThen(v):v()}}();t.eula=a;t.isMyAdmin=i.isMyAdminUser(n);t.filterUsers=i.filterUsersFn(n);t.systemSettings=o;t.uiConfiguration=r.extend(l,{hasAccessToPage:w.hasAccessToPage,isMobile:kt.isMobile(),amountRowsInList:500,supportedMapProviders:y.default(t.connection,t.defaultErrorHandler,l,o.customWebMapProviderList)});t.connection.token.userName.toUpperCase()===n.name.toUpperCase()&&(t.connection.token.userName=n.name);ht=ti(n);ht.then(function(n){n&&k.setExpiredSessionCallback&&k.setExpiredSessionCallback(function(){vt()})});oi(n,a)?p():(lt=b.default(t.localizer,t.connection,t.defaultErrorHandler,a),lt.show(n).fail(function(){rt.logout(!1,!0)}).andThen(p))},c=function(i){var f=n.location.getVendorPrefix(),r=v.default(t.connection);u.together([r.users.getItemsByValue({name:i}),r.groups.getItemsByValue({id:"GroupSecurityId"}),r.systemSettings.getItemsByValue({}),r.call("GetEULA",{domain:f.domain||""})]).then(function(n){var i=n[0],u=n[1],f=n[2],e=n[3];i[0]?(t.entitiesLoader=r,a(i[0],u,f[0],e)):rt.logout()},o)},e=t.connection;ut=!0;e.token&&e.token.userName?c(e.token.userName):(e.requestToken(function(n){e.token=n;c(n.userName)},o),l())},logout:function(n,i){var r=dt(n);yt=!0;st=!1;r.andAlso(n?"LogoffAllSessions":"Logoff").beginInvoke(function(){vt(i)},function(n){t.defaultErrorHandler(n)})}})}Object.defineProperty(t,"__esModule",{value:!0});var e=require("./ui/passwordTools/passwordChange"),o=require("../vanillaExtension/vanillaDialog"),r=require("../vanillaExtension/vanilla"),i=require("../utils"),s=require("./securityCalculator"),h=require("./pagesSecurity"),f=require("./task"),u=require("./deferred"),c=require("./browser"),l=require("./interactiveConnection"),a=require("./eventHandler"),v=require("./entitiesLoader"),y=require("./ui/mapProvidersSupport"),p=require("./ui/serviceOfflineManager"),w=require("./storage/redirectionTokenStorage"),b=require("./eula/eula");t.default=k})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.loggedInStateController"),geotab.commonjs.generateExport("geotab.checkmate.loggedInStateController"));self.geotab && geotab.declare("geotab.checkmate.loggedInStateController");
geotab.declare("geotab.checkmate.ui").loggedInStatusBox_html = "<div class=\"right\">\\
    <span id=\"loggedInState_statusRow\">\\
        <a id=\"loggedInState_support\" href=\"#helpSupport\" class=\"toolbarCell active\">\\
            <span class=\"toolbarIcon geotabIcons_support hidden-lg\">&nbsp;</span>\\
            <span class=\"toolbarCellText hidden-md hidden-sm hidden-xs\">Support</span>\\
        </a>\\
        <span id=\"loggedInState_databaseNameId\" class=\"noTranslate toolbarCell hidden-md hidden-sm hidden-xs\">&nbsp</span>\\
        <a href=\"#notifications\" id=\"loggedInState_notificationsCount\" class=\"noTranslate toolbarCell toolbarMain active\"></a>\\
        <a id=\"loggedInState_dropdownButtonId\" class=\"noTranslate toolbarCell active\">\\
            <svg class=\"svgIcon geotabButtonIcons toolbarTextIcon\"><use xlink:href=\"#user\"></use></svg>\\
            <span class=\"toolbarCellText ellipsis hidden-sm hidden-xs\">...</span>\\
        </a>\\
    </span>\\
    <div id=\"loggedinState_dropdownContent\" class=\"centered\" style=\"display: none;\">\\
        <ul>\\
            <li class=\"hidden-lg dbName\"><div class=\"ellipsis\" id=\"logged_db\"></div></li>\\
            <li style=\"display:none;\"><a id=\"loggedInState_optionsButtonId\" class=\"geotabButton\" href=\"#options\">Options</a></li>\\
            <li style=\"display:none;\"><a id=\"loggedInState_changePassButtonId\" class=\"geotabButton\" href=\"#changePassword\">Change password</a></li>\\
            <li class=\"verticalButtonSet\">\\
                <a id=\"logged_logoutId\" class=\"geotabButton errorButton\">Log out</a>\\
            </li>\\
        </ul>\\
    </div>\\
</div>";

(function(n,require,t){"use strict";function c(t,c,l,a,v,y,p){var w=function(){return c.innerHTML=n.getContent("geotab.checkmate.ui.loggedInStatusBox[html]"),c}(),yt=u.default(),ht=w.querySelector("#loggedInState_databaseNameId"),tt=w.querySelector("#loggedInState_dropdownButtonId"),ut=w.querySelector("#loggedInState_statusRow"),ft=w.querySelector("#loggedInState_support"),d=h.default(),g=w.querySelector("#loggedInState_notificationsCount"),nt=t.localizer,k=t.navigator,pt=function(n){n.preventDefault();b.logout(!!this.getAttribute("data-all"))},ct=function(){var r=w.querySelector("#loggedinState_dropdownContent"),n=w.querySelector("#loggedInState_optionsButtonId"),i=w.querySelector("#loggedInState_changePassButtonId"),u=w.querySelector("#logged_logoutId"),o=w.querySelector("#logged_db"),e;o.textContent=t.connection.token.database;tt.removeEventListener("click",ct,!1);document.body.appendChild(r);e=f.default(tt,{content:r,position:"bottom_left",closeOnSelect:!0});it("UserSettings")&&(n.parentNode.style.display="block",n.addEventListener("mouseover",function(){n.setAttribute("href",k.getLinkTo("options"))},!1));it("ChangePassword")&&(i.parentNode.style.display="block",i.addEventListener("mouseover",function(){i.setAttribute("href",k.getLinkTo("changePassword"))},!1));u.setAttribute("href",b.getLogoutUrl());u.addEventListener("click",pt,!1);e.open()},it=function(n){return t.uiConfiguration&&t.uiConfiguration.acl&&t.uiConfiguration.acl.indexOf(n)!==-1},wt=function(){var n=ft.getElementsByClassName("toolbarCellText")[0];n.textContent=nt.translateKey("Support")},bt=function(){t.filter&&t.filter.attachEvent("selectionChanged",function(){g.href=k.getLinkTo("notifications");ft.href=k.getLinkTo("helpSupport")})},et=function(){var i=tt.getElementsByClassName("toolbarCellText")[0];b.isLoggedIn()?(ut.style.display="inline",ht.textContent=t.connection.token.database,i.textContent=t.connection.token.userName,nt.getStateTask().done(wt).done(bt)):(b.isLoggingIn()||b.isLoggingOut()||n.load(t.connection.url+'/IsHosted?urlHostName="'+n.location.host+'"',function(n){if(n)try{var i=JSON.parse(n);i.error&&t.defaultErrorHandler(i.error)}catch(r){t.defaultErrorHandler(r)}},function(n,i){t.defaultErrorHandler(s.default(i,n+"not loaded",null,{url:n}))},"GET"),ut.style.display="none",ht.textContent="...",i.textContent="...")},kt=function(n,t){var u=function(){var u=t.getNotificationsCount(),f=u===1?nt.translateKey("Notification"):nt.translateKey("Notifications");r&&i.show(g);r=!1;n.innerHTML=u+" <span class='hidden-xs'>"+f+"<\/span>"},r=!1;t.attachEvent("notificationsUpdated",u);t.attachEvent("notificationsUpdateFailed",function(){r=!0;i.hide(g)});u()},dt=function(n,t){return"/"+n+"/"+t},lt=function(){var n=/logout:([^&]+)/i;return{getLogoutDatabaseName:function(t){t===void 0&&(t="");var i;return t?(i=t.match(n),i&&i[1]||null):null},removeLogoutDatabase:function(t){return t===void 0&&(t=""),t?t.replace(n,""):null}}}(),rt=lt.getLogoutDatabaseName(window.location.href),gt=function(n){var t=d.getItem(n);return t&&"origin"in t},at=function(n){var t;return n&&typeof n=="string"?(t=n.substring(1).split("/"),decodeURIComponent(t.shift()||"")):""},ot=r.default({isClosable:!1,localizer:t.localizer,languageSelector:t.languageSelector}),ni=function(){k.setState(i.extend({},k.getState(),{userName:undefined,verificationToken:undefined}))},ti=function(){var n=k.getState();return{userName:n.userName||"",verificationToken:n.verificationToken||""}},vt=e.default(ot,d,at(window.location.pathname),ti()),b=o.default(t,vt,d,l,y,p),ii=function(){return!!(window.external&&window.external.isCheckmate)},st;return vt.attachEvent("ResetPassword",function(){yt.displayWarning(nt.translateKey("ResetPasswordExpired"))}),ot.attachEvent("open",function(){i.show(c);i.hide(w)}),ot.attachEvent("close",function(){i.show(w)}),ii()&&(ut.style.display="none"),b.attachEvent("login",function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var u=function(n){n&&kt(g,n)},r=at(window.location.pathname),f=n[1].token;if(it("NotificationList")?n.push(u):i.hide(g),it("ViewAdvancedHelp")||(ft.style.display="none"),et(),ni(),!r||f.database!==r){window.location.replace(dt(n[1].token.database,window.location.hash));return}a.apply(this,n)}),b.attachEvent("logout",function(){et();v.apply(this,arguments)}),tt.addEventListener("click",ct,!1),rt&&(rt==="!t"&&(st=d.listItems().filter(gt),st.length===1&&(rt=st[0])),d.removeItem(rt),window.location.replace(lt.removeLogoutDatabase(window.location.href)||"")),et(),b.login(),{isLoggedIn:function(){return b.isLoggedIn()},login:function(){b.login()},logout:function(){b.logout()}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../vanillaExtension/vanilla"),r=require("./ifrLoginDialog"),u=require("./notifier"),f=require("./popupWindow"),e=require("../dialogTokenReceiver"),o=require("../loggedInStateController"),s=require("../exceptions/networkException"),h=require("../storage/tokensCollection");require("./loggedInStatusBox[html]");t.default=c})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.loggedInStatusBox"),geotab.commonjs.generateExport("geotab.checkmate.ui.loggedInStatusBox"));self.geotab && geotab.declare("geotab.checkmate.ui.loggedInStatusBox");
(function(n,require,t){"use strict";function h(t,h,c,l,a,v){var y=[],w=f.default(v,!0),g=s.default(t),nt=e.default(h,c,l),tt=function(t,i){var o=Object.keys(n.customButtons),f,e,u;if(r[t])return n.customButtons[r[t]];for(f=0;f<o.length;++f)if(e=o[f],u=n.customButtons[e],typeof u=="function"&&(!u.hash||u.hash===t))return r[t]=e,u.hash=t,u.page=i,u;return null},it=function(n){var t=new Error(v.translateKey("ButtonAddinLoadingError").replace("{0}",n));return t.isSevere=!1,t},p={js:function(n,t){var u=function(){this.onerror=null;this.onload=null;t()},r=i.create("script",{src:n,type:"text/javascript"});r.onload=u;r.onerror=u;r.async=!1;document.head.appendChild(r)},"default":function(i,r){n.privateRequire([i],r,undefined,undefined,t.getCredentials())}},rt=function(n){n===void 0&&(n="");for(var i=[],t=0;t<y.length;++t)(y[t].page||"").toLowerCase()===n.toLowerCase()&&i.push(y[t]);return i},ut=function(t,i){var r=o.default("downloadCustomButtonScript"),u=(t||"").split("."),f=2,e=u[u.length-1],s=p[e]?p[e]:p.default,h=function(){var n=tt(t,i);r.isDone()||(n?r.resolve(n):f?(f-=1,setTimeout(function(){r.isDone()||s(t,h)},500)):r.reject(it(t)))};return n.declare("geotab.customButtons"),s(t,h),r},ft=function(n){return function(t){n.call(this,t,g,nt)}},et=function(n){var u=n.buttonName||"",t=i.create("button",{"class":"geotabButton customButton noTranslate"}),r=n.icon&&i.create("span",{"class":"icon"},{backgroundImage:"url("+n.icon+")"});return r&&t.appendChild(r),t.appendChild(document.createTextNode(u||"")),t},b=function(n,t){n.addEventListener("click",t,!1)},ot=function(n,t){n.removeEventListener("click",t,!1)},st="customAddinButton",ht="checkmateToolbar",ct=function(){var n=document.getElementsByClassName(st);return n.length===0&&(n=document.getElementsByClassName(ht)),n[0]},lt=function(n){return{click:n.click,page:n.page,buttonName:n.buttonName,icon:n.icon,request:null,handler:null,elt:null,controller:null}},k=function(n){return n.click},at=function(n){return!y.some(function(t){return t.page===n.page||t.click===n.click})},vt=function(n){var t=n.elt,i=n.controller;t&&i&&(n.handler&&ot(t,n.handler),t.parentNode&&t.parentNode.removeChild(t),i.destroy());n.request&&n.request.abort()},d={};return{add:function(n){var t=(n||[]).filter(k).filter(at).map(lt);y=y.concat(t)},remove:function(n){var t=(n||[]).filter(k);t.length&&(y=y.filter(function(n){return t.some(function(t){return t.click===n.click})?(vt(n),!1):!0}))},bind:function(n,t,i){var r=rt(n),f=function(r){if(r&&!r.elt&&(r.handler||r.request||(r.request=ut(r.click,n).done(function(n){r.handler=ft(n)}).fail(function(n){var t=n||new Error("Unknown script loading error");t.isSevere=!1;a(t)})),i&&!t&&(t=ct()),t)){var f=et(r);t.appendChild(f);r.elt=f;r.controller=u.createButtonSwitcher(r.elt);r.handler?b(r.elt,r.handler):(r.controller.disable(),r.request&&r.request.done(function(){b(r.elt,r.handler);r.controller&&r.controller.enable()}))}};r.length&&(w.reset(),d[n]||w.check(!0,"",function(){r.forEach(f)},function(){d[n]=!0},r.map(function(n){return n.click})))}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../vanillaExtension/vanilla"),u=require("../../vanillaExtension/vanillaUI"),f=require("./externalLinkAuditor"),e=require("./customPageApi"),o=require("../task"),s=require("../../geotabApi"),r={};t.default=h})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.customButton"),geotab.commonjs.generateExport("geotab.checkmate.ui.customButton"));self.geotab && geotab.declare("geotab.checkmate.ui.customButton");
(function(n,require,t){"use strict";function i(n,t,i){var e=r.create("div",{"class":"confirmDialog"}),o,s,h=i||{},f=u.default(e,{isModal:!0,addCloseButton:!1,width:h.width||300,parentNode:n?n:document.body,buttons:[{name:"cancel",click:function(){c(s)}},{name:"ok",className:"dialogConfirmed",click:function(){c(o)}}]},t),c=function(n){n&&n();f.close()},l=function(n,t,i,r){h.allowHTMLContent?e.innerHTML=t:e.textContent=t;f.title.set(n);f.buttons[1].set(i);r&&f.buttons[0].set(r)};return{confirm:function(n,t,i,r,u,e){arguments.length===5?(l(n,t,i),o=r,s=u):(l(n,t,i,r),o=u,s=e);f.show(null)},isVisible:function(){return f.isShown()},close:function(){return f.close()}}}Object.defineProperty(t,"__esModule",{value:!0});var r=require("../../vanillaExtension/vanilla"),u=require("../../vanillaExtension/vanillaDialog");t.default=i;n.declare("geotab.checkmate.ui");n.checkmate.ui.confirmDialog=i})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.confirmDialog"),geotab.commonjs.generateExport("geotab.checkmate.ui.confirmDialog"));self.geotab && geotab.declare("geotab.checkmate.ui.confirmDialog");
geotab.declare("geotab.checkmate.ui.modules.languageSelector").languageSelector_html = "<div class=\"languageSelector noTranslate\">\\
    <div class=\"languageRow\">\\
        <div class=\"languageList main\"></div>\\
        <div class=\"languageTrigger trigger\">\\
            <svg class=\"svgIcon geotabButtonIcons bigger languageIcon\"><use xlink:href=\"#right-open\"></use></svg>\\
        </div>\\
    </div>\\
    <div class=\"languageColumn popup others\" style=\"display: none;\"></div>\\
</div>";

(function(n,require,t){"use strict";function s(n,s,h,c){var b,y=i.textToHTML(r)[0],l,p,k=s.getDefaultLanguage(),d=function(n){return{title:n[0],message:n[1]+"<br/><strong>"+n[2]+"<\/strong><br/><br/>"+n[3],confirmButton:n[4],cancelButton:n[5]}},ut=function(n){var i=["Change language","Refresh the page to apply the selected language.","This will clear all filled information!","Do you want to reload the page?","Reload the page","Cancel"],t=o.Deferred();return n!=="en"&&h?h.call("Translate",{sentences:i,language:n},!1).beginInvoke(function(n){t.resolve(d(n))},function(){t.resolve(d(i))}):t.resolve(d(i)),t},v=function(t){t!==p&&(p=t,document.documentElement.setAttribute("lang",t),Array.prototype.forEach.call(n.getElementsByClassName("languageLabel"),function(n){i.toggleClasses(n,"active",n.getAttribute("data-language")===t)}))},ft=function(n){c?n!==p&&ut(n).done(function(t){l||(l=f.default(null,s,{allowHTMLContent:!0,width:350}));l.confirm(t.title,t.message,t.confirmButton,t.cancelButton,function(){s.setDefaultLanguage(n);window.location.reload()},function(){v(s.getDefaultLanguage())})}):(v(n),s.setDefaultLanguage(n),b&&b())},g=t.languages.sort(function(n,t){return n.value===k?-1:t.value===k?1:0}),et=function(n){var t=i.create("SPAN",{"class":"languageLabel languageSelectorTranslation","data-language":n.value});return t.textContent=n.label,t.addEventListener("click",function(){ft(t.getAttribute("data-language"))},!1),t},tt=function(n,t,i,r){for(var e,f,u=0;u<i;++u)n.children.length&&(e=r?n.children.length-1:0,f=n.removeChild(n.children[e]),t.children.length&&r?t.insertBefore(f,t.children[0]):t.appendChild(f))},a=y.getElementsByClassName("main")[0],w=y.querySelector(".popup"),it=y.querySelector(".trigger"),rt=e.default(it,{content:w,addAutoScroll:!0,position:"bottom_left",minWidth:100}),nt=function(){var t=g.reduce(function(n,t){return n.width-=t.width,n.width>0&&n.amount++,n},{width:a.offsetWidth,amount:0}).amount,n=a.children.length,r;n!==u&&t>n?tt(w,a,t-n,!1):t<n&&tt(a,w,n-t,!0);r=w.children.length;i.toggle(it,!!r);r||rt.close()};return a.appendChild(g.reduce(function(n,t){return n.appendChild(et(t)),n},document.createDocumentFragment())),n.appendChild(y),v(k),i.show(n),g.forEach(function(n,t){var i=a.children[t];n.width=i.offsetWidth}),i.hide(n),{show:function(){v(s.getDefaultLanguage());i.show(n);nt();window.addEventListener("resize",nt,!1)},hide:function(){rt.close();i.hide(n);window.removeEventListener("resize",nt,!1);l&&l.isVisible()&&l.close()},getContainer:function(){return n},setOnChange:function(n){b=n},setPageLanguage:v,getPageLanguage:function(){return p||"en"}}}var r,u;Object.defineProperty(t,"__esModule",{value:!0});var f=require("../../confirmDialog"),e=require("../../popupWindow"),o=require("../../../deferred"),i=require("../../../../vanillaExtension/vanilla");require("./languageSelector[html]");t.languages=[{value:"en",label:"English",width:0},{value:"fr",label:"Franais",width:0},{value:"es",label:"Espaol",width:0},{value:"ja",label:"",width:0},{value:"de",label:"Deutsch",width:0},{value:"pl",label:"Polski",width:0},{value:"pt-BR",label:"Portugus(Brasil)",width:0},{value:"nl",label:"Nederlands",width:0},{value:"it",label:"Italiano",width:0},{value:"zh-Hans",label:"",width:0}];r=n.getContent("geotab.checkmate.ui.modules.languageSelector.languageSelector[html]");u=t.languages.length;t.default=s})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.modules.languageSelector.languageSelector"),geotab.commonjs.generateExport("geotab.checkmate.ui.modules.languageSelector.languageSelector"));self.geotab && geotab.declare("geotab.checkmate.ui.modules.languageSelector.languageSelector");
(function(n,require,t){"use strict";function i(n,t,i,r,u,f,e,o,s){return{name:n,id:t===null||t===undefined?"":t,parent:i,groups:r||[],type:u,color:f,subType:s||null,isFake:!!o,realParent:e||i}}function o(n,t){return i("","-1",null,n,t,null,null,!0)}function r(n,t){var f=!1,u;for(t||(t=[],f=!0),t.push(i(n.name,n.id,null,[],n.type)),u=0;u<n.groups.length;u++)r(n.groups[u],t);return f?t:[]}function u(n,t,f,e){var o,c,s,h;if(e===!0)return o=r(n,null),c=f.toLowerCase(),o=o.filter(function(n){return n.name.toLowerCase().indexOf(c)!==-1}),i(n.name,n.id,null,o,n.type);if(n.id===t)return n;for(s=0;s<n.groups.length;s++)if(h=u(n.groups[s],t,f,e),h)return h;return null}function f(n,t,i){var r,u;if(n.type===t&&n.id===i)return n;for(r=0;r<n.groups.length&&!u;r++)u=f(n.groups[r],t,i);return u}function e(n,t){return t?n.groups.reduce(function(n,i){return i.name.toLowerCase().indexOf(t)!==-1?n.push(i):i.groups.length>0&&(n=n.concat(e(i,t))),n},[]):[]}function s(n){return n.sort(function(n,t){return t.groups.length-n.groups.length})}Object.defineProperty(t,"__esModule",{value:!0});t.createGroup=i;t.createEnvelopeGroup=o;t.flattenTree=r;t.findGroup=u;t.findNodeByTypeAndId=f;t.recursiveSearchByTree=e;t.sortByBranchesAndLeaves=s;n.declare("geotab.checkmate");n.checkmate.tree=n.commonjs.require("geotab.checkmate.tree")})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.tree"),geotab.commonjs.generateExport("geotab.checkmate.tree"));self.geotab && geotab.declare("geotab.checkmate.tree");
(function(n,require,t){"use strict";function c(t,r,c){var k=n.getSharedVariable("default").localizer,v=function(n){return k.translateKey(n)||n},d=r,nt="GroupCompanyId",y=p.currentQuota(),tt="**Org**",it=c&&c.strings&&c.strings.entireOrganizationText?c.strings.entireOrganizationText:"***Entire Organization",yt=c&&c.strings&&c.strings.itemsOfTypeNotFoundText?c.strings.itemsOfTypeNotFoundText:"Some items of type '{0}' couldn't be found: {1}",pt=c&&c.strings&&c.strings.typeIsNotSupportedText?c.strings.typeIsNotSupportedText:"'{0}' type is not supported!",g=function(n,t,r,u){var o,s,f=e.createGroup(!n.name||n.name===tt?it:n.name,n.entityId||(n.id?n.id:undefined),t===undefined?null:t,[],i.GROUPS,n.color,u);if(r&&(f=r(f,n)||f),n.children=n.children||n.groups,n.children)for(o=0;o<n.children.length;o++)s=g(n.children[o],f,r,n.children[o].parent),f.groups.push(s);return f},a=function(t,i,r,u,f,o,s){for(var l,a=e.createGroup(t,i,null,[],r,null,null,!0),h,v,y=f||n.echo,c=0;c<u.length;c++)h=u[c],v=e.createGroup(o?o(h):h.name,typeof h=="string"?h:h.id,a,[],r,null,null,undefined,s&&s(h)),l=y(v,h),l!==!1&&a.groups.push(l||v);return a},rt=function(n,t){return a(v("Drivers"),"DRIVERS",i.DRIVERS,n,t,k.getDriverDescription)},ut=function(n,t){return a(v("Diagnostics"),"DIAGNOSTICS",i.DIAGNOSTICS,n,t)},ft=function(n,t){return a(v("Users"),"USERS",i.USERS,n,t,k.getUserDescription)},et=function(n,t){return a(v("Devices"),"VEHICLES",i.VEHICLES,n,t)},ot=function(n,t){return a(v("Zones"),"ZONES",i.ZONES,n,t)},st=function(n,t){return a(v("Routes"),"ROUTES",i.ROUTES,n,t,undefined,function(n){return n&&n.device?i.ROUTEPLAN:i.ROUTES})},ht=function(n,t){return a("Misc","MISC",i.MISC,n,t)},ct=function(n,t){return a(v("Trailers"),"TRAILERS",i.TRAILERS,n,t)},lt=function(n,t){return a(v("Rules"),"RULES",i.RULES,n,t)},b,l=[],at=function(n,i,r,f,e,o,h){var l={typeName:"User",resultsLimit:y,search:n||{}},c,v,w,b;if((!o.includeHistoric||o.fromDate)&&(l.search.fromDate=o.fromDate||(new Date).toISOString()),e){var a=e.trim(),p=a.indexOf(" "),k=u.extend(!0,{},l);k.search.name="%"+a+"%";c=t.call("Get",k);p>2&&(v=u.extend(!0,{},l),v.search.firstName="%"+a.substring(0,p).trim()+"%",v.search.lastName="%"+a.substring(p).trim()+"%",c=c.andAlso("Get",v));w=u.extend(!0,{},l);w.search.firstName="%"+a+"%";c=c.andAlso("Get",w);b=u.extend(!0,{},l);b.search.lastName="%"+a+"%";c=c.andAlso("Get",b)}else c=t.call("Get",l);return c.beginInvoke(function(n){var t=s.joinArrays(n),r;o.usersFilter&&(t=t.filter(o.usersFilter));o.includeHistoric||o.fromDate||(r=new Date,t=t.filter(function(n){return new Date(n.activeFrom)<r}));i(h(t||[],f))},r)},wt=function(n,i,r,u){var e=function(t){var i,e,o,s;u||(b=f.createLinkedTree(t));l.length&&l[0].id!==nt?(o=f.findGroupsInTree(b,l),s=f.findGroupsInTree(o,t),t=s,!u&&t.length>1&&(t=f.createLinkedTree(t))):t=u?f.findGroupsInTree(b,t):b;i=t.length===1?t[0]:{children:t,id:"-GroupCompanyId",name:it,isMockRoot:!0};e=g(i,null,r,i.parent);n(e)},o={typeName:"Group"};return u?t.call("Get",o).beginInvoke(function(n){b=f.createLinkedTree(n);e(f.findGroupsInTree(b,{id:undefined,name:u.toLowerCase()},function(n,t){return!!(n&&t.name&&t.name.toLowerCase().indexOf(n.name)!==-1)}))},i):t.call("Get",o).beginInvoke(e,i)},bt=function(n,t,i,r,u){return at({isDriver:!0,driverGroups:l},n,t,i,r,u,rt)},kt=function(n,i,r,f,e){var l,o={typeName:"Diagnostic",resultsLimit:e.requestQuota||y,search:{}},a=function(n){return t.call("Get",n,!0)},h,c;return f&&(o.search.name="%"+f+"%"),e.defaultDiagnostics?l=e.defaultDiagnostics.reduce(function(n,t){var i=u.extend(!0,{},o,{search:{id:t}});return n.andAlso?n.andAlso("Get",i):n.call("Get",i)},t):(h=e.sourceSearch,c=e.diagnosticTypeSearch,l=h&&h.length?h.reduce(function(n,t){var i=u.extend(!0,{},o,{search:{sourceSearch:t}});return n.andAlso?n.andAlso("Get",i):n.call("Get",i)},t):c&&c.length?c.reduce(function(n,t){var i=u.extend(!0,{},o,{search:{diagnosticType:t}});return n.andAlso?n.andAlso("Get",i):n.call("Get",i)},t):a(o)),l.beginInvoke(function(t){var i=s.flattenArrays(t||[]),u;i.sort(function(n,t){return n.name>t.name?1:t.name>n.name?-1:0});u=ut(i,r);n(u)},i)},dt=function(n,i,r,e,o){var a,v,p,c={typeName:"Device",search:{groups:l,fromDate:o.includeHistoric?f.MinDate:o.fromDate||(new Date).toISOString()},resultsLimit:o.requestQuota||y},h;return e?(a=u.extend(!0,{},c),a.search.name="%"+e+"%",h=t.call("Get",a),v=u.extend(!0,{},c),v.search.vehicleIdentificationNumber="%"+e+"%",h=h.andAlso("Get",v),p=u.extend(!0,{},c),p.search.serialNumber="%"+e+"%",h=h.andAlso("Get",p)):h=t.call("Get",c),h.beginInvoke(function(t){var i=s.joinArrays(t||[]).sort(function(n,t){return n.name>t.name?1:t.name>n.name?-1:0});n(et(i,r))},i)},gt=function(n,i,r,u){var f={groups:l,name:undefined};return u&&(f.name="%"+u+"%"),t.call("Get",{typeName:"Trailer",resultsLimit:y,search:f},!0).beginInvoke(function(t){var i=ct(t||[],r);n(i)},i)},ni=function(n,i,r,u,f){var e={baseType:f.baseType?f.baseType:undefined,category:f.category?f.category:"UserExceptionRules",name:"%"+u+"%",groups:l};return f.includeZoneStopRules&&(e.includeZoneStopRules=!0),f.zoneTypes&&(e.zoneTypes=f.zoneTypes),t.call("Get",{typeName:"Exceptions.Rule",resultsLimit:y,search:e},!0).beginInvoke(function(t){var i=lt(t||[],r);n(i)},i)},ti=function(n,t,i,r,u){return at({companyGroups:l},n,t,i,r,u,ft)},ii=function(n,i,r,u){return t.call("Get",{typeName:"Zone",resultsLimit:y,search:{groups:l,name:"%"+u+"%"}}).beginInvoke(function(t){var i=ot(t||[],r);n(i)},i)},ri=function(n,i,r,u,f){var e={typeName:"Route",search:{zoneSearch:{groups:l},name:"%"+u+"%"}};return f.routeType&&(e.search.routeType=f.routeType),t.call("Get",e).beginInvoke(function(t){var i=st(t||{},r);n(i)},i)},ui=function(n,t,i,r){var u=function(t){var u;return u=ht(t||{},i),r&&(u=e.findGroup(u,null,r,!0)),u.groups=u.groups.slice(0,y),n(u),h.default("Get<Misk>").resolve(u)};return u(d)},w=function(){var n;return n={},n[i.GROUPS]={methodName:"Group",formatter:function(n,t){return g({children:n,entityId:nt,name:tt},null,t)},getMethod:wt},n[i.DRIVERS]={formatter:rt,methodName:"User",getMethod:bt},n[i.DIAGNOSTICS]={formatter:ut,methodName:"Diagnostic",getMethod:kt},n[i.VEHICLES]={formatter:et,methodName:"Device",getMethod:dt},n[i.TRAILERS]={formatter:ct,methodName:"Trailer",getMethod:gt},n[i.RULES]={formatter:lt,methodName:"Exceptions.Rule",getMethod:ni},n[i.ZONES]={formatter:ot,methodName:"Zone",getMethod:ii},n[i.ROUTES]={formatter:st,methodName:"Route",getMethod:ri},n[i.USERS]={formatter:ft,methodName:"User",getMethod:ti},n[i.MISC]={formatter:ht,methodName:null,getMethod:ui},n}(),fi=function(){var n=["GroupCompanyId"];return function(t){return n.indexOf(t)!==-1}}(),ei=function(n,i,r,e,s){var c,y,p=[],a,b=o(n),k,v,l=i.slice(),g=function(n,t,i,r){var e=function(n){return(Array.isArray(n)?n:[n]).filter(function(n){return!n||typeof n=="object"&&!Object.keys(n).length})},f;t.reduce(function(t,i,r){return n.splice(r+t,0,i),t+1},0);f=e(n);f.length?r(u.extend(new Error(yt.replace("{0}",v||"misc").replace("{1}",f.join(", "))),{isSevere:!1})):i(k(Array.isArray(n)?n:[n]||[],s))};if(w[b])v=w[b].methodName,k=w[b].formatter;else throw new Error(pt.replace("{0}",n));if(v){for(c=0;c<l.length;c++)y=l[c],fi(y)&&(p[c]={id:y},l.splice(c,1),c--);return l.length?l.reduce(function(n,t){return(n.call||n.andAlso).call(n,"Get",{typeName:v,search:{id:t}})},t).beginInvoke(function(n){return g(f.unwrapEntities(n),p,r,e)},e):(a=h.default("format system items",r,e),setTimeout(function(){g([],p,a.resolve,a.reject)},1),a)}return r(k(d||[])),h.resolved()},vt={getFor:function(n){var t=o(n),i;if(w[t])i=w[t].getMethod;else throw new Error('"'+n+'" type is not supported!');return i},getEntitiesOfType:function(n,t,i,r){return vt.getFor(n)(t,i,r,null,{})},getEntitiesById:function(n,t,i,r,u){return ei(n,t,i,r,u)},getFilter:function(){return l},setFilter:function(n){l=n||[]},setEntities:function(n){d=n},formatEntities:function(n,t,i){var r=o(n);if(w[r])return w[r].formatter(t,i);throw new Error('"'+n+'" type is not supported!');}};return vt}Object.defineProperty(t,"__esModule",{value:!0});var r,s=require("../../utils"),e=require("../tree"),l=require("../browser"),h=require("../task"),a=require("../requestQuotas"),f=require("../entityUtilities"),u=require("../../vanillaExtension/vanilla"),i={GROUPS:1,DRIVERS:2,VEHICLES:4,ZONES:8,ADDRESSES:16,ROUTES:32,MISC:64,USERS:128,TRAILERS:256,RULES:512,DIAGNOSTICS:1024,ROUTEPLAN:2048},o=function(n){return typeof n=="number"?n:i[n]},v=(r={},r[i.GROUPS]=[],r[i.DRIVERS]=[],r[i.VEHICLES]=[],r[i.ZONES]=[],r[i.ADDRESSES]=[],r[i.ROUTES]=[],r[i.USERS]=[],r[i.MISC]=[],r[i.TRAILERS]=[],r[i.RULES]=[],r[i.DIAGNOSTICS]=[],r.hasAccessToType=function(n,t){var i=v[o(n)],r=function(n){return t.indexOf(n)===-1};return!i.length||i.some(r)},r),y=l.default(),p=a.default(y.isMobile());t.EntityTypes=i;t.default=c;n.declare("geotab.checkmate.ui");n.checkmate.ui.dataItemsToTreeAdapter=c;n.checkmate.ui.dataItemsToTreeAdapter.EntityTypes=i})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.dataItemsToTreeAdapter"),geotab.commonjs.generateExport("geotab.checkmate.ui.dataItemsToTreeAdapter"));self.geotab && geotab.declare("geotab.checkmate.ui.dataItemsToTreeAdapter");
(function(n,require,t){"use strict";function i(){var n=[];return{append:function(t){return t&&n.push(t.toString()),this},toString:function(){return n.join("")}}}Object.defineProperty(t,"__esModule",{value:!0});t.default=i;n.declare("geotab.checkmate");n.checkmate.stringBuilder=i})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.stringBuilder"),geotab.commonjs.generateExport("geotab.checkmate.stringBuilder"));self.geotab && geotab.declare("geotab.checkmate.stringBuilder");
(function(n,require,t){"use strict";function p(n,t,u,p,w){var hf={type:i.EntityTypes.GROUPS|i.EntityTypes.DRIVERS|i.EntityTypes.VEHICLES,formatter:null,strings:{selectAllGroupText:"***All in {0}",selectAllDriversText:"***All Drivers",selectAllDevicesText:"***All Devices",selectOnlyInGroupText:"***Only in {0}",selectOnlyDriversText:"***Only Drivers",selectOnlyDevicesText:"***Only Devices",watermarkText:"***Filter...",nothingFoundText:"***Nothing was found",levelUpText:"***Up one level",deselectAllText:"***Remove all",selectAllText:"***Select all",entireOrganizationText:"***Entire Organization",showHistoricalText:"",hideHistoricalText:""},getNodeName:undefined,resetButton:{markup:null},multipleSelection:!0,ignoreSelectionType:!1,minimumSelection:[],value:[],menuWidth:0,isInputFirstElement:!1,showDeselectAllButton:!1,showSelectDeselectAllButtons:!1,showOnlyInButton:!1,includeRootParent:!1,searchOnServer:!0,greedySelection:!0,unfoldGroups:!1,unfoldSingleGroupOnSearch:!0,entities:null,icon:null,hideIcons:!1,customClassForFilterList:"",popupWindowPosition:"bottom",closeOnSelect:!1,closeOnSelectAll:!0,withTextField:!0,listId:undefined,organizeByType:!1,innerSelectionHadling:!1},tu=document.body,ir={},pt={},nt=r.extend(!0,{},hf,p),ot=function(){var t=function(n){return Object.keys(i.EntityTypes).filter(function(t){return!!(n&i.EntityTypes[t])}).map(function(n){return i.EntityTypes[n]})},r=function(n){return n.reduce(function(n,t){return n[t]=!1,n},{})},n=t(nt.type||0);return{types:r(n),updateType:function(i){n=t(i||0);ot.types=r(n)},isEverythingSelected:!1,isAnythingSelected:function(){return n.some(function(n){return ot.types[n]})},isAllTypesSelected:function(){return n.every(function(n){return ot.types[n]})},deselectAll:function(){ot.isEverythingSelected=!1;n.forEach(function(n){ot.types[n]=!1})},selectAll:function(){ot.isEverythingSelected=!0;n.forEach(function(n){ot.types[n]=!0})}}}(),rr=function(n){return{type:n.type||1,formatter:n.formatter,requestOptions:n.requestOptions||{}}},iu=function(n){return n.requestOptionsSearching?{type:n.type,formatter:n.formatter,requestOptions:n.requestOptionsSearching}:rr(n)},ri=rr(nt),vi=iu(nt),wt=(nt.minimumSelection||[]).slice(0).sort(),ru=nt.value,lt=nt.strings,uu=nt.withTextField,cf="inputBox",lf="checkmateFormEditField",bt=ut(t,p.getEntities,p.searchEntities,p.searchEntitiesByIDs,p.entities,{strings:p.strings,requestQuota:p.requestQuota}),st,ht,yi={UP:0,DOWN:1},ur="geotabButtonHover",hi=!1,ui=!1,kt=!1,fi,ft,at,vt,fr=150,pi,gt,ei,af,vf=500,yf="noResult",rt=[],ct,er="clickButton",or="navButton",wi="allInButton",bi="onlyInButton",sr=function(n){f=!1;n&&n.isAborted||lr();w&&n&&!n.isAborted&&w(n)},fu=function(n){ft&&ft.setAttribute("placeholder",n)},eu=function(){return st.querySelector("LI ."+ur)},oi=function(){var n;return{reset:function(){n=null},restore:function(){n&&ft&&(hi=!0,ft.value=n,ft.focus(),n="")},setValue:function(t){n=t||null},getValue:function(){return n},clear:function(){ft&&(n=ft.value,hi=!1,ft.value="")}}}(),hr=function(){var t=window.getComputedStyle(vt),e=parseInt(t.paddingTop||"0")+parseInt(t.paddingBottom||"0")+parseInt(t.borderBottomWidth||"0")+parseInt(t.borderTopWidth||"0"),o=vt.getBoundingClientRect(),s=ct.getBoundingClientRect(),i=window.innerHeight+tu.scrollTop-o.top,n,u=ft&&ft.parentNode,f=u?u.offsetWidth:0;f&&(nt.menuWidth?n=nt.menuWidth:(n=ft.offsetWidth,f!==n&&(n=n+at.offsetWidth),n=n>fr?n:fr),r.css(st,{"max-width":n+"px",width:n+"px"}));vt.style.height=s.height>i-e?i+"px":"auto"},dt=function(t){var s=n.getAttribute("data-popup")||n.id,h=nt.customClassForFilterList?" "+nt.customClassForFilterList:"",o=function(n){return function(){if(!li){var t=st.style.display==="none";ft&&r.toggleClasses(at,"closeComboIcon",t);et.fireEvent("combo"+(t?"Open":"Close"));n.apply(this,arguments)}}},c=function(n,t){var i=r.create("div",{"data-filter":s,"class":"filterMenuContainer"+n},{display:"none"}),u=r.create("ul",{"class":"entityNavigator"});return t&&(u.id=t),u.appendChild(r.create("li")),i.appendChild(u),tu.appendChild(i),i},l=function(){return ft&&ft!==document.activeElement},a=function(n){return function(){l()&&oi.clear();oi.reset();setTimeout(ki,1);n.apply(this,arguments)}},i,u;at.removeEventListener("click",dt,!1);ft&&ft.removeEventListener("focus",dt,!1);vt=c(h,p.listId);st=vt;ht=d.default(at,{onShow:o(vr),onShowEnd:function(){f&&(ei.style.display="block",su());hr()},onHide:o(a(lr)),content:vt,minWidth:fr,minHeight:120,addAutoScroll:!0,position:nt.popupWindowPosition,target:ft?ft:n});ct=vt.children[0];window.addEventListener("resize",hr,!1);i=ct.children;ei=i[i.length-1];pi=g.default(ei,{zIndex:10003,insertWaitingToContainer:!0});gt=e.default("Loading filter");nt.closeOnMouseOut&&!tt.isMobile()&&(u=pe(st,ht,".selectButton LABEL"),et.attachEvent("comboOpen",function(){u.enable()}),et.attachEvent("comboClose",function(){u.disable()}));t&&t.type==="click"&&setTimeout(et.openCombo,100)},cr=function(){fi&&clearTimeout(fi)},pf=function(){var i=function(){var n=r.create("span",{"class":"imageContainer"});return n.appendChild(r.createMultipleIcons([{icon:"close-cross",className:"comboOpenedIcon"},{icon:"arrow-down",className:"comboClosedIcon"}],"inline")),n},u=function(){return r.create("input",{"class":cf+" "+lf,type:"text"})},f=n.id||n.getAttribute("data-connected-popup")||"popup",t;n.setAttribute("data-popup",f+"_"+h.generateId());uu?(ft=u(),fu(lt.watermarkText||""),ft.addEventListener("blur",cr,!1),ft.addEventListener("keydown",ar,!1),at=i(),nt.isInputFirstElement&&n.children.length?(t=n.children[0],n.insertBefore(ft,t),n.insertBefore(at,t)):(n.appendChild(ft),n.appendChild(at))):at=n;at.addEventListener("click",dt,!1);ft&&ft.addEventListener("focus",dt,!1);et.setSelection(ru||wt.slice(0))},ki=function(){if(ct){for(var t=ct.children,i=ct.children[t.length-1],n=void 0,n=t.length-2;n>-1;--n)ct.removeChild(t[n]);i.style.height="45px";r.addClasses(i,"filter-progress-container");vt.style.height="auto";ei.style.display="block";pi.resize()}},ou=function(){ki();gt&&!gt.isDone()||st.style.display==="none"||ht.isOpening()||su()},lr=function(){ct&&(ct.style.height="",ei.style.display="none",hu())},su=function(){hu();gt=e.default("Loading filter");pi.displayProgress(gt)},hu=function(){gt&&(gt.abort(),gt=null)},di,ci=function(){di=null},cu=function(n){r.addClasses(n,ur)},wf=function(n){if(n){var t=st.querySelector('[for*="'+n+'"]')||st.querySelector('[id*="'+n+'"]');t&&(cu(t),t.scrollIntoView())}},bf=function(n){if(n){var r=n.getAttribute("for")||n.getAttribute("id")||"",t=r.split(ni);return t.length!==3?null:ni+t[1]+(parseInt(t[1])===i.EntityTypes.ADDRESSES?"":ni+t[2])}return null},lu=function(n){var u=function(n,t,i){for(var u=n===yi.UP?"previousElementSibling":"nextElementSibling",f=n===yi.UP?function(n){return n.children[n.children.length-1]}:function(n){return n.children[0]},o=!!i,r=i?i[u]||f(t):f(t),e;r&&r!==i;){if(e=r.getElementsByClassName("geotabButton")[0])return e;r=r[u]?r[u]:o?f(t):null}return null},i=eu(),t=u(n,st.children[0],i&&i.parentNode);if(i&&r.removeClasses(i,ur),t){cu(t);di=bf(t);var f=t.offsetTop<t.offsetParent.scrollTop,e=t.offsetParent.offsetHeight+t.offsetParent.scrollTop,o=t.offsetTop>e,s=f||o;s&&t.scrollIntoView()}},ar=function(n){var t=vt.style.display!=="none",r,i;if(/13$|27$|38$|40$|32$/.test(n.keyCode))switch(n.keyCode){case 38:if(t)return lu(yi.UP),!1;break;case 40:if(t)return lu(yi.DOWN),!1;ci();ht.open();break;case 13:case 32:return t&&(i=eu(),i)?(rf(i),!1):!0;case 27:ft.blur();fi&&clearTimeout(fi);ht&&ht.close()}else r=function(){var n=ft.value;hi=n!=="";ci();st.style.display!=="none"&&oi.getValue()!==n?vr():ht.open()},fi&&clearTimeout(fi),oi.setValue(ft.value),fi=setTimeout(r,vf);return!1},au=function(n,t){f=!0;ou();t.push(uf);t.push(sr);n.apply(et,t)},vr=function(){var t=function(){bt.searchEntities.apply(bt,arguments)},i=function(){bt.getEntities.apply(bt,arguments)},n=hi?vi:ri;n.requestOptions.fromDate=ui?b.MinDate:undefined;hi?(kt=!0,au(t,[n,ft.value,nt.searchOnServer])):(kt=!1,au(i,[n]))},kf=function(){for(var t=[],n=0;n<rt.length;n++)t.push(rt[n].id);return t},df=function(){for(var n={length:0,isInCache:function(t){return!!(n[t.type]||n)[t.id]||ot.types[t.type]},isAnyInCache:function(t){return n.length&&(nt.ignoreSelectionType?!0:n[t])}},r,t,i=0;i<rt.length;i++)t=rt[i],!nt.ignoreSelectionType&&t.type?(n[t.type||0]=n[t.type||0]||{},r=n[t.type||0]):r=n,r[t.id]=!0,n.length++;return n},vu=function(){var n=kf().sort();wt&&wt.sort();ef(n,wt)&&(rt=[])},gf=function(n,t){return n.id===t.id&&(nt.ignoreSelectionType||n.type===t.type)},ne=function(n,t){var u=nt.showOnlyInButton&&t,r=rt.length===0||!rt.some(function(t){return gf(t,n)}),i;vu();(r||u)&&(i={affectedGroup:n,selectedNodes:rt,affectedType:n.type,onlyInSelection:pt[n.id]},r&&rt.push(n),et.fireEvent("change",et,i),et.fireEvent("externalChange",et,i))},te=function(n){var t;rt=rt.filter(function(t){return!(t.id===n.id&&(nt.ignoreSelectionType||t.type===n.type))});rt.length===0&&wt.length?(et.setSelection(rt),et.fireEvent("externalChange",et,{affectedGroup:null,selectedNodes:rt,affectedType:null})):(t={affectedGroup:null,selectedNodes:rt,affectedType:n.type},et.fireEvent("change",et,t),et.fireEvent("externalChange",et,t))},ni="**",ti=function(n,t,i,r,u,f,e){var b=u||"",v=t||{},o=v.type||"",k=v.subType||o,c=r||(t?y[k]:null)||p.icon||null,l=h.generateId()+ni+(t?o+ni+(t.id||""):""),a=h.htmlEscape(i||t.name),s=h.htmlEscape(e?t&&t.title||a:""),w=p.hideIcons||!c?function(){return""}:function(n){return"<div class='icon "+n+"'><\/div>"};return n.append("<li class='"+b+"'").append(s?" title='"+s+"'":"").append(">"),r&&(r.indexOf("folder")!==-1||r.indexOf("broom")!==-1)||t&&t.clickable?n.append("<a class='geotabButton ellipsis' data-type='"+o+"' id='").append(l).append("' title='").append(s).append("'>").append(w(c)).append(a).append("<\/a>"):n.append("<input type='checkbox' data-type='"+o+"' ").append(f?" checked":"").append(" class='geotabSwitchButton' id='").append(l).append("'>").append("<label class='geotabButton ellipsis").append("' for='").append(l).append("' title='").append(s).append("'>").append(w(c)).append(a).append("<\/label>"),n.append("<\/li>"),n},yu=function(n,t,i,r,u){return ti(n,t,i,r||(t&&t.groups.length?"geotabIcons_folder":y[t.type]),(u?u+" ":"")+or,!1,!0)},yr=function(n,t,i,r,u,f,e){var o=t.clickable?er:"selectButton";return o+=e?" "+e:"",ti(n,t,i,r,o,u,f)},pr=function(n,t){var i=nt.strings.selectAllText,r=typeof i=="function"?i(t):i;return r?ti(n,{type:t},r,"geotabIcons_status","selectAllButton",!1,!!r):n},wr=function(n,t){var i=nt.strings.deselectAllText,r=typeof i=="function"?i(t):i;return r?ti(n,{type:t},r,"geotabIcons_broom","deselectAllButton",!1,!!r):n},ie=function(n,t){var i=nt.strings.showHistoricalText,r=typeof i=="function"?i(t):i;return r?ti(n,{type:t},r,"geotabIcons_status","showHistoricalButton",!1,!!r):n},re=function(n,t){var i=nt.strings.hideHistoricalText,r=typeof i=="function"?i(t):i;return r?ti(n,{type:t},r,"geotabIcons_broom","showHistoricalButton",!1,!!r):n},ue=function(n,t){return t?yu(n,t,lt.levelUpText,"geotabIcons_level_up"):n},pu=function(n){return ti(n,null,lt.nothingFoundText,undefined,yf)},fe=function(n,t,i){var r=typeof i=="function"?i(t):i;return r?ti(n,null,r.text,r.icon,"customButton",r.selected):null},gi=function(n){var t=!1;return n.parent&&(t=i.EntityTypes[n.id]&&i.EntityTypes[n.id]!==i.EntityTypes.GROUPS),t},wu=function(n){return n.id===s||n.id===v},bu=function(n){return n.id===s},ee=function(n){return i.EntityTypes[n.id]||n.isFake},br=function(n){return ee(n)||wu(n)},ku=function(n){var t=n.groups[0];return t&&br(t)&&n.groups.length===1},oe=function(n){var t=n.groups;return t.length===1&&t[0].groups.length},du=function(n,t,i,r){nt.showSelectDeselectAllButtons&&!i&&(nt.greedySelection||!r||kt)?pr(n,t.type):wr(n,t.type)},gu=function(n,t,i,r){nt.showHistoricalButton&&!i&&(nt.greedySelection||!r||kt)?ie(n,t.type):re(n,t.type)},nf=function(n,t,r){switch(n){case i.EntityTypes.DRIVERS:return r?lt.selectOnlyDriversText:lt.selectAllDriversText;case i.EntityTypes.VEHICLES:return r?lt.selectOnlyDevicesText:lt.selectAllDevicesText;default:return r?lt.selectOnlyInGroupText.replace("{0}",t):lt.selectAllGroupText.replace("{0}",t)}},se=function(n,t){if(nt.customHeaderButton){var i=fe(t,n,nt.customHeaderButton);i&&l(t)}},he=function(n,t,i){var r=n.parent,u=!1,f;n.groups.length&&((nt.showSelectDeselectAllButtons||nt.showDeselectAllButton)&&(u=!0,!r&&nt.unfoldGroups?n.groups.forEach(function(n){du(t,n,ot.types[n.type],i.isAnyInCache(n.type))}):du(t,n,ot.isEverythingSelected,i.isAnyInCache(n.type))),nt.showHistoricalButton&&(u=!0,gu(t,n,ui,i.isAnyInCache(n.type))),u&&l(t));se(n,t);r&&ku(r)&&(r=r.parent);(r||nt.showOnlyInButton&&bu(n))&&(ue(t,r&&n.parent),l(t),(!wu(n)||nt.organizeByType||nt.showOnlyInButton)&&(f=i.isInCache(n),kt&&nt.organizeByType&&br(n)||(n.title=nf(n.type,n.name,!1),yr(t,n,n.title,nt.showOnlyInButton?"geotabIcons_mainMenuGroup":"geotabIcons_status",f&&!pt[n.id],!0,wi)),nt.showOnlyInButton&&!gi(n)&&(n.title=nf(n.type,n.name,!0),yr(t,n,n.title,"geotabIcons_status",f&&pt[n.id],!0,bi))))},ce=function(n){return n.length===1&&(n[0].id===s||n[0].id===v)&&!n[0].groups.length},le=function(n,t,i,r){var f,u,o=n.groups,e=n.groups.length,h=[];if(e&&!ce(o)){if(nt.unfoldGroups&&e>1&&o[0].groups&&(o[0].groups.length||r&&n.id==="-1")){for(f=0;f<e;f++)h.push.apply(h,o[f].groups);e=h.length}else h=o;if(e===0)pu(t);else for(f=0;f<e;f++)u=h[f],u.title=p.getNodeName?p.getNodeName(u):u.name,u.groups.length>0?yu(t,u):u.id===s||gi(u)||yr(t,u,undefined,undefined,i.isInCache(u),u.title)}else nt.showOnlyInButton&&bu(n)||(nt.showHistoricalButton&&gu(t,n,ui,!1),pu(t))},ae=function(n){var t=n.childNodes[0]&&n.childNodes[0].id;return!!(t&&t[t.length-1]!=="_"&&n.className!==er&&n.className!==or)},kr=function(n){var t=n.childNodes[0];return t&&t.checked},tf=function(n){n.childNodes[0].checked=!1},ve=function(n){n.childNodes[0].checked=!0},yt,ye=function(n,t){while(n&&n!==t)n=n.parentNode;return n},pe=function(n,t,i){var f,u,e=function(n,t,i){var r=i.getBoundingClientRect();return n>r.left&&n<r.left+r.width&&t>r.top&&t<r.top+r.height};return n.addEventListener("mouseup",function(n){u&&r.closest(n.target,i)===n.target&&(f=u)},!1),n.addEventListener("mouseout",function(i){u&&f&&(i.target===n||ye(i.relatedTarget,n))&&!e(i.clientX,i.clientY,n)&&t.close()}),{enable:function(){u=!0;f=!1},disable:function(){u=!1;f=!1}}},dr=function(n,t,i){var e=a.default(),f,u,o,s=n.parentNode;for(t(e,i),f=r.textToHTML(e.toString()),o=f.length,u=0;u<o;++u)s.insertBefore(f[u],n);s.removeChild(n)},we=function(n,t){var i=n.querySelector("*[data-type='"+t+"']");return i&&i.parentNode&&i.parentNode.className.indexOf("selectButton")===-1?i.parentNode:null},be=function(n){return!!(n&&n.className&&n.className.indexOf("deselectAllButton")===-1)},ke=function(n){var t;return t=n.className.indexOf(wi)>-1?bi:wi,n.parentNode.querySelector("."+t)},de=function(n){return(n||[]).reduce(function(n,t){return t&&!t.clickable&&(n[t.id||t]=!0),n},{})},ge=function(n,t,i){for(var o,u,f,r=n,e=n;r&&r.groups&&r.isFake;)e=r,r=r.groups[0];for(o=e&&e.groups?e.groups:[],u=0;u<o.length;u++)if(f=o[u],f.id===t&&f.type===i)return f;return null},ii,nr,gr=function(n){n.stopPropagation();n.preventDefault();rf(n.target)},no=function(n,t){var u=n.isFake&&n.groups&&n.groups.length,r,i;if(u&&n.type!==t)for(r=n.groups,i=0;i<r.length;i++)if(r[i].type===t)return r[i];return n},to=function(n,t,i,r){var h=no(ii,i),u=o.findGroup(h,t,"",!1),f;if(gi(u)&&(ir[i]=!kr(n)),nt.showOnlyInButton&&r&&(f=ke(n),pt[t]=r===bi?!kr(n):!1),kr(n)?(ot.types[i]=!1,ot.isEverythingSelected=!1,tf(n),te(u)):(nt.multipleSelection||(rt=[],Array.prototype.forEach.call(vt.querySelectorAll("input:checked"),function(n){n.checked=!1})),f&&tf(f),ne(u,r),ve(n),nt.closeOnSelect&&setTimeout(et.closeCombo,1)),nt.showSelectDeselectAllButtons){var e=we(n.parentNode,i),c=be(e),s=void 0;e&&(s=nt.greedySelection?!ot.types[i]:!rt.some(function(n){return n.type===i}),c!==s&&dr(e,s?pr:wr,i))}},io=function(n,t,i){for(var u=t.querySelectorAll("input"+(nt.ignoreSelectionType?"":"[data-type='"+i+"']")+":checked"),f=u.length,r=0;r<f;r++)u[r].checked=!1;nt.showSelectDeselectAllButtons&&dr(n,pr,i);et.clearSelection(i,function(){et.fireEvent("externalChange",et,{affectedGroup:null,selectedNodes:[],affectedType:null})})},ro=function(n,t,i,r){for(var e=t.querySelectorAll("input[data-type"+(nt.ignoreSelectionType?"":"='"+i+"'")+"]"),s=e.length,f,o,u=0;u<s;u++)f=e[u],ae(f.parentNode)&&!f.checked&&(f.checked=!0);kt&&r?(o=de(rt)||{},rt=rt.concat(r.filter(function(n){return!n.clickable&&!o[n.id]})),tr(rt)):sf(!1,i);nt.showSelectDeselectAllButtons&&dr(n,wr,i);nt.closeOnSelectAll&&setTimeout(et.closeCombo,1);et.fireEvent("externalChange",et,{affectedGroup:null,selectedNodes:rt,affectedType:null})},rf=function(n){for(var u=ct,f=ii.groups&&ii.groups[0],s=kt?f&&f.groups:null;n&&n.tagName!=="LI"&&u!==n;)n=n.parentNode;if(n&&n.children[0]){var e=(n.children[0].getAttribute("id")||"").split(ni),t=parseInt(e[1],10),i=e[2],r=n.className.split(" "),h=r[0]&&r[0].replace(/\s/g,""),c=r[1]&&r[1].replace(/\s/g,"");switch(h){case"selectButton":to(n,i,t,c);break;case"deselectAllButton":io(n,u,t);break;case"selectAllButton":ro(n,u,t,s);break;case"showHistoricalButton":oi.restore();ui=!ui;vr();break;case"customButton":typeof nt.customHeaderButtonHandler=="function"&&nt.customHeaderButtonHandler.call(n);break;case or:ou();setTimeout(function(){var n=o.findNodeByTypeAndId(ii,t,i)||o.findNodeByTypeAndId(nr,t,i);uf(n||nr,nr||ii,!1,!1,!0)},100);break;case er:et.fireEvent("click",et,[i,ge(ii,i,t)]);et.closeCombo()}return oi.reset(),!1}},uf=function(n,t,i,u,e){var o,s,v,h=a.default(),c,l,y=!(n.loading||f);if(ii=n,nr=t,u)return!1;for(ki(),o=r.extend({},ii),nt.includeRootParent||(o.groups=o.groups.filter(function(n){return!(br(n)&&n.groups.length===0&&!i)})),ku(o)&&(o=o.groups[0],o.parent.groups=[o]),yt=o,!kt&&yt&&(yt.parent&&ot.types[yt.type]?nu(yt,yt.type):yt.parent||yt.groups.forEach(function(n){ot.types[n.type]&&(rt=rt.filter(function(t){return t.type!==n.type}),nu(n,n.type))})),c=df(),y&&lr(),nt.unfoldSingleGroupOnSearch&&oe(o)&&!e&&(o=o.groups[0]),he(o,h,c),le(o,h,c,i),l=r.textToHTML(h.toString()),v=l.length,s=0;s<v;++s)ct.insertBefore(l[s],ei);return ct.removeEventListener("click",gr,!1),ct.addEventListener("click",gr,!1),ht.resize(),hr(),f&&pi.resize(),di&&wf(di),!0},ff=[],ef=function(n,t){return(n||ff).join(",")===(t||ff).join(",")},tr=function(n,t){rt=n;et.fireEvent("change",et,{affectedGroup:null,selectedNodes:rt});t&&t(rt)},uo=function(n,t){return!n.clickable&&(!t||n.type===t)},nu=function(n,t){var i,u,r;if(n)for(u=n.groups.length,rt=rt.filter(function(n){return n&&n.type!==t}),i=0;i<u;i++)uo(n.groups[i],t)&&(r=n.groups[i],r.isFake?rt.push.apply(rt,r.groups||[]):rt.push(r))},si=function(){st||dt()},li=!1,ai,of=function(){ai&&!ai.isDone()&&ai.abort()},sf=function(n,t){si();n&&(yt=null);t?(ot.types[t]=!0,ot.isEverythingSelected=ot.isAllTypesSelected(),rt=rt.filter(function(n){return n.type!==t})):(ot.selectAll(),rt=[]);nu(yt,t);vu();of();et.fireEvent("change",et,{affectedGroup:rt,selectedNodes:rt})},et;return it(u,"uiConfiguration","geotabEntitiesNavigator"),uu&&r.addClasses(n,"org-filter"),et=r.extend(k.default(),{clearSelection:function(n,t){var i={};ci();n&&!nt.ignoreSelectionType?(i=(rt||[]).reduce(function(t,i){return i.type!==n&&typeof t[i.type]!="string"&&(ot.types[i.type]?t[i.type]="all":(t[i.type]=t[i.type]||[],t[i.type].push(i))),t},{}),i=Object.keys(ot.types).reduce(function(n,t){return n.hasOwnProperty(t)||(n[t]=[]),n},i)):(ot.deselectAll(),i[ri.type]=[]);et.setSelection(i,t)},selectAll:function(n){sf(!0,n)},getEntitiesTypeToDisplay:function(){return ri},isAllSelected:function(n){return n?!!ot.types[n]:ot.isEverythingSelected},setFilter:function(n){return bt.setFilter(n)},getFilter:function(){return bt.getFilter()},setMinimumRequiredSelection:function(n){si();wt=n;rt.slice(0)===[]&&et.setSelection(ru||wt.slice(0))},setSelection:function(n,t,i,r){var f,s=[],u,o,l,v=function(n,t,i){return n.some(function(n){return i(t,n)})},y=function(n,t){return n.reduce(function(n,i){return v(n,i,t)||n.push(i),n},[])},h=function(n){return!Array.isArray(n)},w=function(n){return h(n)?Object.keys(n).reduce(function(t,i){return Array.isArray(n[i])&&t.push.apply(t,n[i]),t},[]):n||[]},b=function(n,t,i){var r=n,u=[],f,s={groups:[]},l=function(n,i){var r=c.Deferred();return t(n,i,r.resolve,r.reject),r.done(function(n){u.push(n)}),r.fail(sr),r},o=function(){i(u.length?u.reduce(function(n,t){return n.groups.push.apply(n.groups,t.groups),n}):s)};return h(n)||(r={},r[ri.type]=n),f=Object.keys(r).map(function(n){return l(parseInt(n),r[n])}),f.length?e.toTask(c.together(f)).done(o).fail(function(n){return n&&n.isAborted||sr(n)}):(o(),e.resolved())},k=function(n){tr(y(n.groups,function(n,t){return n.type===t.type&&n.id===t.id}),t)},d=function(n,t,i){i(bt.formatEntities({type:n,formatter:nt.formatter},t))},a="all",g=function(n,t,i,r){bt.searchEntitiesByIDs(n,t,i,r)};if(of(),typeof n=="string"&&n===a)ot.isEverythingSelected||et.selectAll(),t&&t();else{for(u=w(n),u.length!==0||ot.isAnythingSelected()||(n=wt.slice(0),u=n),!nt.multipleSelection&&u.length>1&&(n=u.splice(0,1),u=n),f=0;f<rt.length;f++)s.push(rt[f].id);o=u.map(function(n){return n&&n.id?n.id:n});s.sort();o.sort();ef(s,o)&&!ot.isAnythingSelected()?r?tr(rt,t):t&&t():(ot.isEverythingSelected=!1,h(n)?Object.keys(n).forEach(function(t){ot.types[parseInt(t)]=a===n[t]}):ot.types[ri.type]&&(ot.types[ri.type]=!1),!u.length||p.innerSelectionHadling?tr(u,t):(l=i!==undefined?i:u.every(function(n){return!!n.name}),ai=b(n,l?d:g,k)))}return setTimeout(function(){et.refreshUI(o)},1),ai||e.resolved()},getSelection:function(){var t,n={length:0};for(var i in ir)ir[i]&&(n[i]="",n.length++);return t=n.length?rt.filter(function(t){return!(t.type in n&&!gi(t))}):rt,t.slice(0)},isOnlyInSelection:function(n){return pt[n]},setOnlyInSelectionForGroups:function(n){n=Array.isArray(n)?n:[n];n.forEach(function(n){pt[n]=!0})},openCombo:function(){si();ht.open()},closeCombo:function(){si();st.style.display==="none"||ht.isHiding()||(ht.close(),ci())},isOpened:function(){return st&&st.style.display!=="none"&&ht&&!ht.isHiding()},isSearching:function(){return kt},isShowHistoric:function(){return ui},setShowHistoric:function(n){ui=n},disableFilter:function(){et.clearSelection();r.addClasses(n,"filterDisabled");li=!0;ht?(ht.close(),ht.disable()):(at.removeEventListener("click",dt,!1),ft&&ft.removeEventListener("focus",dt,!1));ft.removeEventListener("blur",cr,!1);ft.removeEventListener("keydown",ar,!1);ft.setAttribute("readonly","readonly")},enableFilter:function(){li&&(ft.addEventListener("blur",cr,!1),ft.addEventListener("keydown",ar,!1),ft.removeAttribute("readonly"),ht?ht.enable():(at.addEventListener("click",dt,!1),ft&&ft.addEventListener("focus",dt,!1)),r.removeClasses(n,"filterDisabled"),li=!1)},setNewOptions:function(n,t){var i=n||{};li||(si(),t||et.clearSelection(),n.type&&n.type!==nt.type&&ot.updateType(n.type),ht&&st.style.display!=="none"&&ht.close(),i.hasOwnProperty("entities")&&(nt.entities=i.entities,delete i.entities),r.extend(!0,nt,i),i.minimumSelection&&(nt.minimumSelection=i.minimumSelection.slice(),wt=nt.minimumSelection),i.requestOptions&&(nt.requestOptions=nt.requestOptions||{},r.extend(nt.requestOptions,i.requestOptions)),i.requestOptionsSearching||(vi.requestOptions=vi.requestOptions||{}),i.entities&&(nt.entities=i.entities.slice()),bt.setEntities(nt.entities),ri=rr(nt),vi=iu(nt),lt=nt.strings,fu(lt.watermarkText))},refreshUI:function(n){var i=function(n,t){return t&&(n[t.id||t]=!0),n},t=(n||[]).reduce(i,{});st&&st.style.display!=="none"&&Array.prototype.forEach.call(st.querySelectorAll(".selectButton > .geotabSwitchButton"),function(n){var r=n.getAttribute("id")||"",o=parseInt(n.getAttribute("data-type")||""),s=r.lastIndexOf(ni)+ni.length,i=r.substring(s,r.length),u,f,e;nt.showOnlyInButton&&(e=n.parentNode,u=e.className.indexOf(bi)>-1,f=e.className.indexOf(wi)>-1);n.checked?t[i]||ot.types[o]||(n.checked=!1):t[i]&&((u||f)&&(!u||!pt[i])&&(!f||pt[i])||(n.checked=!0))})},destroyFilterList:function(){ci();si();clearInterval(af);ki();st&&st.parentNode&&(st.children[0].removeEventListener("click",gr,!1),st.parentNode.removeChild(st))}}),pf(),et}var u,r,i;Object.defineProperty(t,"__esModule",{value:!0});r=require("../../vanillaExtension/vanilla");i=require("./dataItemsToTreeAdapter");t.EntityTypes=i.EntityTypes;var c=require("./../deferred"),e=require("../task"),o=require("../tree"),w=require("../browser"),b=require("../entityUtilities"),h=require("../../utils"),k=require("../eventHandler"),d=require("./popupWindow"),g=require("./waiting"),a=require("../stringBuilder"),f=!1,s="GroupCompanyId",v="-"+s,nt="separator",tt=w.default(),y=(u={},u[i.EntityTypes.GROUPS]="",u[i.EntityTypes.DRIVERS]="geotabIcons_users",u[i.EntityTypes.VEHICLES]="geotabIcons_vehicle",u[i.EntityTypes.ZONES]="geotabIcons_zone",u[i.EntityTypes.ADDRESSES]="geotabIcons_marker",u[i.EntityTypes.ROUTES]="geotabIcons_route",u[i.EntityTypes.ROUTEPLAN]="geotabIcons_routePlan",u[i.EntityTypes.USERS]="geotabIcons_users",u[i.EntityTypes.TRAILERS]="geotabIcons_vehicle",u[i.EntityTypes.RULES]="",u),l=function(n){return n.append("<li class='"+nt+"' />")},it=function(n,t,i){if(!n)throw new Error(i+" requires "+t+" parameter which was not provided!");},rt=function(n,t){var i=4294967296,r=n/i,u=n%i,f=t/i,e=t%i;return(r&f)*i+(u&e)},ut=function(n,t,u,s,h,l){var v,b=function(n,t){return n.name?n.name.toLowerCase()>t.name.toLowerCase()?1:-1:0},a=i.default(n,h,l),k=function(n,t,i,r,u,o,s){var a=null,h=[],v=function(){(h||[]).forEach(function(n){n.abort&&n.abort()});h.length=0};return s.requestQuota=l.requestQuota,n.length?(f=!0,h=n.map(function(n){return n(function(n){n.groups=n.groups.sort(b);t.push(n);setTimeout(function(){t.length===h.length&&(f=!1,h.length=0);i(t)},0)},r,u,o,s).fail(r)}),a=e.toTask(c.together(h)),a.abort=v):(f=!1,i(t)),a||e.resolved()},y=function(n,t,r){var f=[],u,e=[],s=n.type||n,h=n.formatter,c=n.pattern||"",l=n.requestOptions||{};for(u in i.EntityTypes)i.EntityTypes.hasOwnProperty(u)&&rt(s,i.EntityTypes[u])&&f.push(a.getFor(u));return v&&v.abort(),v=k(f,e,function(){for(var n=o.createEnvelopeGroup(e,s),i=0;i<n.groups.length;i++)n.groups[i].realParent=n.groups[i].realParent||n.groups[i].parent,n.groups[i].parent=n;t(n)},r,h,c,l)},p=function(n,t,i,u,f){return i?(n=typeof n=="object"?n:{type:n},n=r.extend(n,{pattern:t}),this.getEntities(n,function(t){u(t);n.pattern=""},f)):this.getEntities(n,function(n){u(o.findGroup(n,null,t,!0),n)},f)},w=function(n,t,i,r){var f=n.type||n,s=n.formatter,u=o.createEnvelopeGroup([],f),e;return t.length||i(u),e=a.getEntitiesById(f,t,function(n){u.groups=n.groups;i.apply(e,[u])},r,s)};return{base:{getEntities:y,searchEntities:p,searchEntitiesByIDs:w},getEntities:t||y,searchEntities:u||p,searchEntitiesByIDs:s||w,getFilter:function(){return a.getFilter()},setFilter:function(n){return a.setFilter(n)},setEntities:function(n){a.setEntities(n)},formatEntities:function(n,t){return a.formatEntities(n.type||n,t,n.formatter)}}};t.default=p;n.declare("geotab.checkmate.ui");n.checkmate.ui.geotabEntitiesNavigator=p;n.checkmate.ui.geotabEntitiesNavigator.EntityTypes=i.EntityTypes})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.geotabEntitiesNavigator"),geotab.commonjs.generateExport("geotab.checkmate.ui.geotabEntitiesNavigator"));self.geotab && geotab.declare("geotab.checkmate.ui.geotabEntitiesNavigator");
(function(n,require,t){"use strict";function s(n,t,s,h,c){var v="organizationFilter",a={},l;return o(h,"uiConfiguration","organizationFilter"),c=i.extend({},{minimumSelection:[]},c),i.addClasses(n,"org-filter"),i.hasClass(n,v)||i.addClasses(n,v),l=f.default(n,t,h,c),a.getValue=function(){return(l.getSelection()||[]).map(function(n){return n.id||n})},a.setValue=l.setSelection,a.setFilter=l.setFilter,a.setMinimumRequiredSelection=l.setMinimumRequiredSelection,a.closeCombo=l.closeCombo,a.disableFilter=l.disableFilter,a.enableFilter=l.enableFilter,a.setNewOptions=function(n){n&&i.extend(c,n);l.setNewOptions(n,!0);s.setNewUIOptions(n)},a.isOnlyInSelection=l.isOnlyInSelection,a.setOnlyInSelectionForGroups=l.setOnlyInSelectionForGroups,i.extend(a,u.default()),l.attachEvent("change",function(t){var i=t.selectedNodes&&t.selectedNodes.slice(0),u=t.affectedGroup,g=t.onlyInSelection,nt=function(n){var t={};for(n=n.realParent||n.parent,l.isOnlyInSelection(n.id)&&(n=n.realParent||n.parent);n;)t[n.id]=n,n=n.realParent||n.parent;return t},p=!0,h=!1,w=function(n,t){return t.filter(function(t){return n.indexOf(t.id)===-1})},c=u?i.filter(function(n){return n.id!==u.id}):i,b=function(n){p=!1;s.showEntities(n||l.getSelection().map(function(n){var t=n.name,i=n.id;return{name:t,id:i}}))},k,v,d,y,o,f;if(u&&c.length&&(k=r.populateParentNodes([u]),v=r.findChildrenOfParent(u.id,c,k),v.length&&!g?(h=!0,i=w(v,i)):(d=nt(u),y=c.filter(function(n){return d[n.id]&&!l.isOnlyInSelection(n.id)}).map(function(n){return n.id}),y.length&&(h=!0,i=w(y,i)))),o=i.length,o>1)for(f=0;f<o;f++)i[f].id===e&&(i.splice(f--,1),o=i.length);h?l.setSelection(i,undefined,!0):(a.fireEvent("selectionChanged",n,[a.getValue(),u,b]),p&&b())}),s.attachEvent("reset",function(){l.clearSelection()}),s.attachEvent("deselect",function(n){var t=l.getSelection(),i=t.filter(function(t){return t.id!==n});t.length!==i.length&&l.setSelection(i)}),a}Object.defineProperty(t,"__esModule",{value:!0});var u=require("../eventHandler"),i=require("../../vanillaExtension/vanilla"),r=require("../entityUtilities"),f=require("./geotabEntitiesNavigator"),e="GroupCompanyId",o=function(n,t,i){if(!n)throw new Error(i+" requires "+t+" parameter which was not provided!");};t.default=s})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.organizationFilter"),geotab.commonjs.generateExport("geotab.checkmate.ui.organizationFilter"));self.geotab && geotab.declare("geotab.checkmate.ui.organizationFilter");
(function(n,require,t){"use strict";function r(n,t){var r=n.querySelector("INPUT"),s=(n.getAttribute("data-link")||"").replace(/^#/,""),h=13,c=function(n){return t.getLinkTo(s,{q:n})},l=function(n){window.location.href=n},u=function(){return r.value.trim()},f=function(){return!!u()},e=function(){if(f()){var n=u(),t=c(n);l(t)}},a=function(n,t){return(n?i.addClasses:i.removeClasses)(t,"searchBoxClickable")},o=function(){return a(f(),r)},v=function(n){n.stopPropagation();e()};return r.addEventListener("keyup",function(n){n.keyCode===h?e():o()},!1),r.addEventListener("click",v,!1),r.value=(t.getState().q||"").toString().trim(),o(),{}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../../vanillaExtension/vanilla");t.default=r;n.declare("geotab.checkmate.ui");n.checkmate.ui.inMenuMarketplaceSearch=r})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.inMenuMarketplaceSearch"),geotab.commonjs.generateExport("geotab.checkmate.ui.inMenuMarketplaceSearch"));self.geotab && geotab.declare("geotab.checkmate.ui.inMenuMarketplaceSearch");
(function(n,require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=window.MutationObserver||window.WebKitMutationObserver||function(n){var t,i;return{observe:function(u,f){var o=Object.keys(r),e;for(t=u,e=o.length-1;e>-1;--e)if(r[o[e]]===f){i=o[e];break}t.addEventListener(i,n,!1)},disconnect:function(){t.addEventListener(i,n,!1)}}},u={childList:!0,subtree:!0},s=function(n){return n.type&&r[n.type]&&(n.addedNodes=[],n.removedNodes=[],h[n.type](n)),n},i=[],h={DOMNodeInserted:function(n){n.addedNodes.push(n.target)},DOMNodeRemoved:function(n){n.removedNodes.push(n.target)},DOMSubtreeModified:function(n){n.target.parentNode?this.DOMNodeInserted(n):this.DOMNodeRemoved(n)}},f={DOMNodeInserted:function(n){return n.addedNodes.length},DOMNodeRemoved:function(n){return n.removedNodes.length}},r={DOMNodeInserted:u,DOMNodeRemoved:u,DOMSubtreeModified:u},e={attach:function(n,t,u){var e=new o(function(n){var t=s(n);r[t.type]?u.call(e,t):(!f[t.type]||f[t.type](n))&&u.call(e,t)});e.observe(n,r[t]);i.push({elem:n,observer:e})},detach:function(n){for(var t=i.length-1;t>-1;--t)if(i[t].elem===n){i[t].observer.disconnect(n);i.splice(t,1);break}}};t.default=e;n.declare("geotab.vanillaExtension");n.vanillaExtension.mutationEventsObserver=e})(geotab,geotab.commonjs.generateRequire("geotab.vanillaExtension.mutationEventsObserver"),geotab.commonjs.generateExport("geotab.vanillaExtension.mutationEventsObserver"));self.geotab && geotab.declare("geotab.vanillaExtension.mutationEventsObserver");
(function(n,require,t){"use strict";function e(){var h=function(t,i){var r=u.Deferred(),f=function(n){return"brands."+n+"."+i+"[html]"};return t.length?n.privateRequire(t.map(f),function(n){var i=t.reduce(function(t,i){return t||n.getContent(f(i))},"");r.resolve(i||"")},null,!0):r.resolve(""),r.promise()},c,s=document.getElementById("brandId"),t=document.getElementById("customHomeId"),l=function(n){return n==="geotab"},e=n.location.getVendorPrefix(),o=[];return e.domain&&!l(e.domain)&&o.push(e.domain),e.prefix&&o.push(e.prefix),{addCustomHome:function(){return c=h(o,"customHome").then(function(n){return n?(i.injectHTML(t,n),r.show(t),!0):!1})},removeCustomHome:function(){return(c||u.resolved()).then(function(){return t?(r.hide(t),t.innerHTML="",!0):!1})},addBrand:function(n){return h(o,"brand").then(function(t){return t?(s.style.display="block",i.injectHTML(s,t),f.default.attach(s,"DOMSubtreeModified",function(){n&&n.resize("north")}),!0):!1})}}}Object.defineProperty(t,"__esModule",{value:!0});var i=require("../utils"),r=require("../vanillaExtension/vanilla"),f=require("../vanillaExtension/mutationEventsObserver"),u=require("./deferred");t.default=e})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.brand"),geotab.commonjs.generateExport("geotab.checkmate.brand"));self.geotab && geotab.declare("geotab.checkmate.brand");
(function(n,require,t){"use strict";function r(n,t,i,f,e){return i===void 0&&(i=1),h(n).then(function(n){return"url"in n?c(n,t,f).then(function(u){return r(u,t,i,f,e||n.url)}):(e&&(n.downloadUrl=e),u.resolve(n))}).catch(s(n,t,i,f))}var f=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var u=require("../deferred"),i=function(n){function t(t,i,r,u){i===void 0&&(i=!1);r===void 0&&(r=!1);var f=n.call(this,t.message)||this;return f.retry=i,f.displayAsWarning=r,f.additionalInfo=u,f}return f(t,n),t}(Error),e=function(n){var t=n[0];return typeof t=="string"?new i(new Error(t),!0):new i(new Error("Unexpected error"),!1,!1,t)},o=function(n,t,u,f,e){if(u>0)return u--,r(n,t,u,f);throw new i(new Error("AddinDownloadError"),!1,!0,e.additionalInfo);},s=function(n,t,i,r){return function(u){if(u.retry)return o(n,t,i,r,u);throw u;}},h=function(n){return u.resolve(n).then(JSON.parse)},c=function(t,i,r){var u=t.url;return n.promise(function(t,f){(r||n.privateRequire)([u],function(n,i){if(i&&i.length)f(e(i));else{var r=n.getContent(u);t(r)}},null,!0,i)})};t.default=r})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.getAddin"),geotab.commonjs.generateExport("geotab.checkmate.ui.getAddin"));self.geotab && geotab.declare("geotab.checkmate.ui.getAddin");
(function(n,require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(n,t){this.fontName=n;this.fonts=t;this.MAX_LOAD_TIME_IF_CACHED=300}return n.prototype.getCSSRule=function(){var t=this,n="";return this.fonts.forEach(function(i){var r=i.options;n+='\n                @font-face {\n                    font-family: "'+t.fontName+'";\n                    font-style: '+(r&&r.style)+";\n                    font-weight: "+(r&&r.weight)+";\n                    src: \n            ";i.files.forEach(function(t,r){n+="url("+t.url+') format("'+t.format+'")'+(r===i.files.length-1?";":",")});n+="}"}),n},n.prototype.load=function(){var t=this,i,r,u,f;this.fonts&&this.fonts.length&&(n.isSupported()?(i=this.fonts[0],i.files.length&&(r=i.files.filter(function(n){return n.format==="woff2"})[0],r&&(u=new window.FontFace(this.fontName,"url("+r.url+")",i.options),f=Date.now(),u.load(),u.loaded.then(function(){var i=Date.now();t.inCache=i-f<t.MAX_LOAD_TIME_IF_CACHED;t.inCache&&n.insertFont(t.getCSSRule())})))):n.insertFont(this.getCSSRule()))},n.insertFont=function(n){var t=document.createElement("style");t.innerHTML=n;document.head.appendChild(t)},n.isSupported=function(){return!!window.FontFace},n}();t.default=i})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.fontTools.fontLoader"),geotab.commonjs.generateExport("geotab.checkmate.ui.fontTools.fontLoader"));self.geotab && geotab.declare("geotab.checkmate.ui.fontTools.fontLoader");
(function(n,require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NOTOSANSJP_CONFIG=[{files:[{url:"../../fonts/notosans/NotoSansJP-Regular.woff2",format:"woff2"},{url:"../../fonts/notosans/NotoSansJP-Regular.woff",format:"woff"},{url:"../../fonts/notosans/NotoSansJP-Regular.otf",format:"opentype"}],options:{style:"normal",weight:"400"}},{files:[{url:"../../fonts/notosans/NotoSansJP-Bold.woff2",format:"woff2"},{url:"../../fonts/notosans/NotoSansJP-Bold.woff",format:"woff"},{url:"../../fonts/notosans/NotoSansJP-Bold.otf",format:"opentype"}],options:{style:"normal",weight:"700"}},{files:[{url:"../../fonts/notosans/NotoSansJP-Black.woff2",format:"woff2"},{url:"../../fonts/notosans/NotoSansJP-Black.woff",format:"woff"},{url:"../../fonts/notosans/NotoSansJP-Black.otf",format:"opentype"}],options:{style:"normal",weight:"900"}}]})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.fontTools.notosansjpconfig"),geotab.commonjs.generateExport("geotab.checkmate.ui.fontTools.notosansjpconfig"));self.geotab && geotab.declare("geotab.checkmate.ui.fontTools.notosansjpconfig");
(function(n,require,t){"use strict";function wt(t){var fi=y.default(),ei=at.default(),wi=ot.default(),fr={removeClickOnceLinks:ei.isMobile()},bi="geoSessionVersion",ir="DriveAppLink/",wt=n.getSharedVariable("default"),kt,er=700,ai,ki="addin-",di=t.center,bt=s.LocalizerConstructor(),ri=l.default.getInstance(null,bt),vi={page:""},ti=function(n){return n&&!n.isAborted&&ri.handleError(n),n},oi=a.CreateWithCaution(bt,ti,!1),ci=[],si=[],or=function(n){return function(t){return t.hash===n}},sr=function(n,i,u){si.some(or(n))?(wt.connection.call("Add",{typeName:"Audit",entity:{name:"MiscPageView",comment:n}}).beginInvoke(r.NOOP,r.NOOP).fail(wt.defaultErrorHandler),i||et.PureCustomerPageStart(n,{container:t.container,pageName:n.replace(ki,""),realPageName:n,translation:u})):wt.customButtons&&wt.customButtons.bind(n)},gt,dt,ii,li,yi,pi,hi,ni,hr=function(){var u=15,c=10,o=50,r=0,s=function(){return!!window.navigator.msPointerEnabled}(),f=function(n){if(s)return{x:n.pageX,y:n.pageY};var t=n.touches?n.touches[0]:n;return{x:t.clientX,y:t.clientY}},l=function(n){return r>1||n.touches&&n.touches.length>1?!0:!1},a=s?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",block:"touchend"}:{start:"touchstart",move:"touchmove",end:"touchend"},n=a,h=function(i){var s=f(i),y=s,p=null,e=!1,a=!1,b=typeof i.pointerType!="undefined"?i.pointerType==="touch":!0,w=function(i){var r=f(i),o;l(i)?(p=null,h(i)):(e&&Math.abs(r.x-y.x)>u&&(p=r.x-y.x>0?"right":"left",y=r),(e||Math.abs(r.x-s.x)>Math.min(c,u))&&(e===!1&&(s=f(i),t.fireEvent("onSwipeStart",t),e=!0),!a&&n.block&&(document.body.addEventListener(n.block,v,!0),a=!0)),e&&(o=r.x-s.x,t.fireEvent("onSwipeMove",t,o),v(i)))},h=function(i){document.body.removeEventListener(n.move,w,!0);document.body.removeEventListener(n.end,h,!0);document.body.removeEventListener("mouseout",h,!0);t.fireEvent("onSwipeEnd",t,p);a&&n.block&&window.setTimeout(function(){document.body.removeEventListener(n.block,v,!0);a=!1},1);e&&v(i);r=0},v=function(n){return n.stopPropagation(),n.preventDefault(),!1};i.isFake||(s.x<o&&b?(r=1,e=!1,document.body.addEventListener(n.move,w,!0),document.body.addEventListener(n.end,h,!0),document.body.addEventListener("mouseout",h,!0)):r++)},t=i.extend({enable:function(){document.body.addEventListener(n.start,h,!0)},disable:function(){document.body.removeEventListener(n.start,h,!0)},setMaxLeft:function(n){o=n},setSensitivity:function(n){u=n}},e.default());return t},ui=function(n,t){var l=ei.isMobile(),st=ei.isBrowserSupportTouchEvents()||ei.isBrowserSupportPointerEvents(),u=l?!0:!1,e=!1,o=!1,v=!1,k=-250,d=50,g=-200,tt=50,it=10,rt=0,ut=250,y=30,s="menuCollapsed",h="menuHidden",nt="animated",ft="animating",c,et=0,ot=!1,ht=function(){u||o?b():w();st&&at();window.setTimeout(function(){i.addClasses(n,nt)},1);t.style.display="block";t.addEventListener("click",function(){u||e?w():b();v=!0},!1);ot=!0},p=function(n){t.getElementsByClassName("menuToggle_show")[0].style.display=n?"block":"none";t.getElementsByClassName("menuToggle_hide")[0].style.display=n?"none":"block"},ct=function(){var n=250;return e?n+k:u?n+g:n},f=function(){var n;return function(){return n||(n=hr()),n}}(),w=function(){i.removeClasses(n,s+" "+h);u=!1;e=!1;window.setTimeout(function(){kt&&(kt.mode=kt.modes.WIDE);a();p(!1)},1);f().setMaxLeft(ut);f().setSensitivity(y)},b=function(){i.removeClasses(n,h);i.addClasses(n,s);u=!0;e=!1;window.setTimeout(function(){kt&&(kt.mode=kt.modes.NARROW);a();p(!0)},1);f().setMaxLeft(tt);f().setSensitivity(it)},lt=function(){i.removeClasses(n,s);i.addClasses(n,h);u=!1;e=!0;window.setTimeout(function(){kt&&(kt.mode=kt.modes.WIDE);a();p(!0)},1);d=Math.round(document.body.offsetWidth/10);f().setMaxLeft(d);f().setSensitivity(y)},at=function(){f().enable();var r,o,c=function(n,t,i){var r=n;return r<t&&(r=t),r>i&&(r=i),r},l=function(n,t){n.style.transform=t;n.style.msTransform=t;n.style.webkitTransform=t},w=function(n){n.style.removeProperty("transform");n.style.removeProperty("-webkit-transform")},b=function(){r=e?k:u?g:rt;o=u||e?k:g;t=!1},t,et=function(){i.removeClasses(n,nt);i.addClasses(n,ft);t=!0},ot=function(i){var u=c(r+i,o,rt);t||et();l(n,"translateX("+u+"px) translateZ(0)")},st=function(r){var o="",c="";r==="left"&&(u&&(c=" "+s,o=" "+h,u=!1,e=!0,f().setMaxLeft(d),f().setSensitivity(y)),u||e||(c=" "+h,o=" "+s,u=!0,e=!1,f().setMaxLeft(tt),f().setSensitivity(it)),v=!0);r==="right"&&(c=" "+h+" "+s,o="",u=!1,e=!1,f().setMaxLeft(ut),v=!0,f().setSensitivity(y));t&&(i.removeClasses(n,ft+c),i.addClasses(n,nt+o),w(n),window.setTimeout(function(){a();p(u||e);kt&&(kt.mode=kt.modes[u?"NARROW":"WIDE"])},120))};f().attachEvent("onSwipeStart",b);f().attachEvent("onSwipeMove",ot);f().attachEvent("onSwipeEnd",st)},vt=function(n){c=n;et=c.getPaneSize("west")},yt=function(){c&&!r.isBodyWidthBiggerThan(er+et)!==o&&(o=!o,o?l||b():v||l||w(),a());c&&!ot&&ht()},pt=function(){var t="resize",n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0);n.eventName=t;window.dispatchEvent(n)},a=function(){var t=l?e||!e&&!u:o&&!u&&!e;c&&c.setPaneConfig("west",{isOver:t,width:ct()});pt();n.style.opacity="0.99";n.style.opacity=""};return{show:w,hide:lt,collapse:b,resizeLayout:yt,setLayout:vt,isCollapsed:function(){return u},isMobile:function(){return l},isSmallScreenSize:function(){return o}}}(document.getElementById("menuId"),document.getElementById("menuToggle")),rr=function(){if(dt){var n=dt.getCurrentPage();n&&n.resize&&n.resize()}},cr=/[\W]/gi,lr=/[\s]/gi,ar=/[\?\&]/i,gi=function(n,t,i,u){var e=function(n,i,r,u){var e=function(n,i){var r=n[i];return(!r||typeof r=="string"?r:r[t]||r.en)||"Custom Add-In"},a=function(n){return encodeURIComponent((n||"").replace(lr,"_")).replace(cr,"").toLowerCase()},h=function(n,t){var e=n.url.search(ar),o=n.url.split("?"),s=o.length>1?o.pop():"",u=e>-1?n.url.substring(0,e):n.url,r=u.lastIndexOf("/"),h=u.lastIndexOf("."),c=a(t),f="",i;return r>=h?(i=u,r===i.length-1&&(i=i.substring(0,i.length-1),r=i.lastIndexOf("/")),f=i.substring(r+1,i.length)):f=u.substring(r+1,h),ki+(c?c+"-":"")+f.replace(/\./g,"_")+(s?"?"+s:"")},o={page:function(n){return{addinName:u,supportEmail:i,addinPath:r,icon:n.icon?s(n.icon,"/"+r):null,url:l(n.url,r),mainFileFolder:v(n.url,r),translation:y(n.url,r),hash:h(n,u),oldHash:h(n,""),path:n.path||"",menuName:e(n,"menuName")}},menu:function(n){return{addinName:u,supportEmail:i,addinPath:r,icon:n.icon?s(n.icon,"/"+r):null,menuId:n.menuId.replace(/\.\\\/:\s,/gi,""),path:n.path||"",menuName:e(n,"menuName")}},button:function(n){return{addinName:u,supportEmail:i,addinPath:r,icon:n.icon?s(n.icon,"/"+r):null,click:l(n.click,r),page:n.page,buttonName:e(n,"buttonName")}}},f=function(n){return n.indexOf("//")===-1&&n.indexOf("data:")!==0},s=function(n,t){var i=n;return i&&f(i)&&(i=t+(i[0]==="/"?i.substring(1):i)),i},v=function(n,t){var i,r;return i=(n||"").split("/"),i.pop(),r=i.join("/"),(f(n)?"../"+t:"")+(r?r+"/":"")},y=function(n,i){var u,e,r;return u=(n||"").split("/"),u.pop(),e=u.join("/"),r=(f(n)?i:"")+(e?e+"/":"")+"translations/"+t+".json",f(r)?c(r):r},c=function(n){var t=n.lastIndexOf("."),r=n.substr(0,t),i=n.substr(t+1);return r.replace(/\//g,".")+(i!=="js"?"["+i+"]":"")},l=function(n,t){var i=n;return f(n)&&(i=c(t+n)),i};return(n||[]).map(function(n){return n.url?o.page(n):n.menuId?o.menu(n):o.button(n)})},o=function(n){var t=f.Deferred();return vt.default(n,u).then(t.resolve).catch(t.resolve),t},s=function(n){return i||n.isSigned};return f.together(n.map(o)).then(function(n){return n.filter(s).map(function(n){if("error"in n)return n;var i="",t=n.downloadUrl||"";i="downloadUrl"in n?t.substring(t.indexOf("apps"),t.lastIndexOf("/")+1):"AddIns/"+n.name.replace(/\s/ig,"")+"/";try{return e(n.items,n.supportEmail,i,n.name)}catch(r){return{error:r,addinName:n.name}}})}).then(function(n){return[].concat.apply([],n).filter(r.echo)})},nr=f.Deferred(),vr=function(){wt.navigator=dt;wt.defaultErrorHandler=ti;wt.hash=ai;wt.localizer=bt;wt.pageLoadingPromise=nr.promise();dt.pageChange(sr);wi.addCustomHome();window.addEventListener("resize",function(){ui.resizeLayout();rr()},!1)},yr=function(n,t,i){if(t.isNetworkException)return n.translateKey("UnknownAddinError").replace("{1}",n.translateKey("WarningFailedGet"));var r=void 0;return r=i?n.translateKey("KnownAddinError").replace("{0}",i):n.translateKey("UnknownAddinError"),r.replace("{1}",t.message)},pr=function(n,s,l,a){var vt,v=wt.navigator,y=st.default(s,l.acl),yt=function(n){return n.filter||[]},er=function(){var n=ii?ii.get():[];kt||(kt=new c.MainMenu(t.mainMenu,t.west,y,b,fr),kt.build(),i.hide(t.mainMenu),bt.translateHtml(t.mainMenu).andThen(function(r){tr.initialize(r);kt.filter=yt(n);et(dt.getCurrentPageName(),dt.getState().type);kt.mode=kt.modes.WIDE;i.show(t.mainMenu);ui.resizeLayout();var u=document.body.getElementsByClassName("marketplaceSearchBox")[0];u&&tt.default(u.parentNode.parentNode,wt.navigator)}))},p=function(n){return n&&l.acl.indexOf(n)>-1},pt=p("LaunchAddIn"),or=function(n,t){return pt?gi([n],b,wt.systemSettings.allowUnsignedAddIn,t).then(li).then(lr):f.resolved()},sr=function(n,t){return gi([n],b,wt.systemSettings.allowUnsignedAddIn,t).then(function(n){ci=ci.filter(function(t){var i=t.hash||t.menuId||t.click;return!n.some(function(n){var t=n.hash||n.menuId||n.click;return t===i})});n.forEach(function(n){n.hash&&y.removeCid(n.hash)});n.length>0&&kt.removeItems(n);var t=v.getCurrentPageName();t&&n.some(function(n){return n.hash===t})&&gt.set(vi);dt.removeCustomPages(n);wt.customButtons.remove(n);wr(n)})},li=function(n){var t,r,i;return ci=ci.concat(n),t=n.filter(function(n){return n.error}),t.length&&t.forEach(function(n){var t=n.error,i=yr(bt,t,n.addinName||null);fi.displayWarning(i)}),si=n.filter(function(n){return(n.hash||n.menuId)&&n.path!==ir}),si.forEach(function(n){n.hash&&y.addCid(n.hash,"")}),si.length>0&&kt.addItems(si),dt.addCustomPages(si),wt.customButtons.add(ci),i=v.getCurrentPageName(),r=nr.state()==="resolved",i&&wt.customButtons.bind(i,undefined,r),bi||ki(!0,ft),n},et=function(n,t){kt&&kt.activateItem(n,r.htmlEscape(t));(ui.isMobile()||ui.isSmallScreenSize())&&ui.collapse()},w=y.hasAccessToPage,b=s.language,ot=wt.systemSettings,ai=function(n){return w(n)?!0:(gt.set(vi),fi.displayPopupNotification({message:bt.translateKey("WrongPageWarning")}),!1)},bi,ki=function(n,t){var i=gt.get();if(i.page){if((i.page.substring(0,6)!=="addin-"||n)&&ai(i.page))return gt.fireEvent("change",gt,i),!0}else return gt.fireEvent("change",gt,{page:t}),!0;return!1},tr=function(){var n={};return{initialize:function(t){n=t.original.reduce(function(n,i,r){return n[i]=t.translation[r]||i,n},{})},translatePath:function(t){return(t||[]).map(function(t){return n[t]||t})}}}(),hr=function(n){return n.filter(function(n){return(n.hash||n.page)&&n.path!==ir}).reduce(function(n,t){return t.hash?n.pages.push(t):t.page&&n.buttons.push(t),n},{buttons:[],pages:[]})},cr=function(n){return Object.keys(n.reduce(function(n,t){return n[t.addinName||""]||(n[t.addinName]=!0),n},{}))},ur=function(n){var t=[],i;return function(r){t=t.concat(r||[]);i&&clearTimeout(i);i=setTimeout(function(){n(t);t.length=0},1)}},lr=ur(function(n){var t=hr(n||[]),i;n.length&&(i=void 0,t.pages.length&&t.buttons.length?i=bt.translateKey("MultipleAddinInstalled"):t.pages.length?i=ar(t.pages):t.buttons.length&&(i=vr(t.buttons)),i&&fi.displayInfo(i,10))}),ar=function(n){var i="",e=function(n,t){for(var r=[],i=0;i<n.length;++i){if(n[i]!==t[i])break;r.push(n[i])}return r},u=(n||[]).reduce(function(n,t){var r=(kt&&kt.getFullPath(t.hash)||[]).reverse(),u=r.length===1,i;return n.hash[t.addinName]?(i=n.hash[t.addinName],i.isFirstLevelAddin=i.isFirstLevelAddin&&u,i.path=i.isFirstLevelAddin?[]:e(i.path,r),i.link=i.link!==t.hash?"":i.link):(i={isFirstLevelAddin:u,name:t.addinName,link:t.hash,path:r},n.hash[t.addinName]=i,n.addins.push(i)),n},{addins:[],hash:{}}).addins,t,f;return u.length&&(u.length>1?i=bt.translateKey("AddinsInstalled"):(t=u[0],f=r.htmlEscape(t.name),i=t.path.length?bt.translateKey("AddinInDeepLevelMenuInstalled").replace("{1}",tr.translatePath(t.path).map(r.htmlEscape).join(" > ")):bt.translateKey(t.isFirstLevelAddin?"AddinIn1LevelMenuInstalled":"AddinInstalled"),i=i.replace("{0}",t.link?'<a href="'+dt.getLinkTo(t.link)+'">'+f+"<\/a>":f))),i},vr=function(n){var t=n.reduce(function(n,t){var i=(t.page||"").toLowerCase(),r=bt.hasKey(i);return n.hash[i]||(n.hash[i]=!0,n.pages.push({known:r,name:r?bt.translateKey(i):t.page,link:t.page})),n},{hash:{},pages:[]}).pages.sort(function(n,t){return n.known&&!t.known?-1:!n.known&&t.known?1:0}),i=t.reduce(function(n,t){return n+(t.known?1:0)},0),u=n.length===1,s=u?n[0].addinName:"",f,e,o;return i?(o=i===t.length,f=o?bt.translateKey(u?"CustomButtonInstalled":"CustomButtonsInstalled"):bt.translateKey("CustomAndUnknownButtonsInstalled"),e=t.slice(0,i).map(function(n){return'<a href="'+dt.getLinkTo(n.link)+'">'+n.name.trim()+"<\/a>"}).join(", ")):f=bt.translateKey(u?"UnknownCustomButtonInstalled":"UnknownCustomButtonsInstalled"),f.replace("{0}",r.htmlEscape(s)).replace("{1}",e)},pr=function(n){var f,t=i.create("div",{"class":"orgFilterState noTranslate"}),h=i.create("div",{"class":"ellipsis orgFilterSelection"}),o=i.create("span",{"class":"ellipsis orgFilterSelectionAmount"}),c=bt.translateKey("all"),s=i.createIcon("close-cross","closeIcon orgFilterReset"),u=function(n,t){i.toggle(s,!!n);h.textContent=n||c;o.textContent=t&&t>1?t+" "+bt.translateKey("Groups"):n||c},l=bt.translateKey("And").toLowerCase();return u(),n.appendChild(t),t.appendChild(h),t.appendChild(o),t.appendChild(s),s.addEventListener("click",function(){f.fireEvent("reset",f)},!1),f=i.extend(e.default(),{showEntities:function(n){if(n.length&&!r.isEntireOrganization(n)){var t=n.slice(),i=t.pop();t.length?u(t.map(function(n){return n.name}).join(", ")+" "+l+" "+i.name,n.length):u(i.name,1)}else u()},getFilterElt:function(){return n},setNewUIOptions:r.NOOP})},wr=ur(function(n){var i,t=cr(n);t.length&&(i=t.length>1?bt.translateKey("MultipleAddinsRemoved"):bt.translateKey("AddinRemoved").replace("{0}",t[0]),fi.displayInfo(i,10))}),dr=["helpGuide","dashboard","map","devices","helpSupport"].filter(w),at=t.filter,d=n.getCredentials(),ft;vi.page=dr[0]||"";ft=s.defaultPage&&w(s.defaultPage)?s.defaultPage:vi.page;v.setCredentials(d);v.setHomePage(ft);wi.removeCustomHome();vt=gi(pt&&ot.customerPages?ot.customerPages:[],b,ot.allowUnsignedAddIn,d);bi=ki(!1,ft);ri.setConnection(n);bt.setCultureInfo(n,s,!1,function(){var f,e=function(){i.removeClasses(at,"hideFilter");wt.notificationCenter.detachEvent("Group.Add",{},e)},c=function(){var t="customReports",i=function(n,t){return n&&t&&n.type!==t.type},n=function(n){return n&&(n.page||s.defaultPage)};return function(r,u){return!r||n(r)!==n(u)||n(u)===t&&i(r.groups,u.groups)}}();ni=h.default(t.container,{panes:{west:{isOver:!1,hideResizerWithPane:!0}}});wi.addBrand(ni).then(function(n){n&&ni.resize("north")});ni.attachEvent("resize.all",rr);ni.show("north");ni.resize("north");ni.show("west");ni.show("center");ui.setLayout(ni);ei.isBrowserSupportTouchEvents()&&(i.addClasses(di,"touchScrollClass"),i.addClasses(di,"hardwareAccelerationClass"));gt.attachEvent("change",function(n,t){var i=dt.getCurrentPageName();n&&c(t,n)&&ai(i)&&et(i,n.groups.type)});hi=lt.default(n,ti);wt.networkStateMonitor=ut.default(ri,bt,n,hi);wt.notificationCenter=ht.NotificationCenter(n,hi);wt.localeSettingsMonitor=ct.default(n,bt,wt.notificationCenter,s,wt.defaultErrorHandler);wt.notificationCenter.attachEvent("currentUserSecurityGroupsUpdate",{},function(){alert(bt.translateKey("CurrentUserSecurityGroupsChangeWarning"));oi.setItem("SecurityGroupChanged",new Date);window.location.reload()});wt.notificationCenter.attachEvent("currentUserCompanyGroupsUpdate",{},function(){alert(bt.translateKey("CurrentUserGroupsChangeWarning"));window.location.reload()});wt.currentUser=s;wt.notificationCenter.attachEvent("currentUserUpdate",{},function(n){wt.currentUser=n.data;wt.filterUsers=r.filterUsersFn(n.data)});kr(bt);wt.notificationCenter.attachEvent("currentUserFeaturePreviewUpdate",{},function(){br(bt.translateKey("ExperimentalSettingsChangedReload"))});wt.notificationCenter.attachEvent("customerPageChanged",{},function(n){switch(n.verb){case"Add":or(n.data.addin,d);break;case"Remove":sr(n.data.addin,d);break;default:return}});wt.notificationCenter.attachEvent("User.Remove",{},function(n){n.data&&n.data[0]&&n.data[0]===wt.currentUser.id&&(alert(bt.translateKeyFormat("EntityWasRemovedWarning",["user"])),wt.loggedInStatusBox&&wt.loggedInStatusBox.logout())});wt.networkStateMonitor.attachEvent("NetworkConnectionFound",ri.connectionFound);wt.networkStateMonitor.attachEvent("NetworkConnectionLost",ri.connectionLost);yi=it.NotificationsService(n,wt.entitiesLoader,ti,bt,hi,dt.getLinkTo,p);pi=rt.default(n,ti,bt,hi,wt.startVersion);p("NotificationList")&&yi.start();pi.start();wt.networkStateMonitor.attachEvent("NetworkConnectionFound",function(n){n.wasServiceAlive&&pi.checkVersion()});l.containsAny&&(wt.filter=g.default(t.filter,wt.connection,pr(t.filter),l,{strings:{selectAllGroupText:bt.translateKey("EverythingInFilterText"),watermarkText:bt.translateKey("filterWatermarkText"),nothingFoundText:bt.translateKey("nothingFoundText"),levelUpText:bt.translateKey("levelUpText"),deselectAllText:bt.translateKey("deselectAllText"),selectAllText:bt.translateKey("selectAllText"),entireOrganizationText:bt.translateKey("GroupCompanyId")},isInputFirstElement:!0,value:ii.get().filter,minimumSelection:["GroupCompanyId"],type:nt.EntityTypes.GROUPS,getNodeName:bt.getGroupDescriptionRecursive,customClassForFilterList:"organizationFilter",searchEntities:function(n,t,r,u,f){this.base.searchEntities(n,"",r,function(n){var f=t.toLowerCase(),r=i.extend(!1,{},n),e=o.recursiveSearchByTree(n,f);r.groups=o.sortByBranchesAndLeaves(e);u(r,r)},f)}}),i.addClasses(at,"noTranslate hideFilter"),wt.filter.attachEvent("selectionChanged",function(n){ii.set({filter:n||[]});kt.filter=yt(ii.get())}),ii.attachEvent("change",function(n){wt.filter.setValue(n.filter||[]);f&&f()}),wt.entitiesLoader.groups.getItemsByValue().then(function(n){n.length>1?i.removeClasses(at,"hideFilter"):wt.notificationCenter.attachEvent("Group.Add",{},e)}));wt.notificationsService=yi;wt.serviceOfflineManager=pi;a&&a(yi);wt.uiConfiguration=l;wt.uiConfiguration.hasAccessTo=p;wt.uiConfiguration.hasAccessToPage=w;wt.customButtons=k.default(n,v,wt.uiConfiguration,wt.filter,ti,bt);wt.channel=hi;bt.translateHtml([t.header,t.west],r.NOOP);Object.keys(u.lang).forEach(function(n){u.lang[n]=bt.translateKey(u.lang[n].toLowerCase())||"***"+u.lang[n]});er();vt.then(li).then(function(){et(dt.getCurrentPageName(),dt.getState().type)});setTimeout(function(){nr.resolve(undefined)},1)},ri.handleError)},wr=function(){v.default({url:"/apiv1",type:"json",data:"JSON-RPC="+JSON.stringify({method:"GetVersion",params:{}}),success:function(t){var r=oi.getItem(bi),i=t&&t.result;if(!r&&i)try{oi.setItem(bi,i,!0)}catch(u){console.error(u)}if(i&&r&&r!==i){try{oi.setItem(bi,i,!0)}catch(u){console.error(u)}n.isOldVersion=!0}},error:r.NOOP})},br=function(n){fi.displayPopupNotification({message:n,link:{name:bt.translateKey("ReloadNow").toLowerCase(),click:function(n){n.preventDefault();window.location.reload()}},seconds:5})},kr=function(n){var e=n.translateKey("RegionalSettingsChanged"),o=n.translateKey("LanguageChangedReload"),s=n.translateKey("ReloadNow"),h=n.translateKey("SwitchLanguageBack"),t=n.getCultureInfo().language,c=n.getLanguageName(t),f="",u;n.attachEvent("cultureInfoReady",function(){var t=n.getCultureInfo().language;f=n.getLanguageName(t)});n.attachEvent("cultureInfoChange",function(n){n.isLanguageChanged&&n.showChanged&&(u||(u=ft.default(document.body,bt,{allowHTMLContent:!0,width:430})),u.confirm(e,o.replace("{0}",f),s,h.replace("{0}",c),function(){window.location.reload()},function(){var u=wt.entitiesLoader,f=wt.defaultErrorHandler,e=wt.notificationCenter,n={id:wt.currentUser.id};u.users.getItemById(n.id).then(function(r){return n=i.extend({},r,{language:t})}).then(function(n){return u.users.setItem(n)}).then(function(){bt.setCultureInfo(wt.connection,{dateFormat:n.dateFormat,language:n.language,isMetric:n.isMetric,fuelEconomyUnit:n.fuelEconomyUnit,timeZoneId:n.timeZoneId,firstDayOfWeek:n.firstDayOfWeek},!1,r.NOOP,ti);bt.setDefaultLanguage(t);e.fireEvent("User.Set",{},[n.id])}).catch(f)}))})},tr,ur;ei.isIFrameHosted()&&(tr="GeoIFrameReferrer",ur=oi.getItem(tr),r.isExternalReferrer(ur,window.location.host)||oi.setItem(tr,n.location.referrer,!0));wr();ai=b.default();gt=ai.getState("groups");dt=p.default(di,gt,"",bt,ri,fi);dt.attachEvent("fullscreen",function(){ui.collapse()});ii=ai.getState("settings");vr();wt.languageSelector=d.default(t.languageSelector,wt.localizer);wt.loggedInStatusBox=w.default(wt,t.loginSection,ii,function(t,i,r,u,f){n.isOldVersion?window.location.reload():t&&pr(i,r,u,f)},r.NOOP,ti,r.NOOP);bt.attachEvent("cultureInfoReady",function(n){if(wt.languageSelector.setPageLanguage(n.language),n.language==="ja"){var t=new yt.default("Noto Sans Japanese",pt.NOTOSANSJP_CONFIG);t.load()}});li=gt.get();li&&li.page&&li.page.indexOf(ki)===-1&&gt.fireEvent("change",gt,{page:li.page})}Object.defineProperty(t,"__esModule",{value:!0});var s=require("../../localizer"),r=require("../../utils"),i=require("../../vanillaExtension/vanilla"),u=require("../../vanillaExtension/vanillaUI"),h=require("../../vanillaExtension/vanillaLayout"),c=require("./modules/mainMenu/mainMenu"),l=require("../errorHandler"),e=require("../eventHandler"),a=require("../storage/html5Storage"),v=require("../transport"),y=require("./notifier"),p=require("./embeddedPageNavigator"),w=require("./loggedInStatusBox"),b=require("./urlState"),k=require("./customButton"),d=require("./modules/languageSelector/languageSelector"),g=require("./organizationFilter"),nt=require("./geotabEntitiesNavigator"),tt=require("./inMenuMarketplaceSearch"),it=require("../notificationsService"),rt=require("./serviceOfflineManager"),ut=require("./networkStateMonitor"),ft=require("./confirmDialog"),et=require("../startPage"),ot=require("../brand"),st=require("../pagesSecurity"),ht=require("../notificationCenter"),ct=require("../localeSettingsMonitor"),lt=require("../channel/channel"),at=require("../browser"),f=require("../deferred"),vt=require("./getAddin"),yt=require("./fontTools/fontLoader"),pt=require("./fontTools/notosansjpconfig"),o=require("../tree");t.default=wt})(geotab,geotab.commonjs.generateRequire("geotab.checkmate.ui.defaultPage"),geotab.commonjs.generateExport("geotab.checkmate.ui.defaultPage"));self.geotab && geotab.declare("geotab.checkmate.ui.defaultPage");
(function(n,require,t){"use strict";var i,r,u,f;Object.defineProperty(t,"__esModule",{value:!0});i=require("./checkmate/ui/defaultPage");n.addLoaded(["geotab.default"]);document.getElementById("oldIEPrompt")||(r=n.location.getVendorPrefix(),u=r.domain,u&&(f=document.querySelector("head title"),f.text=n.location.getVendorTitle()),n.DEBUG&&n.lazyRequire(["geotab.checkmate.debug.debugTool"],function(){for(var r=n.checkmate.debug.debugTool(),i=[],t=0;t<i.length;t++)switch(i[t].status){case"pending":r.addRequest(i[t].id,i[t].url,i[t].taskName,i[t].params);break;case"success":r.requestSuccess(i[t].id,i[t].time,i[t].response);break;case"error":r.requestError(i[t].id)}}),n.loadDomainCss(function(){i.default({center:document.getElementById("checkmateContent"),header:document.getElementById("north"),container:document.body,filter:document.getElementById("organizationFilter"),mainMenu:document.getElementById("navigationId"),loginSection:document.getElementById("loginBar"),west:document.getElementById("menuId"),languageSelector:document.getElementById("languageSelectorContainer")})}))})(geotab,geotab.commonjs.generateRequire("//geotab/default.js"),geotab.commonjs.generateExport("//geotab/default.js"));self.geotab && geotab.declare("//geotab/default.js");
